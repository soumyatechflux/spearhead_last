;/*FB_PKG_DELIM*/

__d("AdsAIMessengerConstants",["fbt","BotFeedbackKind"],(function(a,b,c,d,e,f,g,h){"use strict";b={title:h._("__JHASH__AVG11ix_BXJ__JHASH__"),value:(a=c("BotFeedbackKind")).BOT_FEEDBACK_NEGATIVE_HELPFUL};d={title:h._("__JHASH__wSP_qVisuoi__JHASH__"),value:a.BOT_FEEDBACK_NEGATIVE_PERSONALIZED};e={title:h._("__JHASH__3krIxTLZtOD__JHASH__"),value:a.BOT_FEEDBACK_NEGATIVE_ACCURATE};f={title:h._("__JHASH__O_hReSSI8n7__JHASH__"),value:a.BOT_FEEDBACK_NEGATIVE_SAFE};c={title:h._("__JHASH__nQnVxqmzNMI__JHASH__"),value:a.BOT_FEEDBACK_NEGATIVE_CLARITY};var i={title:h._("__JHASH__fdY6Ska9rb-__JHASH__"),value:a.BOT_FEEDBACK_NEGATIVE_OTHER};b={excludingOther:[b,d,e,f,c],feedbackOptionOther:i};d=new Map([[a.BOT_FEEDBACK_NEGATIVE_GENERIC,"ads_ai_submit_negative_feedback_generic"],[a.BOT_FEEDBACK_NEGATIVE_HELPFUL,"ads_ai_submit_negative_feedback_not_relevant"],[a.BOT_FEEDBACK_NEGATIVE_ACCURATE,"ads_ai_submit_negative_feedback_not_accurate"],[a.BOT_FEEDBACK_NEGATIVE_INTERESTING,"ads_ai_submit_negative_feedback_repetitive"],[a.BOT_FEEDBACK_NEGATIVE_SAFE,"ads_ai_submit_negative_feedback_harmful"],[a.BOT_FEEDBACK_NEGATIVE_CLARITY,"ads_ai_submit_negative_feedback_hard_to_understand"],[a.BOT_FEEDBACK_NEGATIVE_PERSONALIZED,"ads_ai_submit_negative_feedback_not_personalized"],[a.BOT_FEEDBACK_NEGATIVE_OTHER,"ads_ai_submit_negative_feedback_other"]]);e=h._("__JHASH__5X9UcGT23B8__JHASH__");g.FEEDBACK_OPTIONS=b;g.BotFeedbackKindToLoggerEventMapping=d;g.feedbackModalHeader=e}),226);
__d("randomShuffleSeeded",["Alea"],(function(a,b,c,d,e,f,g){function a(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];var f=c("Alea").apply(void 0,d);function g(a){return Math.floor(f()*a)}for(var h=a.length-1;h>0;h--){var i=g(h+1);if(i!=h){var j=a[i];a[i]=a[h];a[h]=j}}return a}g["default"]=a}),98);
__d("AdsAIMessengerUtils",["AdsAIMessengerConstants","AdsAISitevarConfig","I64","RelayHooks","randomShuffleSeeded","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function k(a){return m(a.senderId)}function l(a){return a.botResponseId!=null&&a.botResponseId.startsWith("ads_ai_shiba")}function a(a){return k(a)||l(a)}function m(a){return c("AdsAISitevarConfig").bot_id!=null&&(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).of_string(c("AdsAISitevarConfig").bot_id))}function b(){var a=d("RelayHooks").useActorID();return j(function(){var b=d("AdsAIMessengerConstants").FEEDBACK_OPTIONS.excludingOther,e=d("AdsAIMessengerConstants").FEEDBACK_OPTIONS.feedbackOptionOther;b=[].concat(b);c("randomShuffleSeeded")(b,parseInt(a,10)).push(e);return b},[a])}function e(a){if(a==null)return;return parseInt(a.slice(-16),10)}g.isMessageFromAdsAIBot=k;g.isMessageFromAdsAIShibaBot=l;g.isMessageFromAdsAI=a;g.isAdsAIParticipant=m;g.useRandomizedAdsAINegativeFeedbackOptions=b;g.generateInstanceIDFromOTID=e}),98);
__d("AdsMessengerContext.react",["AdsAIMessengerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isMessageFromAdsAI:d("AdsAIMessengerUtils").isMessageFromAdsAI,isMessengerInAds:!1});function a(){return i(j)}g.AdsMessengerContext=j;g.useAdsMessengerContext=a}),98);
__d("BotFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M104.255 922c-.41 0-.755.458-.755 1s.346 1 .755 1c.409 0 .755-.458.755-1s-.346-1-.755-1m-3.505.36v-.234a.126.126 0 0 0-.126-.126H100v.486h.624c.07 0 .126-.057.126-.126m.033 1.14H100v.5h.843a.155.155 0 0 0 .157-.153v-.136c0-.115-.1-.211-.217-.211",transform:"translate(352 156.5)"}),i.jsx("path",{d:"M108.5 922h-.5v2.5a.5.5 0 1 1-1 0V922h-.5a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zm-4.245 3c-.968 0-1.755-.897-1.755-2s.787-2 1.755-2c.968 0 1.755.897 1.755 2s-.788 2-1.755 2zM102 923.843c0 .638-.519 1.157-1.156 1.157H99.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h1.124c.621 0 1.126.505 1.126 1.126v.234c0 .172-.042.333-.111.479.223.22.361.526.361.863v.141zm7.94-2.486v-.002c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.214-.917-.277-1.792-.346a28.09 28.09 0 0 0-4.254 0c-.768.061-1.278.116-1.882.382a3.465 3.465 0 0 0-1.541 1.538l-.013.033c-.236.498-.309.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.069.837.147 1.334.417 1.916.326.629.883 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.025.007c.475.214.918.277 1.792.346a28.103 28.103 0 0 0 4.254 0c.767-.061 1.277-.116 1.882-.382a3.469 3.469 0 0 0 1.541-1.538l.013-.034c.235-.497.309-.983.377-1.824.07-.936.07-2.349 0-3.285z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("CautionCircleFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"m456.998 1077.072-.25 2.99a.75.75 0 0 1-1.495 0l-.25-2.99a.87.87 0 0 1-.003-.062c0-.497.374-1.01 1-1.01s1 .513 1 1.01a.87.87 0 0 1-.002.062M456 1083a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1m0-9.5a6 6 0 1 0 .001 12 6 6 0 0 0 0-12"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("DocumentTranslationStatusContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("useDocumentTranslationStatusObserver",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!1),b=a[0],c=a[1];i(function(){var a=document.documentElement;if(a==null)return;var b=new MutationObserver(function(){a.className.match("translated")?c(!0):c(!1)});b.observe(a,{attributeFilter:["class"],attributes:!0,characterData:!1,childList:!1});a.className.match("translated")&&c(!0);return function(){return b.disconnect()}},[]);return b}g["default"]=a}),98);
__d("DocumentTranslationStatusProvider.react",["DocumentTranslationStatusContext","react","useDocumentTranslationStatusObserver","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){a=a.children;var b=c("useDocumentTranslationStatusObserver")();return i.jsx(c("DocumentTranslationStatusContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(c("DocumentTranslationStatusContext"));if(a)return c("uuidv4")();else return void 0}g.DocumentTranslationStatusProvider=a;g.useTranslationKeyForTextParent=b}),98);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBackgroundImage.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{display:"x1lliihq",$$css:!0},root:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var b=a.alt,d=a.displayBlock,e=a.draggable,f=a.loading,g=a.onError,h=a.onLoad;a=a.src;return i.jsx(c("CometImage.react"),{alt:b,draggable:e,loading:f||void 0,objectFit:"cover",onError:g,onLoad:h,src:a,xstyle:[j.root,d&&j.block]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return i.jsx(d("react-strict-dom").html.div,{style:[j.root,b],children:i.jsx(d("react-strict-dom").html.div,{style:[j.imageContainer,d("XPlatReactEnvironment").isWeb()?j.imageContainerWeb:j.imageContainerVR],children:i.jsx(c("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometDefaultKeyCommands",["fbt","CometKeys","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze(babelHelpers["extends"]({global:{label:h._("__JHASH__vTbx5ula3Ub__JHASH__"),shortcuts:{bugReporting:{command:{command:!0,key:c("CometKeys").B},description:h._("__JHASH__6Etcdu16Wbs__JHASH__"),isHiddenCommand:c("gkx")("22618")?void 0:!0},search:{command:{key:c("CometKeys").SLASH},description:h._("__JHASH__65GAtmpimeL__JHASH__"),singleCharDescription:h._("__JHASH__HqO0KsGMlbJ__JHASH__")},toggleDarkMode:{command:{alt:!0,key:c("CometKeys").M},description:h._("__JHASH__DFgslFbdJR5__JHASH__"),isHiddenCommand:c("gkx")("22802")?void 0:!0},toggleNub:{command:{key:c("CometKeys").QUESTION,shift:!0},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")},toggleNubFunctionKey:{command:{key:c("CometKeys").F1},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")}}},groups:{label:h._("__JHASH__5ycXpLiowDK__JHASH__"),shortcuts:{groupSearch:{command:{command:!0,key:c("CometKeys").SLASH},description:h._("__JHASH__UwVHz4hi5qC__JHASH__"),order:6},newGroupEvent:{command:{key:c("CometKeys").E},description:h._("__JHASH__bXPAFcKoHVs__JHASH__"),order:1,singleCharDescription:h._("__JHASH__B9NoOgWqa7a__JHASH__")},viewNextPinnedGroup:{command:{alt:!0,key:c("CometKeys").DOWN},description:h._("__JHASH__ryvFG_XPxff__JHASH__"),order:5},viewNextVideo:{command:{alt:!0,key:c("CometKeys").RIGHT},description:h._("__JHASH__Co4R3_i3LJX__JHASH__"),order:3},viewPreviousPinnedGroup:{command:{alt:!0,key:c("CometKeys").UP},description:h._("__JHASH__ghiGJdiPxiO__JHASH__"),order:4},viewPreviousVideo:{command:{alt:!0,key:c("CometKeys").LEFT},description:h._("__JHASH___UWyiXo4b1A__JHASH__"),order:2}}},newsfeed:{label:h._("__JHASH__3bhd46OOtgQ__JHASH__"),shortcuts:{commentStory:{command:{key:c("CometKeys").C},description:h._("__JHASH__S60IOgnbCS6__JHASH__"),singleCharDescription:h._("__JHASH__8eG9xxpUBK___JHASH__")},likeStory:{command:{key:c("CometKeys").L},description:h._("__JHASH__DX2kjgJe1lw__JHASH__"),singleCharDescription:h._("__JHASH__qzjRCdVl8UB__JHASH__")},newPost:{command:{key:c("CometKeys").P},description:h._("__JHASH__gCb4Qn8jJYV__JHASH__"),singleCharDescription:h._("__JHASH__rWgYV326oik__JHASH__")},openAttachment:{command:{key:c("CometKeys").O},description:h._("__JHASH__PENXVObp6HH__JHASH__"),shouldStopPropagation:!1,singleCharDescription:h._("__JHASH__9ZqYYIUi2ux__JHASH__")},scrollNext:{command:{key:c("CometKeys").J},description:h._("__JHASH__WOloUQmdmos__JHASH__"),singleCharDescription:h._("__JHASH__pjB1urhcDtz__JHASH__")},scrollPrevious:{command:{key:c("CometKeys").K},description:h._("__JHASH__8Xw825Irnyt__JHASH__"),singleCharDescription:h._("__JHASH__X1clBpl2A59__JHASH__")},searchContacts:{command:{key:c("CometKeys").Q},description:h._("__JHASH__tNIUJ6lgcTQ__JHASH__"),singleCharDescription:h._("__JHASH__ZOEvffglsxE__JHASH__")},seeMore:{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__xSvc24O-mfg__JHASH__"),singleCharDescription:h._("__JHASH__2JfkN_FFXsH__JHASH__")},shareStory:{command:{key:c("CometKeys").S},description:h._("__JHASH__B_iW89OoYd8__JHASH__"),singleCharDescription:h._("__JHASH__Z6OsPJdfk0___JHASH__")}}},photoViewer:{label:h._("__JHASH__BXWDUC-L-Ri__JHASH__"),shortcuts:{fullscreen:{command:{key:c("CometKeys").F},description:h._("__JHASH__B9xS9GGbzeo__JHASH__"),singleCharDescription:h._("__JHASH__3gvTTPZFuR6__JHASH__")},like:{command:{key:c("CometKeys").L},description:h._("__JHASH__fPWFoO_4sHL__JHASH__"),singleCharDescription:h._("__JHASH__6boa--Dsc86__JHASH__")},viewNext:{command:{key:c("CometKeys").K},description:h._("__JHASH__Cwg8ChuUCza__JHASH__"),singleCharDescription:h._("__JHASH__D5hbXD4Qvlf__JHASH__")},viewPrevious:{command:{key:c("CometKeys").J},description:h._("__JHASH__5PUjENdCJD1__JHASH__"),singleCharDescription:h._("__JHASH__ap7P4LUMQ-g__JHASH__")}}},search:{label:h._("__JHASH__E00LcbSnfXh__JHASH__"),shortcuts:{scrollNextResult:{command:{key:c("CometKeys").J},description:h._("__JHASH__bmPeLBy-eKQ__JHASH__"),singleCharDescription:h._("__JHASH___N3WTKcqt3k__JHASH__")},scrollPreviousResult:{command:{key:c("CometKeys").K},description:h._("__JHASH__66y7Uf7htWH__JHASH__"),singleCharDescription:h._("__JHASH__G1e3rdFAKxh__JHASH__")}}}},c("gkx")("22803")&&{chats:{label:h._("__JHASH__er63PmpxxU9__JHASH__"),shortcuts:{forwardMessage:{command:{key:c("CometKeys").F},description:h._("__JHASH__BoPi-Cj1ZgB__JHASH__"),order:3,singleCharDescription:h._("__JHASH__sAzlvATWOJK__JHASH__")},jumpToChatList:{command:{alt:!0,key:c("CometKeys").C},description:h._("__JHASH__yEELQaU6ZJv__JHASH__"),order:6,singleCharDescription:h._("__JHASH__ruOmPk73z78__JHASH__"),triggerFromInputs:!0},likeMessage:{command:{key:c("CometKeys").L},description:h._("__JHASH__92Cxpl6anqS__JHASH__"),order:1,singleCharDescription:h._("__JHASH__9GZYcHNSXWM__JHASH__")},removeMessage:{command:{key:c("CometKeys").X},description:h._("__JHASH__r-tRfkmegvn__JHASH__"),order:4,singleCharDescription:h._("__JHASH__rCo38Z3GsLf__JHASH__")},replyToMessage:{command:{key:c("CometKeys").R},description:h._("__JHASH__2livKuCsmS6__JHASH__"),order:2,singleCharDescription:h._("__JHASH__HlXWG9dX1DN__JHASH__")},writeMessageToCurrentChat:{command:{alt:!0,key:c("CometKeys").W},description:h._("__JHASH__260-EYyZSfn__JHASH__"),order:5,singleCharDescription:h._("__JHASH__98yCRWkkRKQ__JHASH__"),triggerFromInputs:!0}}}}));b=a;a;g["default"]=b}),226);
__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("useVirtualizationContext",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useRef;function a(){var a=j(c("VirtualizationContext")),b=l(0),d=l(null);d.current==null&&(d.current=new Map());var e=i(function(a){var c,e=b.current++;(c=d.current)==null?void 0:c.set(e,a);return function(){var a;(a=d.current)==null?void 0:a["delete"](e)}},[]),f=i(function(){return d.current==null?!1:d.current.size>0},[]),g=l(null);g.current==null&&(g.current=new Map());var h=i(function(a,c){var d=b.current++,e=null,f=g.current;if(f!=null){var h;f.has(a)||f.set(a,new Map());e=f.get(a);(h=e)==null?void 0:h.set(d,c)}return function(){var b;(b=e)==null?void 0:b["delete"](d);((b=e)==null?void 0:b.size)===0&&(f==null?void 0:f["delete"](a))}},[]),m=i(function(a){var b;return(b=(b=g.current)==null?void 0:b.has(a))!=null?b:!1},[]),n=k(function(){var b;return(b=a)!=null?b:{createFlag:h,createPin:e,hasFlag:m,hasPin:f}},[a,e,h,m,f]);return n}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","stylex","unrecoverableViolation","useIntersectionObserver","useMergeRefs","usePrevious","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function q(a){a===void 0&&(a=null);a=o(a);var b=a[0],c=a[1];m(function(){b===null&&c(function(){return p()})},[b]);return(a=b)!=null?a:!1}var r={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},s=c("justknobx")._("1003");function t(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:t(IntersectionObserver.toString()).endsWith("{ [native code] }")}var u=a();function b(a){var b,e,f=arguments,g,i,p,t=a.children,v=a.disableHiding,w=a.initialRenderConfig,x=w===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:w,y=a.leftRightMargin,z=y===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:y,A=a.mountXStyle,B=a.pinChildrenOnInteraction,C=a.pinChildrenWithPlayer,D=a.scrollport,E=D===void 0?null:D,F=a.topBottomMargin,G=F===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:F,H=a.unmountHiddenChildren,I=a.unmountXStyle,J=a.xstyle,K=n(null),L=n(null),aa=l(c("HiddenSubtreePassiveContext")),M=o(!1),ba=M[0],ca=M[1],N=n(!0),O=o(x.isVisible),P=O[0],Q=O[1],R=o(x.nodeHeight),S=R[0],T=R[1],da=c("usePrevious")(P),U=c("useVirtualizationContext")(),V=l(c("VirtualizationContainerContext")),ea=(b=A)!=null?b:J,fa=(e=I)!=null?e:J;m(function(){N.current&&(N.current=!1)},[]);m(function(){var a=N.current||S==null&&!P;L.current!=null&&a&&T(L.current.getBoundingClientRect().height)},[P,S,da]);var ga=function(b){c("nullIntersectionObserverEntryLogger")(b,"IntersectionObserverEntry is null. num_arguments="+f.length);var a=aa.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(b))T(null),Q(!0);else if(!a){b=(a=b==null?void 0:b.boundingClientRect)!=null?a:{};a=b.height;b=b.width;a>0&&b>0&&Q(!1)}},W={bottom:G,left:z,right:z,top:G},ha=k(function(){var a=E!=null?E==null?void 0:E():V==null?void 0:V.rootElementRef.current;return a instanceof Element?a:null},[E,V]),ia=c("useIntersectionObserver")(ga,{root:ha,rootMargin:W,scrollMargin:babelHelpers["extends"]({},W),threshold:0}),ja=c("useMergeRefs")(ia,K),ka=function(){if(!P&&S!==null&&H!==!1)return{minHeight:S}}(),X=!P&&S!==null,la=q((g=x.hasScrollAnchoring)!=null?g:null),ma=la?ja:void 0;if(c("gkx")("22947"))return j.jsx("div",{className:"x78zum5 xdt5ytf",children:j.jsx(c("BaseView.react"),{children:t})});var Y=function(){B===!0&&ca(!0)},na=((i=C)!=null?i:!1)&&U.hasFlag("HAS_PLAYER"),Z=u&&s&&H===!0&&X&&!ba&&!U.hasPin()&&!na,$=s&&!((p=v)!=null?p:!1)&&X;return j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(r.resetBlockFormattingContext,Z?fa:ea),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:ma,style:ka,children:j.jsx(c("BaseView.react"),{hidden:$,ref:L,xstyle:$&&r.invisible,children:Z?null:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:$,children:t})})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=["comet_feed_unit_card","comet_profile_photos","comet_tofu_stories_container","comet_watch_tab","thread_list","thread_view"],k={comet_profile_photos:1e3,comet_tofu_stories_container:1e3,thread_list:500,thread_view:500},l=new Set(((e=c("qex")._("641"))!=null?e:"").split(",").map(function(a){return a.trim()}));l.add("polaris_feed_story_tray_item");var m=(d=c("qex")._("642"))!=null?d:"all",n=(e=c("qex")._("648"))!=null?e:!0,o=(d=c("qex")._("885"))!=null?d:!1;d=(e=c("qex")._("339"))!=null?e:"default";var p=d==="disable"?!0:d==="enable"?!1:null,q=a((e=c("qex")._("628"))!=null?e:"");function a(a){var b=new Map(Object.entries(k));a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}function b(a){var b=a.callingSurface,d=a.children,e=a.disableHiding,f=a.mountXStyle,g=a.scrollport;g=g===void 0?null:g;var h=a.topBottomMarginOverride,k=a.unmountXStyle;a=a.xstyle;var r=new Set(j),s=new Set(j);c("gkx")("221")===!0?s.clear():r.clear();e=(e=(e=e)!=null?e:p)!=null?e:!1;r.has(b)?e=!1:s.has(b)&&(e=!0);s=l.has(b)||r.has(b);(m.includes("all")||m.split(",").includes(b))&&c("qex")._("692");return i.jsx(c("CometVirtualization.react"),{disableHiding:e||!s,mountXStyle:f,pinChildrenOnInteraction:s&&n,pinChildrenWithPlayer:o,scrollport:g,topBottomMargin:h!=null&&h>=0?h:q.get(b),unmountHiddenChildren:s,unmountXStyle:k,xstyle:a,children:d})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useState,o={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,i=a.ariaLabelledBy,p=a.ariaMultiline,q=a.ariaOwneeID,r=a.ariaRequired,s=a.autoCapitalize,t=a.autoComplete,u=a.autoCorrect,v=a.contentEditableRef,w=a.isInitiallyFocused,x=w===void 0?!1:w;w=a.role;w=w===void 0?"textbox":w;var y=a.spellCheck;y=y===void 0?!1:y;var z=a.tabIndex,A=a.webDriverTestID;A=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"]);var B=d("LexicalComposerContext").useLexicalComposerContext(),C=B[0];B=n(void 0);var D=B[0],E=B[1];B=n(void 0);var F=B[0],G=B[1];B=c("useCometLexicalSubscription")(m(function(){return c("mlcEditableSubscription")(C)},[C]));l(function(){return C.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&E(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&G(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[C]);k(function(){x&&C.focus(function(){var a=document.activeElement,b=C.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},[C,x]);return j.jsx(d("LexicalContentEditable").ContentEditable,babelHelpers["extends"]({ariaActiveDescendant:(D=D)!=null?D:void 0,ariaAutoComplete:b,ariaControls:(D=F)!=null?D:void 0,ariaDescribedBy:e,ariaExpanded:f,ariaLabel:(b=g==null?void 0:g.toString())!=null?b:void 0,ariaLabelledBy:i,ariaMultiline:p,ariaOwns:q,ariaRequired:(F=r)!=null?F:void 0,autoCapitalize:s,autoComplete:t,autoCorrect:u,className:(h||(h=c("stylex")))(o.editor,A)+" "+(B?"notranslate":""),"data-testid":void 0,ref:v,role:w,spellCheck:y,suppressContentEditableWarning:!0,tabIndex:z},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=9;b=16;c=20;var i=16,j=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"emoji"};a.clone=function(b){return new a(b.__text,b.__rawText,b.__src,b.__size,b.__key)};a.importJSON=function(a){a=k(a.text,a.rawText,a.src,a.size);return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})};function a(a,c,d,e,f){e===void 0&&(e=i);a=b.call(this,a,f)||this;a.__src=d;a.__rawText=c;a.__size=e;return a}c.getRawText=function(){var a=this.getLatest();return a.__rawText};c.createDOM=function(){var a=this.__text,b=this.__size,c=this.__src,d=document.createElement("span"),e=document.createElement("span"),f=d.style;f.cursor="default";d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid";d.setAttribute("data-testid","emoji");c!=null&&(f.backgroundImage="url("+c+")",f.backgroundSize=b+"px "+b+"px");a!==this.__rawText&&(d.style.width="calc("+b+"px + 0.3em)",d.style.height=b+"px",d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",d.setAttribute("spellcheck","false"),e.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',e.style.fontSize="15px",e.style.letterSpacing=b/(h*a.length)-1+"ch");e.textContent=a;e.className="xexx8yu xn5pp95 x18d9i69 x2fxd7x x3jgonx x1bhl96m";d.appendChild(e);return d};c.updateDOM=function(a,b){a=b.firstChild;if(a==null)return!0;var c=this.__text;a.textContent!==c&&(a.textContent=c);b.style.backgroundSize=this.__size+"px "+this.__size+"px";return!1};c.setSize=function(a){var b=this.getWritable();b.__size=a};c.selectionTransform=function(a,b){var c=this.__text;if(c===this.__rawText||!d("Lexical").$isRangeSelection(a)||a.is(b))return;a=a.focus;var e=b.focus,f=c.length,g=b.isCollapsed();if(e.offset===0||e.offset===c.length||a.is(e))return;a.isBefore(e)?e.set(e.key,f,"text"):e.set(e.key,0,"text");g&&b.anchor.set(e.key,e.offset,"text")};return a}(d("Lexical").TextNode);function a(a){return a instanceof j}function k(a,b,c,d){return new j(a,b,c,d).setMode("token")}g.UFI_EMOJI_SIZE=b;g.COMPOSER_EMOJI_SIZE_LARGE=c;g.COMPOSER_EMOJI_SIZE_SMALL=i;g.EmojiNode=j;g.$isEmojiNode=a;g.$createEmojiNode=k}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",start:"x17qophe",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return j.jsx("div",{children:b,className:(h||(h=c("stylex")))(k.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1956659");b=d("FalcoLoggerInternal").create("comet_metrics_navigation",a);e=b;g["default"]=e}),98);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingEnd:"x10ogl3i",paddingBottom:"xg8j3zb",paddingStart:"x1k2j06m",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginEnd:"xj3m2qm",marginBottom:"x1huwwth",marginStart:"x1uirj4r",$$css:!0}};function k(a,b){return a<2&&b%3===2}function a(a){var b=a.children,e=a.spacing,f=e===void 0?"narrow":e;e=a.uniformGrid;var g=e===void 0?!1:e;a=i.Children.toArray(b);var h=a.length;return i.jsx(d("react-strict-dom").html.div,{style:[j.wrapper,f==="narrow"&&j.wrapperNarrowSpacing,f==="wide"&&j.wrapperWideSpacing],children:i.Children.map(a,function(a,b){return i.jsx(d("react-strict-dom").html.div,{style:[j.item,f==="wide"&&j.itemWideSpacing,f==="narrow"&&j.itemNarrowSpacing,!g&&k(b,h)&&j.itemEnlarged],children:i.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("DirectRequestsThreadAllowFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsThreadAllowFalcoEvent").__setRef("DirectRequestsThreadAllowFalcoEventDeferred");function a(a){var b=a.folder,c=a.is_interop,d=a.is_spam,e=a.is_unread;h.onReady(function(a){return a.log(function(){return{folder:b,is_interop:c,is_spam:d,is_unread:e}})})}g.logDirectRequestsThreadAllowFalcoEvent=a}),98);
__d("DocumentFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M458.5 1076.5h-5a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1m0 2h-5a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1m-2 2h-3a.5.5 0 1 1 0-1h3a.5.5 0 1 1 0 1m2.967-7h-6.934c-.846 0-1.533.688-1.533 1.533v8.935c0 .844.688 1.532 1.533 1.532h6.934c.846 0 1.533-.688 1.533-1.533v-8.935c0-.844-.688-1.532-1.533-1.532"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("Dots3VerticalOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx("path",{d:"M456 410a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-12a2 2 0 1 1 0-4 2 2 0 0 1 0 4"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});f["default"]=a}),66);
__d("E2EEMessagingLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isSecure;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.E2EEMessagingLinkProvider=a;g.useE2EEMessagingLink=b}),98);
__d("EyeCrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M102 917.5a1.5 1.5 0 0 0-.294 2.97l1.291-2.583a1.489 1.489 0 0 0-.997-.387",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx("path",{d:"M101.024 921.834a3 3 0 1 1 2.658-5.318l.547-1.093a5.992 5.992 0 0 0-2.218-.423c-3.344 0-5.33 2.694-5.859 3.519a.97.97 0 0 0 0 1.042c.434.68 1.893 2.657 4.38 3.258l.492-.985zm6.827-3.311c-.333-.524-1.247-1.797-2.723-2.66l-.694 1.388A2.98 2.98 0 0 1 105 919a2.998 2.998 0 0 1-2.94 2.997l-.49.981c.145.011.29.022.44.022 3.402 0 5.33-2.635 5.841-3.443a.973.973 0 0 0 0-1.034",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx("path",{fillRule:"nonzero",d:"m100.447 927.724 5-10a.5.5 0 0 0-.894-.448l-5 10a.5.5 0 0 0 .894.448z",transform:"translate(353.5 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useRef,l=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);var h=l(null),m=h[0],n=h[1],o=k();h=j(function(){var a=o.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;n(a.src);e!=null&&e()},[e]);return m!=null?i.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+m+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:h,ref:o,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("MWPMessageListColumn.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:"x1jwls1v",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var b=a.bubble,c=a.centered,e=a.children,f=a.grow,g=a.justifyContent,h=a.paint,k=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.root,f===!0?j.grow:!1,m===!0?j.shrinkwrap:!1,h===!0?j.paint:!1,k===!0?j.profile:!1,a===!0?j.withGutters:!1,b===!0?j.bubble:!1,c===!0?j.centered:!1,l===!0?j.selfCentered:!1,g==="flex-start"?j.justifyContentStart:!1],children:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return i.jsx(k,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function c(a){var b=a.children,c=a.paint;a=a.profile;return i.jsx(k,{paint:c!=null?c:!0,profile:a!=null?a:!1,selfCentered:!0,shrinkwrap:!0,children:b})}c.displayName=c.name+" [from "+f.id+"]";function e(a){var b=a.centered,c=a.children;a=a.paint;return i.jsx(k,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.children;a=a.paint;a=a===void 0?!0:a;return i.jsx(k,{grow:!0,paint:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.children;return i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.children;a=a.paint;return i.jsx(k,{bubble:!0,paint:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(){return i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.height;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,j.customHeight(a)]})}p.displayName=p.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnSelfCentered=c;g.MWPMessageListColumnShrinkwrap=e;g.MWPMessageListColumnGrow=l;g.MWPMessageListColumnGrowJustified=m;g.MWPMessageListColumnBubble=n;g.MWPMessageListColumnHorizontalSpacer=o;g.MWPMessageListColumnVerticalRhythm=p}),98);
__d("IGDAIStickerEyebrowText.react",["fbt","IGDSText.react","MWPMessageListColumn.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginBottom:"xyorhqc",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=k(5),e=a.attachment;a=a.outgoing;e=e.mustacheText;if(e==null||e==="")return null;e=a&&m.outgoing;b[0]!==e?(a=(i||(i=c("stylex")))(m.row,e),b[0]=e,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__w6yWFnwqaQK__JHASH__",[h._param("quoted text","pandas")])}),b[2]=e):e=b[2];b[3]!==a?(e=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:l.jsx("div",{className:a,children:e})}),b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("IGDAcceptOpenMessageRequestLogger",["DirectRequestsThreadAllowFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e)));b!=null&&d("DirectRequestsThreadAllowFalcoEventDeferred").logDirectRequestsThreadAllowFalcoEvent({folder:b.igFolder!=null?(h||(h=d("I64"))).to_string(b.igFolder):void 0,is_interop:!1,is_spam:(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3)),is_unread:d("MWPIsThreadUnread").isThreadUnread(b)})})())}g.logAcceptOpenMessageRequest=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f;f=(f=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}))))!=null?f:[void 0,void 0];f[0];f=f[1];if(f==null)return;var i=babelHelpers["extends"]({},f,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([f.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:f.id}))});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":25"))},[b,a])}g["default"]=a}),98);
__d("IGDAcceptOpenMessageRequestComposerBannerButton.react",["fbt","I64","IGDAcceptOpenMessageRequestLogger","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWPActor.react","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","useAsyncReStore","useMWLSAcceptMessageRequest"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function a(a){var e=k(14),f=a.thread,g=c("useAsyncReStore")(),i=d("MWPActor.react").useActor();a=f.threadKey;var m=c("useMWLSAcceptMessageRequest")(a),n=c("MessengerWebUXLogger").useInteractionLogger(),o=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),e[0]=f,e[1]=a):a=e[1];var p=a,q;e[2]!==m||e[3]!==f||e[4]!==n||e[5]!==p||e[6]!==o||e[7]!==g||e[8]!==i?(a=function(){m();var a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f);n==null?void 0:n({eventName:"accept_chat_request",extraData:babelHelpers["extends"]({},p,{is_request:String(a),target_id:(j||(j=d("I64"))).to_string(f.threadKey)}),flowInstanceId:o});a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield g);d("IGDAcceptOpenMessageRequestLogger").logAcceptOpenMessageRequest(a,f.threadKey);d("MAWOptimisticUpdateContactRelationship").call(f,a,i)});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())},q=[m,i,g,o,p,n,f],e[2]=m,e[3]=f,e[4]=n,e[5]=p,e[6]=o,e[7]=g,e[8]=i,e[9]=a,e[10]=q):(a=e[9],q=e[10]);a=d("Int64Hooks").useCallbackInt64(a,q);e[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._("__JHASH__oHArC5ZUIpE__JHASH__"),e[11]=q):q=e[11];e[12]!==a?(q=l.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:q,onClick:a,role:"button",variant:"secondary_link"}),e[12]=a,e[13]=q):q=e[13];return q}g["default"]=a}),226);
__d("IGDAddEmojiToComposerForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.focus(function(){b.update(function(){var b=String.fromCodePoint.apply(String,a);b=d("Lexical").$createTextNode(b);d("Lexical").$insertNodes([b])})})}g["default"]=a}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.disabled,c=a.hasEnded,e=a.isPaused,f=a.isPlaying;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX();g=g?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(f)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:g});return e||c||b?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:g}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;e=i.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.color,g=a.icon,h=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","size"]);var k=f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":f,l=j(function(){return f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":f.color},light:{"primary-icon":f.color},type:"VARIABLES"}:void 0},[f]),m=g instanceof d("MWXSvgIcon").MWXSvgIcon?g.component:g,n=null;b("cr:7510")!=null&&(n=i.jsx(b("cr:7510"),babelHelpers["extends"]({color:k,icon:m,size:h},a,{ref:e})));b("cr:6681")!=null&&(n=i.jsx(b("cr:6681"),babelHelpers["extends"]({color:k,icon:m,size:h},g instanceof d("MWXSvgIcon").MWXSvgIcon?{iconRatio:"medium"}:{},a,{ref:e})));l!=null&&(n=i.jsx(c("BaseTheme.react"),{config:l,children:n}));return n}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:9129","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9129")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:9272","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9272")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWPAudioPlaybackButton.react",["fbt","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.isError,e=a.isLoading,f=a.isRetryableError,g=a.onPress,j=a.scrubberRef,l=a.disabled,m=a.hasEnded,n=a.isPaused,o=a.isPlaying;a=a.outgoing;var p=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();j=d("MWPAudioPlayerUtils").useResetHighlightProgress(j);var q=o||n;return e?k.jsx("div",{className:(i||(i=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:q?j:void 0,style:p,children:k.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):k.jsx("div",{onMouseMove:q?j:void 0,style:p,children:b!==!0?k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:l,icon:k.jsx(c("MWPAudioPlaybackIcon.react"),{disabled:l,hasEnded:m,isPaused:n,isPlaying:o,outgoing:a}),label:o?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:g}):f===!0?k.jsx(c("MWXCircleButton.react"),{color:"black",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:g,size:40,type:"normal"}):k.jsx("div",{className:"x6s0dn4 xwcfey6 x14yjl9h xudhj91 x18nykt9 xww2gxu x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf",children:k.jsx(c("MWXIconStrict.react"),{color:"black",icon:c("MWXIconExclamationMarkCircle"),size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,g=a.messageId,i=a.threadKey,j=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.attachments;var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(i,g,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":26")});return function(b){return a.apply(this,arguments)}}(),[j,i,g,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_media","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("IGDAudioPlayer.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","react","requireDeferred","stylex","useIGDAttachmentUrl","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.c,o=c("requireDeferred")("MWChatAudioLog").__setRef("IGDAudioPlayer.react");function p(){o.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=n(53),e=a.attachment,f=a.isReply,g=a.mediaRenderQpl,i=a.outgoing;a=a.width;f=f===void 0?!1:f;var o=e.playableDurationMs;o=(j||(j=d("I64"))).to_float((o=o)!=null?o:(j||(j=d("I64"))).zero)/1e3;var q=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(e),r=c("useMWPAudioWaveformData.react")(e,q),s=d("MWPAudioPlayerUtils").useControlCenter(q,void 0,void 0,void 0,p,!1,o,g),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4];s=s[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,e);var y,z;b[0]!==q||b[1]!==g?(y=function(){q!=null&&(g==null?void 0:g.addPoint("render-audio-player"))},z=[g,q],b[0]=q,b[1]=g,b[2]=y,b[3]=z):(y=b[2],z=b[3]);l(y,z);(q==null||q.length===0)&&(g==null?void 0:g.endFail("empty_preview_url"));y=t===d("MWPAudioPlayerUtils").State.NONE;z=t===d("MWPAudioPlayerUtils").State.PLAYING;var A=t===d("MWPAudioPlayerUtils").State.PAUSED,B=t===d("MWPAudioPlayerUtils").State.LOADING;t=t===d("MWPAudioPlayerUtils").State.ENDED;var C=z||A,D=m(),E=d("MWPAudioHighlightStylesHooks").useHighlightStyles(i),F=i?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))";a=(a=a)!=null?a:"218px";var G;b[4]!==F||b[5]!==a?(G={backgroundColor:F,width:a},b[4]=F,b[5]=a,b[6]=G):G=b[6];F=G;a=C?Math.max(o-u,0):0;G=i?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming;var H=f&&d("MWPAudioPlayerSharedStyles").styles.commonReply,I=i&&f&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply,J;b[7]!==G||b[8]!==H||b[9]!==I?(J=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,G,H,I),b[7]=G,b[8]=H,b[9]=I,b[10]=J):J=b[10];b[11]!==f?(G=f?{outline:"unset"}:{},b[11]=f,b[12]=G):G=b[12];H=e.isAttachmentConsumed===!0;b[13]!==y||b[14]!==t||b[15]!==B||b[16]!==A||b[17]!==z||b[18]!==w||b[19]!==i?(I=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:y,hasEnded:t,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:i,scrubberRef:D}),b[13]=y,b[14]=t,b[15]=B,b[16]=A,b[17]=z,b[18]=w,b[19]=i,b[20]=I):I=b[20];b[21]!==v||b[22]!==u||b[23]!==o||b[24]!==t||b[25]!==C||b[26]!==H||b[27]!==z||b[28]!==s||b[29]!==i||b[30]!==x||b[31]!==r||b[32]!==E||b[33]!==I?(f=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:v,currentTime:u,duration:o,hasEnded:t,hasScrubber:C,isListened:H,isPlaying:z,onUpdateScrubber:s,outgoing:i,progressHighlightRef:x,scrubberRef:D,waveformData:r,xstyle:E,children:I}),b[21]=v,b[22]=u,b[23]=o,b[24]=t,b[25]=C,b[26]=H,b[27]=z,b[28]=s,b[29]=i,b[30]=x,b[31]=r,b[32]=E,b[33]=I,b[34]=f):f=b[34];b[35]!==z||b[36]!==i||b[37]!==a?(e=k.jsx("div",{children:z?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:i,time:a}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:i})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:i,time:a})}),b[35]=z,b[36]=i,b[37]=a,b[38]=e):e=b[38];b[39]!==J||b[40]!==G||b[41]!==f||b[42]!==e?(y=k.jsxs("div",{className:J,style:G,children:[f,e]}),b[39]=J,b[40]=G,b[41]=f,b[42]=e,b[43]=y):y=b[43];b[44]!==v||b[45]!==C||b[46]!==g||b[47]!==F||b[48]!==y?(B=k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:v,hasScrubber:C,mediaRenderQpl:g,scrubberRef:D,style:F,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:y}),b[44]=v,b[45]=C,b[46]=g,b[47]=F,b[48]=y,b[49]=B):B=b[49];b[50]!==v||b[51]!==B?(A=k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:v,children:B}),b[50]=v,b[51]=B,b[52]=A):A=b[52];return A}g["default"]=a}),98);
__d("MWPAudioWaveformUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length>b){var c=a.length/b,d=[];for(var e=0;e<b;e++){var f=e*c,g=(e+1)*c,h=0,i=0;for(var j=Math.ceil(f);j<Math.floor(g);j++)j<a.length&&(i++,h+=a[j]);i+=f-Math.floor(f);h+=(f-Math.floor(f))*a[Math.floor(f)];Math.ceil(g)<a.length&&(i+=Math.ceil(g)-g,h+=(Math.ceil(g)-g)*a[Math.ceil(g)]);i>0&&d.push(h/i)}return d}else return a}function b(a){var b=1,c=0;for(var d=0;d<a.length;d++)b=Math.min(a[d],b),c=Math.max(a[d],c);return b===c?a:a.map(function(a){return-b/(c-b)+1/(c-b)*a})}f.getReducedAudioWaveformDimensions=a;f.getLinearlyInterpolatedValues=b}),66);
__d("MWPAudioWaveform.react",["MWPAudioWaveformUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.height,c=a.waveformData,e=a.waveformId;a=a.width;var f=6,g=a/f,h=b;a=j(function(){return d("MWPAudioWaveformUtils").getLinearlyInterpolatedValues(d("MWPAudioWaveformUtils").getReducedAudioWaveformDimensions(c.split(",").map(function(a){return Number(a)}),g))},[g,e]);return i.jsx("svg",{className:"xqtp20y x10l6tqk xnalus7",children:i.jsx("defs",{children:i.jsx("clipPath",{id:e,children:a.map(function(a,c){a=Math.max(h*a,4);return i.jsx("rect",{height:a.toString(),rx:"2",width:3..toString(),x:Math.imul(c,f).toString(),y:((b/2|0)-((a|0)/2|0)|0).toString()},c.toString())})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioWaveformPlayer.react",["CometProgressRingIndeterminate.react","I64","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerIcons.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPAudioWaveform.react","emptyFunction","react","stylex","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=b.c,o={progressDefault:{height:"x5yr21d",width:"xh8yej3",$$css:!0},progressDefaultIncoming:{backgroundColor:"x1bhxuv2",$$css:!0},progressDefaultOutgoing:{backgroundColor:"xz3rzyy",opacity:"xuzhngd",$$css:!0},progressPlayedIncoming:{backgroundColor:"x124kx0k",$$css:!0},progressPlayedOutgoing:{backgroundColor:"xz3rzyy",$$css:!0},progressSeek:{transform:"x5i6ehr",$$css:!0},progressSeekIncoming:{backgroundColor:"xdbldzf",$$css:!0},progressSeekOutgoing:{backgroundColor:"xdbldzf",$$css:!0}};function p(a){var b=n(4);a=a.outgoing;a=a?o.progressDefaultOutgoing:o.progressDefaultIncoming;var d;b[0]!==a?(d=(h||(h=c("stylex")))(o.progressDefault,a),b[0]=a,b[1]=d):d=b[1];b[2]!==d?(a=k.jsx("div",{className:d}),b[2]=d,b[3]=a):a=b[3];return a}function q(a){var b=n(4),c=a.color,e=a.isLoading,f=a.isPlaying;a=a.outgoing;if(e)return null;if(f){e=a?c:void 0;b[0]!==e?(f=k.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:e}),b[0]=e,b[1]=f):f=b[1];return f}e=a?c:void 0;b[2]!==e?(f=k.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:e}),b[2]=e,b[3]=f):f=b[3];return f}function a(a){var b=n(58),e=a.attachment,f=a.mediaRenderQpl,g=a.outgoing;a=a.waveformData;var j=m(),r=e.playableDurationMs;r=r!=null?(i||(i=d("I64"))).to_float(r)/1e3:0;var s=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(e),t=d("MWPAudioPlayerUtils").useControlCenter(s,void 0,void 0,void 0,c("emptyFunction"),!0,r),u=t[0],v=t[1],w=t[2],x=t[3];t=t[4];var y,z;b[0]!==s||b[1]!==f?(y=function(){s!=null&&(f==null?void 0:f.addPoint("render-audio-player"))},z=[f,s],b[0]=s,b[1]=f,b[2]=y,b[3]=z):(y=b[2],z=b[3]);l(y,z);(s==null||s.length===0)&&(f==null?void 0:f.endFail("empty_preview_url"));y=u===d("MWPAudioPlayerUtils").State.PLAYING;z=u===d("MWPAudioPlayerUtils").State.PAUSED;u=u===d("MWPAudioPlayerUtils").State.LOADING;var A=z||y,B=d("MWPAudioPlayerUtils").useResetHighlightProgress(j);e="waveform-clip-path-"+e.messageId;var C=u?0:Math.max(r-v,0),D=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),E;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(E="x6s0dn4 x78zum5 x1r8uery x1iyjqo2 xs83m0k x10wjd1d x7ywyr2 x1yrsyyn x4uap5 x10b6aqq xkhd6sd x1hfn5x7",b[4]=E):E=b[4];var F=g?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))",G;b[5]!==F?(G={backgroundColor:F,borderRadius:18},b[5]=F,b[6]=G):G=b[6];b[7]!==a||b[8]!==e?(F=k.jsx(c("MWPAudioWaveform.react"),{height:50,waveformData:a,waveformId:e,width:171}),b[7]=a,b[8]=e,b[9]=F):F=b[9];b[10]!==u||b[11]!==A||b[12]!==B||b[13]!==D||b[14]!==z||b[15]!==y||b[16]!==g||b[17]!==x?(a=u?k.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:A?B:void 0,style:D,children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):k.jsx("div",{onMouseMove:A?B:void 0,style:D,children:k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:k.jsx(q,{color:"var(--mwp-primary-theme-color)",isLoading:u,isPaused:z,isPlaying:y,outgoing:g}),label:u||z?d("MWPAudioPlayerLabels").playLabel:d("MWPAudioPlayerLabels").pauseLabel,onPress:u?c("emptyFunction"):x})}),b[10]=u,b[11]=A,b[12]=B,b[13]=D,b[14]=z,b[15]=y,b[16]=g,b[17]=x,b[18]=a):a=b[18];u=g?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))";b[19]!==u?(B={backgroundColor:u,height:"100%"},b[19]=u,b[20]=B):B=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(D=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common),b[21]=D):D=b[21];z="url(#"+e+")";b[22]!==z?(y={clipPath:z},b[22]=z,b[23]=y):y=b[23];b[24]!==g?(x=k.jsx(p,{outgoing:g}),b[24]=g,b[25]=x):x=b[25];u=g?o.progressPlayedOutgoing:o.progressPlayedIncoming;b[26]!==t||b[27]!==u?(e=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:t,xstyle:u}),b[26]=t,b[27]=u,b[28]=e):e=b[28];z=g?o.progressSeekOutgoing:o.progressSeekIncoming;b[29]!==z?(t=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:j,xstyle:[o.progressSeek,z]}),b[29]=z,b[30]=t):t=b[30];b[31]!==v||b[32]!==r?(u=k.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:v,duration:r}),b[31]=v,b[32]=r,b[33]=u):u=b[33];b[34]!==y||b[35]!==x||b[36]!==e||b[37]!==t||b[38]!==u?(z=k.jsxs("div",{className:D,style:y,children:[x,e,t,u]}),b[34]=y,b[35]=x,b[36]=e,b[37]=t,b[38]=u,b[39]=z):z=b[39];b[40]!==w||b[41]!==A||b[42]!==f||b[43]!==B||b[44]!==z?(v=k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:w,hasScrubber:A,mediaRenderQpl:f,scrubberRef:j,style:B,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:z}),b[40]=w,b[41]=A,b[42]=f,b[43]=B,b[44]=z,b[45]=v):v=b[45];b[46]!==g||b[47]!==C?(r=k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:g,time:C}),b[46]=g,b[47]=C,b[48]=r):r=b[48];b[49]!==G||b[50]!==F||b[51]!==a||b[52]!==v||b[53]!==r?(D=k.jsxs("div",{className:E,style:G,children:[F,a,v,r]}),b[49]=G,b[50]=F,b[51]=a,b[52]=v,b[53]=r,b[54]=D):D=b[54];b[55]!==w||b[56]!==D?(y=k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:w,children:D}),b[55]=w,b[56]=D,b[57]=y):y=b[57];return y}g["default"]=a}),98);
__d("IGDAttachmentAudioPlayer.react",["IGDAudioPlayer.react","IGDAudioWaveformPlayer.react","MWPAudioPlayerUtils","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),e=a.attachment,f=a.mediaRenderQpl;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h;b[0]!==e||b[1]!==g||b[2]!==f||b[3]!==a?(h=e.waveformData!=null&&e.waveformData!==""&&!g?j.jsx(c("IGDAudioWaveformPlayer.react"),{attachment:e,mediaRenderQpl:f,outgoing:a,waveformData:e.waveformData}):j.jsx(c("IGDAudioPlayer.react"),{attachment:e,mediaRenderQpl:f,outgoing:a,width:d("PolarisUA").isMobile()?"168px":void 0}),b[0]=e,b[1]=g,b[2]=f,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("IGDAttachmentUtil",["I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video","xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a,b){return a.defaultCtaType!=null&&j.has(a.defaultCtaType)||k(b)}function k(a){if(a==null)return!1;return a.type_==="xma_open_native"&&a.nativeUrl!=null&&a.nativeUrl.startsWith("instagram://")?!0:!1}function b(a){return a.defaultCtaType!=null&&a.defaultCtaType==="xma_poll_details_card"?!0:!1}function e(a){return(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function f(a){return(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))}g.isUnsupportedXma=a;g.isUnsupportedCTA=k;g.isIGDPoll=b;g.isImageAttachment=e;g.isVideoAttachment=f}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children,m=a.disabled,n=a.linkProps_,o=a.mediaRenderQpl,p=a.onHoverIn,q=a.onPress,r=a.overlayDisabled;r=r===void 0?!1:r;var s=a.testid;s=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;var t=c("gkx")("24098")&&a;a=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));var u=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)),v=a?"Image":u?"Video":"Media";l(function(){o==null?void 0:o.addPoint("render-message-list-media-pressable-container",{bool:{is_blur_media:t},string:{media_type:v}})},[t,o,v]);return b("cr:4509")!=null&&(a||u)&&t?k.jsx(b("cr:4509"),{ariaLabel:f,disabled:m,linkProps:n,mediaType:v,onPress:q,overlayDisabled:r,testid:void 0,type:u?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:s,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,disabled:m,linkProps:n,onHoverIn:p,onPress:function(){return q()},overlayDisabled:r,testid:void 0,xstyle:s,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType",["WAArmadilloXMA.pb","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid ExtendedContentOverlayIconGlyph: ",""]);h=function(){return a};return a}function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:return"media_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return"post_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:default:d("WALogger").ERROR(h(),a);return"warning_screens"}}g.convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType=a}),98);
__d("MWXIconEyeCross",["MWXSvgIcon","SVGIcon","cr:9130","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9130")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconInfoCircle",["MWXSvgIcon","SVGIcon","cr:9188","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9188")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=a.objectFit,d=a.src;a=babelHelpers.objectWithoutPropertiesLoose(a,["objectFit","src"]);if(b("cr:6682")!=null)return i.jsx(b("cr:6682"),babelHelpers["extends"]({objectFit:c,src:d},a));if(typeof d==="string")return b("cr:2838")!=null?i.jsx(b("cr:2838"),babelHelpers["extends"]({src:d},a)):null;else return b("cr:1261")!=null?i.jsx(b("cr:1261"),babelHelpers["extends"]({src:d},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerWellbeingInformTreatmentFalcoEventLogger",["$InternalEnum","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MwbCmInformTreatmentEventFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),i=c("requireDeferred")("MwbInformTreatmentShownImpressionFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger");e=b("$InternalEnum")({AI_GENERATED_CONTENT:"ai_generated_content"});function a(a){var b=babelHelpers["extends"]({},a);h.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}function d(a){var b=babelHelpers["extends"]({},a);i.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}g.MWInformTreatmentEventName=e;g.logForCM=a;g.logForPrivateChats=d}),98);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCommunityFolderQuery(b,a.parentThreadKey)},[b,a.parentThreadKey],f.id+":26")}g["default"]=a}),98);
__d("useMWInformTreatmentFalcoEventLogger",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWLSThread","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=a.message,e=(j||(j=c("useReStore")))(),g=d("MWLSThread").useThreadExn(b.threadKey);a=c("useCommunityFolder")(g);var k=(a=a==null?void 0:a.fbGroupId)!=null?a:(h||(h=d("I64"))).zero,l=d("LSMessagingThreadTypeUtil").isPublicCMThread(g.threadType),m=d("LSMessagingThreadTypeUtil").isOpenFnFThread(g),n=!(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)),o=d("ReQLSuspense").useFirst(function(){return n?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(b.threadKey,b.messageId):d("ReQL").empty()},[n,e.tables.attachments,b.threadKey,b.messageId],f.id+":63");return d("Int64Hooks").useCallbackInt64(function(a,c){if(l)d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForCM({attachment_id:o==null?void 0:o.attachmentFbid,event_name:a,group_id:(h||(h=d("I64"))).to_string(k),inform_treatment:c!=null?{name:c.name,type:c.type}:void 0,is_forward:b.isForwarded,message_id:b.messageId,thread_id:h.to_string(b.threadKey),thread_subtype:g.threadSubtype!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadSubtype):void 0});else if(m&&a==="impression"){d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForPrivateChats({inform_treatment_name:c!=null?c==null?void 0:c.name:void 0,inform_treatment_type:(a=c==null?void 0:c.type)!=null?a:void 0,thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadType)})}},[o==null?void 0:o.attachmentFbid,k,m,l,b.isForwarded,b.messageId,b.threadKey,g.threadSubtype,g.threadType])}g["default"]=a}),98);
__d("MWInformedTreatment.react",["fbt","CometBlurredBackgroundImage.react","LSMessagingThreadTypeUtil","MWXColumn.react","MWXColumnItem.react","MWXIconEyeCross","MWXIconInfoCircle","MWXIconStrict.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","gkx","justknobx","qex","react","useMWInformTreatmentFalcoEventLogger","useMergeRefs","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",width:"xh8yej3",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},m={AI_GENERATED_CONTENT:{icon:c("MWXIconInfoCircle"),text:h._("__JHASH__grx-CiLu-4Q__JHASH__")},ALTERED_MEDIA:{icon:c("MWXIconEyeCross"),text:h._("__JHASH__m5P-u-BSHgt__JHASH__")},ALTERED_PHOTO:{icon:c("MWXIconEyeCross"),text:h._("__JHASH__MMwXoLKk349__JHASH__")},CRUEL:{icon:c("MWXIconEyeCross"),text:h._("__JHASH__i1O1Uvt1vZ6__JHASH__")},FALSE_NEWS:{icon:c("MWXIconInfoCircle"),text:h._("__JHASH__MnSycojlY-Q__JHASH__")},MISLEADING_NEWS:{icon:c("MWXIconInfoCircle"),text:h._("__JHASH__CYwjewQWzi8__JHASH__")},MISSING_CONTEXT:{icon:c("MWXIconInfoCircle"),text:h._("__JHASH__RL7VH1G5kZU__JHASH__")},SENSITIVE:{icon:c("MWXIconEyeCross"),text:h._("__JHASH__sovQqayBAJd__JHASH__")},VIOLENCE:{icon:c("MWXIconEyeCross"),text:h._("__JHASH__sovQqayBAJd__JHASH__")}},n=h._("__JHASH__zDjOAdn9yE8__JHASH__");function a(a,b,e,f){if(f==null||a==null||b==null||e==null)return!1;b=a==="ai_generated_content";e=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f);a=f!=null&&d("LSMessagingThreadTypeUtil").isPublicCMThread(f);if(b)return c("qex")._("1581")===!0;else return e||a&&c("gkx")("2872")&&c("justknobx")._("2910")}function b(a){var b=a.dimension,e=a.gatingTitle,g=a.gatingType,h=a.isXMA,j=h===void 0?!1:h,o=a.mediaRenderQpl,p=a.messageId;h=a.previewUrl;var q=h===void 0?"":h,r=a.xstyle,s=(i||(i=c("useReStore")))();h=d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(s.tables.messages.index("messageId")).getKeyRange(p)},[s,p],f.id+":239");var t=c("gkx")("23219"),u=function(a){var b=Object.keys(m).find(function(b){return b===a.toUpperCase()});return b},v=function(a){var b;a=u(a);return a==null||((b=m[a])==null?void 0:b.icon)==null?c("MWXIconEyeCross"):m[a].icon},w=function(a){var b;a=u(a);return a==null||((b=m[a])==null?void 0:b.text)==null?null:m[a].text};a=function(a){switch(a){case"warning_screens":return k.jsx("div",{className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz xh8yej3",children:k.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:v(e),size:32})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:t?"bodyLink3":"bodyLink4",children:w(e)})}),j?k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",type:t?"meta3":"meta4",children:n})}):null]})});case"media_label":case"post_label":return k.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x1ihrfj4 x78zum5 x10w6t97 x1k3u6ij xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk xpse7mg x1tk7jg1 xuxw1ft x1vvkbs",children:[k.jsx(c("MWXIconStrict.react"),{color:"white",icon:v(e),size:24}),k.jsx(c("MWXText.react"),{align:"center",color:"white",type:t?"bodyLink3":"bodyLink4",children:w(e)})]});default:return null}};var x=function(a){switch(a){case"media_label":case"post_label":return k.jsx("div",{style:b,children:k.jsx(c("MWXImage.react"),{alt:"",onError:function(){return o==null?void 0:o.endFail("load-image-error")},onLoad:function(){return o==null?void 0:o.endSuccess()},src:q,xstyle:l.post})});case"warning_screens":default:return k.jsxs("div",{style:b,children:[k.jsx(c("CometBlurredBackgroundImage.react"),{alt:"",onError:function(){return o==null?void 0:o.endFail("load-image-error")},onLoad:function(){return o==null?void 0:o.endSuccess()},src:q,xstyle:[l.post,r,l.overlay]}),k.jsx("div",{className:"x18l40ae x1ey2m1c xtea3wc xds687c x17qophe x47corl x10l6tqk x13vifvy"})]})}},y=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"}),z=c("useMWInformTreatmentFalcoEventLogger")({message:h});h=c("useSinglePartialViewImpression")({onImpressionStart:function(){z("impression",{name:d("MessengerWellbeingInformTreatmentFalcoEventLogger").MWInformTreatmentEventName.AI_GENERATED_CONTENT,type:"media_label"})}});var A=e==="ai_generated_content";y=c("useMergeRefs")(y,A?h:null);return k.jsxs("div",{className:"x78zum5 x5yr21d x1n2onr6 xh8yej3",ref:y,children:[x(g.toLocaleLowerCase()),a(g.toLocaleLowerCase())]})}b.displayName=b.name+" [from "+f.id+"]";g.checkIsInformedTreatmentVisible=a;g.MWInformedTreatment=b}),226);
__d("MWXMessageBubbleCornerStyles.react",[],(function(a,b,c,d,e,f,g){"use strict";var h={flatBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},flatTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},rounded:{borderTopStartRadius:"xp5s12f",borderTopEndRadius:"x11ucwad",borderBottomEndRadius:"xgtuqic",borderBottomStartRadius:"x155c047",$$css:!0}},i={connectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0}},j={connectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b,c,d,e;b=(b=a==null?void 0:a.align)!=null?b:"left";c=(c=a==null?void 0:a.connectBottom)!=null?c:!1;d=(d=a==null?void 0:a.connectTop)!=null?d:!1;e=(e=a==null?void 0:a.flatten)!=null?e:"none";a=(a=a==null?void 0:a.corners)!=null?a:"round";b=b==="right"?j:i;return[a==="round"&&h.rounded,d&&b.connectTop,c&&b.connectBottom,(e==="all"||e==="bottom")&&h.flatBottom,(e==="all"||e==="top")&&h.flatTop]}g.getMWXBubbleCornerStyles=a}),98);
__d("MWXAspectRatioContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={child:{height:"x5yr21d",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},flex:{display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},inner:function(a){return[{paddingBottom:"x9q6w0x",position:"x1n2onr6",width:"xh8yej3",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},outer:function(a,b,c){return[{maxHeight:"xqvb90d",maxWidth:"xsvhuol",width:"x17fnjtu",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(c),"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(b),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]}};function a(a){var b=a.children,d=a.height,e=a.maxHeight,f=a.maxWidth;a=a.width;d=a/d;f=f!=null&&e!=null?"min("+f+"px, "+e*d+"px)":e!=null?e*d+"px":f;return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x193iq5w"},{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.outer(a,(a=f)!=null?a:"initial",(f=e)!=null?f:"initial")),{children:j.jsx("div",babelHelpers["extends"]({},h.props(k.inner(100/d+"%")),{children:j.jsx("div",babelHelpers["extends"]({className:"x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"},{children:b==null?void 0:b(k.childInner)}))}))}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageImage.react",["BaseImage.react","CometBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:function(a){return[{maxWidth:"xsvhuol",$$css:!0},{"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.children,d=a.height,e=a.maxHeight,f=a.maxWidth,g=a.renderImagePlaceholder,i=a.shouldBlur,l=a.width,m=a.xstyle,n=babelHelpers.objectWithoutPropertiesLoose(a,["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"]);a=l==null||d==null?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.container(f)),{children:(a=g==null?void 0:g())!=null?a:j.jsx(c("BaseImage.react"),babelHelpers["extends"]({},n,{objectFit:"contain",style:{maxHeight:e+"px"},xstyle:k.image}))})):j.jsx(c("MWXAspectRatioContainer.react"),{height:d,maxHeight:e,maxWidth:f,width:l,children:function(a){var b;return(b=g==null?void 0:g())!=null?b:i!==!0?j.jsx(c("BaseImage.react"),babelHelpers["extends"]({height:d,width:l,xstyle:a},n)):j.jsx(c("CometBlurredBackgroundImage.react"),babelHelpers["extends"]({xstyle:a},n))}});return j.jsxs("div",{className:(h||(h=c("stylex")))(m),children:[a,b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListImage.react",["LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","MWXPressable.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState,m={appAttr:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderEndWidth:"xm81vs4",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function n(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.xstyle;g=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:"top"});e=b;f=e.attributionAppName;if(f==null)return null;b=e.attributionAppIcon;return j.jsxs("div",{className:(h||(h=c("stylex")))(m.appAttr,a,g),children:[b!=null?j.jsx(c("MWXImage.react"),{alt:"",src:b,xstyle:m.appIcon}):null,j.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:f})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.attachment,f=a.height,g=a.setIsBlurredImageVisible;a=a.width;b=(b=d("MWLSThread").useThread(e.threadKey,function(a){return{isSecureThread:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),threadType:a.threadType}}))!=null?b:{isSecureThread:!1,threadType:null};var h=b.isSecureThread;b=b.threadType;var i=e.gatingTitle,k=e.gatingType,l=e.previewUrl;b=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(i,k,l,b);if(k==null||i==null||!b)return null;b=k==="warning_screens";h=h?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(k,10)):k;k=j.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:{height:f+"px",width:a!=null?a+"px":"100%"},gatingTitle:i,gatingType:h,mediaRenderQpl:null,messageId:e.messageId,previewUrl:l});return b?j.jsx(c("MWXPressable.react"),{onPress:function(){g(!0)},overlayRadius:"normal",xstyle:m.pressable,children:k}):k}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing,h=a.xstyle,i=babelHelpers.objectWithoutPropertiesLoose(a,["attachment","connectBottom","connectTop","outgoing","xstyle"]);a=b.attributionAppName!=null;a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:a===!0?"bottom":"none"});var p=l(!1),q=p[0],r=p[1];p=(p=d("MWLSThread").useThread(b.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isPublicCMThread(a.threadType)&&c("gkx")("3643")}))!=null?p:!1;q=!q&&b.gatingTitle!=null&&b.gatingType!=null&&p;p=k(function(){var a=i.height,c=i.maxHeight,d=i.maxWidth,e=i.width;return j.jsx(o,{attachment:b,height:a!=null?Math.min(a,c):c,setIsBlurredImageVisible:r,width:e!=null&&d!=null?Math.min(e,d):(a=e)!=null?a:d})},[b,i]);return j.jsx(c("MWXMessageImage.react"),babelHelpers["extends"]({renderImagePlaceholder:q?p:void 0,xstyle:[m.root,h,a]},i,{children:j.jsx(n,{attachment:b,connectBottom:e,connectTop:f,outgoing:g,xstyle:h})}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageListImage=a}),98);
__d("MWPColorUtils",["I64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return"#"+a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")};function j(a){a=(h||(h=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;return[b,c,a]}function k(a){var b=a[0],c=a[1];a=a[2];return(h||(h=d("I64"))).of_int32((b<<16)+(c<<8)+a)}function l(a,b,c){return[Math.round(a[0]*c+b[0]*(1-c)),Math.round(a[1]*c+b[1]*(1-c)),Math.round(a[2]*c+b[2]*(1-c))]}function a(a){a=Number("0x"+a.slice(2));return k([a>>16&255,a>>8&255,a&255])}function b(a,b,c){a=j(a);b=j(b);return i(l(a,b,c))}function e(a,b,c){a=j(a);b=j(b);a=l(a,b,c);return k(a)}function m(a){return i(j(a))}function f(a,b){var c=j(a),d=c[0],e=c[1];c=c[2];return b!=null?"rgba("+d+", "+e+", "+c+", "+b+")":m(a)}function n(a,b){a=[].concat(a).sort(function(a,b){return(h||(h=d("I64"))).to_int32(a.gradientIndex)-h.to_int32(b.gradientIndex)|0}).map(function(a){return m(a.color)});var e=a.length;if(e!==1){if(e!==0){e=b!=null;var f=[];b!=null&&f.push(a[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var g=e?1:0,e=a.length-(e?2:1)|0;g<=e;++g)f.push(a[g]);b!=null&&(f.push(a[a.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),f.push(a[a.length-1|0]));g=f.join(", ");return"linear-gradient("+g+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}g.i64toRgb=j;g.hexToI64=a;g.combineColors=b;g.combineColorsAsI64=e;g.int64ToHex=m;g.int64ToRGBA=f;g.gradient=n}),98);
__d("defaultMWPThreadTheme",["I64","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("24125")?{backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[{color:(h||(h=d("I64"))).of_string("-5635841"),gradientIndex:(h||(h=d("I64"))).of_string("0"),themeFbid:(h||(h=d("I64"))).of_string("3259963564026002"),type_:(h||(h=d("I64"))).of_string("0")},{color:(h||(h=d("I64"))).of_string("-16744193"),gradientIndex:(h||(h=d("I64"))).of_string("1"),themeFbid:(h||(h=d("I64"))).of_string("3259963564026002"),type_:(h||(h=d("I64"))).of_string("0")}],threadTheme:{accessibilityLabel:"Default",appColorMode:(h||(h=d("I64"))).of_string("1"),fallbackColor:(h||(h=d("I64"))).of_string("-11645963"),fbid:(h||(h=d("I64"))).of_string("3259963564026002"),isDeprecated:!1,normalThemeId:(h||(h=d("I64"))).of_string("3259963564026002"),reverseGradiantsForRadial:!1,themeIdx:(h||(h=d("I64"))).of_string("275")}}:{backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[],threadTheme:{accessibilityLabel:"Default Blue",appColorMode:(h||(h=d("I64"))).zero,fallbackColor:c("gkx")("23219")?(h||(h=d("I64"))).of_string("687359"):(h||(h=d("I64"))).of_string("-16743169"),fbid:(h||(h=d("I64"))).of_string("196241301102133"),isDeprecated:!1,normalThemeId:(h||(h=d("I64"))).zero,reverseGradiantsForRadial:!1,themeIdx:(h||(h=d("I64"))).of_string("94")}};g.defaultThemeWithColors=a}),98);
__d("MWPThreadThemeContext",["defaultMWPThreadTheme","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=babelHelpers["extends"]({},d("defaultMWPThreadTheme").defaultThemeWithColors,{previewId:void 0,setPreviewId:c("emptyFunction")});e=a(b);g.defaultContextValue=b;g.MWPThreadThemeContext=e}),98);
__d("useMWPThreadTheme",["MWPThreadThemeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWPThreadThemeContext").MWPThreadThemeContext)}g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1||a.progress===0?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x17qophe x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.tables.media_staging).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerBlurpleLogoSvg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.cloneElement,k=b.useId,l=b.useMemo;function a(a){var b=a.height;a=a.width;a=(a=a)!=null?a:"80";b=(b=b)!=null?b:"80";var c=k(),d=l(function(){return j(i.jsx("path",{}),{clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(c+")"),fillRule:"evenodd",suppressHydrationWarning:!0})},[c]),e=l(function(){return j(i.jsx("radialGradient",{}),{children:i.jsxs(i.Fragment,{children:[i.jsx("stop",{stopColor:"#09F"}),i.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),i.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),i.jsx("stop",{offset:"1",stopColor:"#FF7061"})]}),cx:"0",cy:"0",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",gradientUnits:"userSpaceOnUse",id:c,r:"1",suppressHydrationWarning:!0})},[c]);return i.jsxs("svg",{fill:"none",height:b,viewBox:" 0 0 80 80",width:a,children:[d,i.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),i.jsx("defs",{children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/",Object.freeze({no_rdr:!1,__pwa:!1}),["/t/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","UNTRANSLATED_STRING_FIXME","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs","data-testid":void 0,children:[d,i.jsx("div",{className:"x16q8cke x10l6tqk x1tk7jg1",children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":c("UNTRANSLATED_STRING_FIXME")("Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),i.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:9110","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9110")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MediaViewerControlsFallback.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onClose;return j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:a,size:36,type:"dark-overlay"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MediaViewerFallback.react",["MWV2MediaViewerContainer.react","MWV2MediaViewerControlsFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return i.jsx(c("MWV2MediaViewerContainer.react"),{actions:i.jsx(c("MWV2MediaViewerControlsFallback.react"),{onClose:b}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMediaViewerShowDialog.react",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(){var a=k(9),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("IGDMediaViewer.react").__setRef("useIGDMediaViewerShowDialog.react"),a[0]=b):b=a[0];b=c("useCometLazyDialog")(b,l);var d=b[0],e=b[1];a[1]!==e?(b=function(){return e()},a[1]=e,a[2]=b):b=a[2];var f;a[3]!==d||a[4]!==e?(f=[d,e],a[3]=d,a[4]=e,a[5]=f):f=a[5];j(b,f);a[6]!==d||a[7]!==e?(b=[d,e],a[6]=d,a[7]=e,a[8]=b):b=a[8];return b}function l(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;e={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var j=b(e);function a(a){var b=a.children;a=a.value;var c=j.Provider;return i.jsx(c,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.context=j;g.MWV2MessageRowIsRowFocusedContextProvider=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("IGDChatImage.react",["fbt","FDSImageCover.react","I64","IGDSGlimmer.react","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","MessengerWebUXLogger","Random","promiseDone","react","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;b.useCallback;var n=b.useEffect,o=b.c,p=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatImage.react"),q={borderRadius:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},container:{display:"x78zum5",position:"x1n2onr6",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},inGrid:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=o(58),e=a.attachment,f=a.connectBottom,g=a.connectTop,l=a.inGrid,s=a.isReplyMessage,t=a.maxHeight,u=a.maxWidth,v=a.mediaRenderQpl,w=a.message;a=a.outgoing;f=f===void 0?!1:f;var x=l===void 0?!1:l,y=s===void 0?!1:s;l=t===void 0?340:t;s=u===void 0?236:u;var z=(i||(i=c("useReStore")))(),A=d("MWPActor.react").useActor(),B=c("useMWV2FocusRowAfterClosingPushView")(),C=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(e,!0);t=c("useIGDMediaViewerShowDialog.react")();var D=t[0],E=t[1],F=c("MessengerWebUXLogger").useInteractionLogger();u=e.previewWidth;t=e.previewHeight;var G=x?q.inGrid:q.borderRadius,H=a===!0?"right":"left",I=x?"unset":void 0,J;b[0]!==H||b[1]!==f||b[2]!==g||b[3]!==I?(J=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:H,connectBottom:f,connectTop:g,corners:I}),b[0]=H,b[1]=f,b[2]=g,b[3]=I,b[4]=J):J=b[4];b[5]!==G||b[6]!==J?(H=[q.container,G,J],b[5]=G,b[6]=J,b[7]=H):H=b[7];I=H;b[8]!==v?(G=function(){v==null?void 0:v.endFail("load-image-error")},b[8]=v,b[9]=G):G=b[9];J=G;b[10]!==v?(H=function(){v==null?void 0:v.endSuccess()},b[10]=v,b[11]=H):H=b[11];G=H;var K;b[12]!==C||b[13]!==v?(H=function(){C!=null&&C.length>0&&(v==null?void 0:v.addPoint("render-chat-image")),(C==null||C.length===0)&&(v==null?void 0:v.endFail("empty_preview_url"))},K=[v,C],b[12]=C,b[13]=v,b[14]=H,b[15]=K):(H=b[14],K=b[15]);n(H,K);b[16]!==e.titleText?(H=e.titleText!=null?e.titleText:h._("__JHASH__Pisa25BX9rt__JHASH__").toString(),b[16]=e.titleText,b[17]=H):H=b[17];K=H;H=C==null;var L;b[18]!==E?(L=function(){return E()},b[18]=E,b[19]=L):L=b[19];var M;b[20]!==e||b[21]!==B||b[22]!==D||b[23]!==v||b[24]!==z||b[25]!==w.messageId||b[26]!==w.threadKey||b[27]!==A||b[28]!==x||b[29]!==y||b[30]!==F?(M=function(){if((j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),e.attachmentType))return;B(function(){return!0});D({attachment:e,mediaRenderQpl:v},function(){});p.onReady(function(a){return c("promiseDone")(a.log(z,w.messageId,w.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,A))});if(x){var a=y?"media_collection_replied_open":"media_collection_open";F==null?void 0:F({eventName:a})}},b[20]=e,b[21]=B,b[22]=D,b[23]=v,b[24]=z,b[25]=w.messageId,b[26]=w.threadKey,b[27]=A,b[28]=x,b[29]=y,b[30]=F,b[31]=M):M=b[31];if(b[32]!==x||b[33]!==C||b[34]!==K||b[35]!==t||b[36]!==u||b[37]!==e||b[38]!==f||b[39]!==g||b[40]!==l||b[41]!==s||b[42]!==J||b[43]!==G||b[44]!==a){var N;N=x?C==null?m.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer}):m.jsx(c("FDSImageCover.react"),{alt:K,src:C}):m.jsx(d("MWPMessageListImage.react").MWPMessageListImage,{alt:K,attachment:e,connectBottom:f,connectTop:g,height:t!=null?(j||(j=d("I64"))).to_float(t):void 0,maxHeight:l,maxWidth:s,onError:J,onLoad:G,outgoing:a,renderImagePlaceholder:C==null?r:void 0,src:(N=C)!=null?N:"",width:u!=null?(j||(j=d("I64"))).to_float(u):void 0,xstyle:q.borderRadius});b[32]=x;b[33]=C;b[34]=K;b[35]=t;b[36]=u;b[37]=e;b[38]=f;b[39]=g;b[40]=l;b[41]=s;b[42]=J;b[43]=G;b[44]=a;b[45]=N}else N=b[45];b[46]!==w.authorityLevel||b[47]!==e?(K=(j||(j=d("I64"))).le(w.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,b[46]=w.authorityLevel,b[47]=e,b[48]=K):K=b[48];b[49]!==e||b[50]!==H||b[51]!==v||b[52]!==L||b[53]!==M||b[54]!==I||b[55]!==N||b[56]!==K?(t=m.jsxs(c("MWMessageListMediaPressableContainer.react"),{allowClickEventPropagation:!0,attachment:e,disabled:H,mediaRenderQpl:v,onHoverIn:L,onPress:M,testid:void 0,xstyle:I,children:[N,K]}),b[49]=e,b[50]=H,b[51]=v,b[52]=L,b[53]=M,b[54]=I,b[55]=N,b[56]=K,b[57]=t):t=b[57];return t}function r(){return m.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDChatVideo.react",["fbt","BaseImage.react","CometObjectFitContainer.react","FDSImageCover.react","I64","IGDSGlimmer.react","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWV2AttachmentProgressBar.react","MWXMessageImage.react","MessengerWebUXLogger","Random","promiseDone","react","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useEffect,o=b.c,p=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatVideo.react"),q={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},inGrid:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x5yr21d",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xvbhtw8",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopEndRadius:"x3jqge",borderTopStartRadius:"x1ke7ulo",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=o(57),e=a.attachment,f=a.connectTop,g=a.inGrid,l=a.isReplyMessage,t=a.maxHeight,u=a.maxWidth,v=a.mediaRenderQpl,w=a.message;a=a.outgoing;var x=g===void 0?!1:g,y=l===void 0?!1:l;g=t===void 0?340:t;l=u===void 0?236:u;var z=(i||(i=c("useReStore")))(),A=d("MWPActor.react").useActor();b[0]!==w.authorityLevel?(t=(j||(j=d("I64"))).le(w.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),b[0]=w.authorityLevel,b[1]=t):t=b[1];u=t;t=f?a?q.outgoing_connect_top:q.incoming_connect_top:!1;var B=c("useMWV2FocusRowAfterClosingPushView")(),C=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(e,!0),D=c("MessengerWebUXLogger").useInteractionLogger();f=c("useIGDMediaViewerShowDialog.react")();var E=f[0],F=f[1];b[2]!==e.previewWidth?(a=e.previewWidth!=null?(j||(j=d("I64"))).to_float(e.previewWidth):void 0,b[2]=e.previewWidth,b[3]=a):a=b[3];f=a;b[4]!==e.previewHeight?(a=e.previewHeight!=null?(j||(j=d("I64"))).to_float(e.previewHeight):void 0,b[4]=e.previewHeight,b[5]=a):a=b[5];a=a;var G=f!=null&&a!=null&&!x?f/a:void 0,H;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(H=h._("__JHASH__1WeFWemyTvQ__JHASH__"),b[6]=H):H=b[6];H=H;var I=r,J,K;b[7]!==C||b[8]!==v?(J=function(){C!=null&&(v==null?void 0:v.addPoint("render-chat-video")),(C==null||C==="")&&(v==null?void 0:v.endFail("empty_preview_url"))},K=[v,C],b[7]=C,b[8]=v,b[9]=J,b[10]=K):(J=b[9],K=b[10]);n(J,K);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(J=h._("__JHASH__Fp182jxGf7T__JHASH__"),b[11]=J):J=b[11];b[12]!==F?(K=function(){return F()},b[12]=F,b[13]=K):K=b[13];var L;b[14]!==B||b[15]!==E||b[16]!==e||b[17]!==v||b[18]!==z||b[19]!==w.messageId||b[20]!==w.threadKey||b[21]!==A||b[22]!==x||b[23]!==y||b[24]!==D?(L=function(){B(function(){return!0});E({attachment:e,mediaRenderQpl:v},function(){});p.onReady(function(a){return c("promiseDone")(a.log(z,w.messageId,w.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,A))});if(x){var a=y?"media_collection_replied_open":"media_collection_open";D==null?void 0:D({eventName:a})}},b[14]=B,b[15]=E,b[16]=e,b[17]=v,b[18]=z,b[19]=w.messageId,b[20]=w.threadKey,b[21]=A,b[22]=x,b[23]=y,b[24]=D,b[25]=L):L=b[25];var M=x?q.inGrid:null,N;b[26]!==M||b[27]!==t?(N=[q.root,M,t],b[26]=M,b[27]=t,b[28]=N):N=b[28];b[29]===Symbol["for"]("react.memo_cache_sentinel")?(M="x6s0dn4 x1ybostu x78zum5 x5yr21d",b[29]=M):M=b[29];b[30]!==C?(t=C!=null&&m.jsx("span",{className:"x91lo7 x1lliihq xqvfhly xulwito xszxewd x1ok221b x47corl x10l6tqk xyd03xr xzuapc8 x1vjfegm",children:m.jsx(c("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),b[30]=C,b[31]=t):t=b[31];if(b[32]!==e.previewUrlMimeType||b[33]!==x||b[34]!==C||b[35]!==a||b[36]!==g||b[37]!==l||b[38]!==f||b[39]!==G||b[40]!==v){I=e.previewUrlMimeType!=null&&e.previewUrlMimeType==="image/jpeg"?x?C==null?I():m.jsx(c("FDSImageCover.react"),{alt:H,src:C}):m.jsx(c("MWXMessageImage.react"),{alt:H,height:a,maxHeight:g,maxWidth:l,renderImagePlaceholder:C==null?I:void 0,src:(I=C)!=null?I:"",width:f}):m.jsx(s,{aspectRatio:G,height:x?void 0:Math.min((I=a)!=null?I:Number.MAX_SAFE_INTEGER,g),maxWidth:l,children:m.jsx("video",{alt:H,height:((I=a)!=null?I:Number.MAX_SAFE_INTEGER)<=g&&G==null?a:"100%",onLoadedData:function(){v==null?void 0:v.endSuccess()},src:C,style:{display:"block",maxHeight:x===!0?void 0:g,maxWidth:x===!0?void 0:l},width:((H=f)!=null?H:Number.MAX_SAFE_INTEGER)<=l&&G==null?f:"100%",children:m.jsx("track",{kind:"captions"})})});b[32]=e.previewUrlMimeType;b[33]=x;b[34]=C;b[35]=a;b[36]=g;b[37]=l;b[38]=f;b[39]=G;b[40]=v;b[41]=I}else I=b[41];b[42]!==t||b[43]!==I?(H=m.jsxs("div",{className:M,children:[t,I]}),b[42]=t,b[43]=I,b[44]=H):H=b[44];b[45]!==u||b[46]!==e?(a=u?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,b[45]=u,b[46]=e,b[47]=a):a=b[47];b[48]!==e||b[49]!==u||b[50]!==v||b[51]!==K||b[52]!==L||b[53]!==N||b[54]!==H||b[55]!==a?(g=m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:J,attachment:e,disabled:u,mediaRenderQpl:v,onHoverIn:K,onPress:L,overlayDisabled:!0,testid:void 0,xstyle:N,children:[H,a]}),b[48]=e,b[49]=u,b[50]=v,b[51]=K,b[52]=L,b[53]=N,b[54]=H,b[55]=a,b[56]=g):g=b[56];return g}function r(){return m.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=o(13),d=a.aspectRatio,e=a.children,f=a.height;a=a.maxWidth;if(d!=null&&f!=null){f=f*d;var g;b[0]!==a?(g={maxWidth:a},b[0]=a,b[1]=g):g=b[1];b[2]!==f?(a={maxWidth:"100%",width:f},b[2]=f,b[3]=a):a=b[3];b[4]!==d||b[5]!==e?(f=m.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:e}),b[4]=d,b[5]=e,b[6]=f):f=b[6];b[7]!==a||b[8]!==f?(d=m.jsx("div",{style:a,children:f}),b[7]=a,b[8]=f,b[9]=d):d=b[9];b[10]!==g||b[11]!==d?(a=m.jsx("div",{style:g,children:d}),b[10]=g,b[11]=d,b[12]=a):a=b[12];return a}return e}g["default"]=a}),226);
__d("IGDMediaGrid.react",["CometPhotoGrid.react","IGDSBox.react","MWXMessageBubbleCornerStyles.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.Fragment,k=b.c,l={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=k(17),e=a.attachments,f=a.connectBottom,g=a.connectTop,h=a.logImpressionEventRef,m=a.onRenderMedia;a=a.outgoing;f=f===void 0?!1:f;a=a===!0?"right":"left";var n;b[0]!==a||b[1]!==f||b[2]!==g?(n=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:"none"}),b[0]=a,b[1]=f,b[2]=g,b[3]=n):n=b[3];a=n;b[4]!==a?(f=[l.root,a],b[4]=a,b[5]=f):f=b[5];if(b[6]!==m||b[7]!==e){b[9]!==m?(g=function(a){return i.jsx(j,{children:m(a)},a.attachmentFbid)},b[9]=m,b[10]=g):g=b[10];n=e.map(g);b[6]=m;b[7]=e;b[8]=n}else n=b[8];b[11]!==n?(a=i.jsx(c("CometPhotoGrid.react"),{children:n}),b[11]=n,b[12]=a):a=b[12];b[13]!==h||b[14]!==f||b[15]!==a?(g=i.jsx(c("IGDSBox.react"),{containerRef:h,width:d("PolarisUA").isMobile()?192:384,xstyle:f,children:a}),b[13]=h,b[14]=f,b[15]=a,b[16]=g):g=b[16];return g}g["default"]=a}),98);
__d("IGDMessageContainerWithHighlightBar.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={container:{position:"x1n2onr6",$$css:!0},container_incoming:{paddingStart:"x1ye3gou",$$css:!0},container_outgoing:{paddingEnd:"xn6708d",$$css:!0},container_with_margin_bottom:{marginBottom:"xzueoph",$$css:!0},highlight_bar:{backgroundColor:"x19g9edo",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"x51ohtg",$$css:!0},highlight_bar_incoming:{start:"x17qophe",$$css:!0},highlight_bar_outgoing:{end:"xds687c",$$css:!0}};function a(a){var b=j(12),d=a.children,e=a.outgoing;a=a.withMarginBottom;a=a&&l.container_with_margin_bottom;var f=e?l.container_outgoing:l.container_incoming,g;b[0]!==a||b[1]!==f?(g=(h||(h=c("stylex")))([l.container,a,f]),b[0]=a,b[1]=f,b[2]=g):g=b[2];b[3]!==e?(a=!e&&k.jsx("div",{className:(h||(h=c("stylex")))([l.highlight_bar,l.highlight_bar_incoming])}),b[3]=e,b[4]=a):a=b[4];b[5]!==e?(f=e&&k.jsx("div",{className:(h||(h=c("stylex")))([l.highlight_bar,l.highlight_bar_outgoing])}),b[5]=e,b[6]=f):f=b[6];b[7]!==g||b[8]!==a||b[9]!==d||b[10]!==f?(e=k.jsxs("div",{className:g,children:[a,d,f]}),b[7]=g,b[8]=a,b[9]=d,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("IGDMessageContentNoLongerAvailablePlaceholder.react",["fbt","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7);a=a.message;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x78zum5 xdt5ytf xl56j7k x21xpn4",b[0]=d):d=b[0];var e;b[1]!==a?(e=a!=null&&k.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:a.replySnippet!=null&&a.replySnippet!==""&&k.jsx(c("IGDSText.react"),{size:"footnote",children:a.replySnippet})}),b[1]=a,b[2]=e):e=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="x1kpxq89 x1nn3v0j x1120s5i",b[3]=a):a=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:a,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__6BlzXQ_UCKH__JHASH__")})}),b[4]=a):a=b[4];b[5]!==e?(d=k.jsxs("div",{className:d,children:[e,a]}),b[5]=e,b[6]=d):d=b[6];return d}g["default"]=a}),226);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={bubble:{color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,i=a.precedesXMA;i=i===void 0?!1:i;var l=a.style,m=a.xmaLayout;a=a.xstyle;i=i&&m!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;m=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g?"right":"left",connectBottom:e,connectTop:f,flatten:i?"bottom":"none"});return j.jsx("div",{className:(h||(h=c("stylex")))(k.bubble,m,i&&k.precedes_xma,a),"data-testid":void 0,role:"none",style:l,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDSText.react","MWPSolidMessageBubble.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(14),d=a.connectBottom,e=a.connectTop;a=a.outgoing;var f=c("gkx")("33054"),g;b[0]!==e?(g=e?k.jsx("div",{className:"xjbqb8w x36qwtl xh8yej3",role:"none"}):null,b[0]=e,b[1]=g):g=b[1];var i,l,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={backgroundColor:"var(--comment-background)"},l="xw5ewwj x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",m="x1e56ztr",b[2]=i,b[3]=l,b[4]=m):(i=b[2],l=b[3],m=b[4]);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx("div",{className:m,children:k.jsx(c("IGDSText.react"),{children:f?h._("__JHASH__A69xhqwLkpv__JHASH__"):h._("__JHASH__atQVoVk5XY5__JHASH__")})}),b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsxs("div",{className:l,children:[m,k.jsx(c("IGDSText.react"),{color:"secondaryText",children:f?h._("__JHASH__HvUnheBePWL__JHASH__"):h._("__JHASH__INT7ORPdLDy__JHASH__")})]}),b[6]=l):l=b[6];b[7]!==d||b[8]!==e||b[9]!==a?(m=k.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:d,connectTop:e,outgoing:a,style:i,children:l}),b[7]=d,b[8]=e,b[9]=a,b[10]=m):m=b[10];b[11]!==g||b[12]!==m?(f=k.jsxs(k.Fragment,{children:[g,m]}),b[11]=g,b[12]=m,b[13]=f):f=b[13];return f}g["default"]=a}),226);
__d("IGDSticker.react",["I64","IGDSGlimmer.react","MWXMessageImage.react","Random","react","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l=157,m={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function n(a,b,c){a=a!=null?(i||(i=d("I64"))).to_float(a):void 0;b=b!=null?(i||(i=d("I64"))).to_float(b):void 0;if(a==null||b==null)return[a,b];var e=Math.max(a,b)===c,f=a>b?"width":b>a?"height":"same",g;if(e)g=1;else switch(f){case"height":g=c/b;break;case"same":case"width":g=c/a;break;default:g=1}return[a*g,b*g]}function a(a){var b,e=j(11),f=a.attachment;a=a.stickerSize;a=a===void 0?l:a;var g=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(f);b=(b=(b=f.playableUrl)!=null?b:f.previewUrl)!=null?b:g;e[0]!==f.previewWidth||e[1]!==f.previewHeight||e[2]!==a?(g=n(f.previewWidth,f.previewHeight,a),e[0]=f.previewWidth,e[1]=f.previewHeight,e[2]=a,e[3]=g):g=e[3];g=g;var h=g[0];g=g[1];var i=b==null?o:void 0;b=(b=b)!=null?b:"";var m;e[4]!==f.accessibilitySummaryText||e[5]!==g||e[6]!==a||e[7]!==i||e[8]!==b||e[9]!==h?(m=k.jsx(c("MWXMessageImage.react"),{alt:f.accessibilitySummaryText,height:g,maxHeight:a,maxWidth:a,renderImagePlaceholder:i,src:b,width:h}),e[4]=f.accessibilitySummaryText,e[5]=g,e[6]=a,e[7]=i,e[8]=b,e[9]=h,e[10]=m):m=e[10];return m}function o(){return k.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:m.glimmer})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentContainer.react",["IGDMessageContainerWithHighlightBar.react","IGDThreadListNewMessageLoggingDataContext","MWLSThread","MWXMessageBubbleCornerStyles.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=j(17),e=a.children,f=a.connectBottom,g=a.connectTop,i=a.outgoing,m=a.threadKey,n=a.withHighlightBar;a=a.xstyle;n=n===void 0?!1:n;m=d("MWLSThread").useThread(m);var o=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p;b[0]!==m?(p=c("getInstamadilloLoggingExtraData")(m),b[0]=m,b[1]=p):p=b[1];b[2]!==p||b[3]!==o?(m={eventName:"igd_previews_xma_rendered",extraData:p,flowInstanceId:o},b[2]=p,b[3]=o,b[4]=m):m=b[4];p=c("MessengerWebUXLogger").useImpressionLoggerRef(m);o=i?"right":"left";if(b[5]!==o||b[6]!==f||b[7]!==g||b[8]!==a){m=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:o,connectBottom:f,connectTop:g});m=(h||(h=c("stylex")))(l.root,m,a);b[5]=o;b[6]=f;b[7]=g;b[8]=a;b[9]=m}else m=b[9];b[10]!==m||b[11]!==p||b[12]!==e?(o=k.jsx("div",{className:m,ref:p,children:e}),b[10]=m,b[11]=p,b[12]=e,b[13]=o):o=b[13];f=o;if(n){b[14]!==i||b[15]!==f?(g=k.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:i,withMarginBottom:!1,children:f}),b[14]=i,b[15]=f,b[16]=g):g=b[16];return g}else return f}g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8});f["default"]=a}),66);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/"],void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.search;a=a.thread_key;return c("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({search:b,thread_key:a})},buildHomeURL:function(){return c("XCometMessengerControllerRouteBuilder").buildURL({})},buildNewThreadURL:function(a){return c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",a)},buildURL:function(a){var b=a.link_hash,d=a.search;a=a.thread_key;return c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:b,search:d,thread_key:a})}}:{buildE2EEThreadURL:function(a){var b=a.search;a=a.thread_key;return c("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({search:b,thread_key:a})},buildHomeURL:function(){return c("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildNewThreadURL:function(a){var b=a.extra_junk,d=a.initial_e2ee_toggle_position,e=a.link_hash;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:b,initial_e2ee_toggle_position:d,link_hash:e,thread_key:a})},buildURL:function(a){var b=a.link_hash,d=a.search;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:b,search:d,thread_key:a})}};b=a.buildURL;d=a.buildHomeURL;e=a.buildNewThreadURL;f=a.buildE2EEThreadURL;g.buildURL=b;g.buildHomeURL=d;g.buildNewThreadURL=e;g.buildE2EEThreadURL=f}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderPopoverMenuButtonActionButton,t=a.renderUrlActionButton,u=a.threadKey,v=a.title,w=a.type,x=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(u,function(a){return a.threadType});var y=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:w,eventName:"xma_attachment_cta",threadKey:u,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var z=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(x.tables.attachment_ctas).getKeyRange(g)},[x,g],f.id+":138");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(w);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[w]);var A=d("AdsMessengerContext.react").useAdsMessengerContext(),B=A.isMessengerInAds;A=A.maybeGetCallbackFromURI;if(z==null)return w==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:r(v)}):null;h=h(z);e=p(e);var C=null;switch(h.actionType){case"BUTTON":var D=h.secondaryInfo,E=h.primaryInfo,F=w==="xma_event_rsvp"&&c("gkx")("24146");b!=null&&u!=null&&!((a=a)!=null?a:!1)&&F?C=j(b,u,v,e,z,D):F||(C=l(v,e,z,D,E));break;case"POPOVER_BUTTON":s&&(C=s(v,z,h.primaryInfo));break;case"URL":a=h.secondaryInfo;j=A==null?void 0:A(h.primaryInfo);B&&j!=null?C=l(v,e,z,a,j):C=t(v,e,z,a,h.primaryInfo);break;case"DISABLED_BUTTON":C=r(v);break;case"DEEPLINK":b=h.primaryInfo;u=b.loggingDetails;F=b.threadKey;D=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(F)});C=q(v,F,z,u,D);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});C=null;break;case"NOT_SUPPORTED":C=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:C})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useLSMessagingInitiatingSource")(),j=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,k){var l=d("LSThreadAttributionTypeUtil").getSource(e,j);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=g)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:l}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:k,text:k,threadKey:e,threadType:h.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":43"))},[a,j,g,b,e])}g.usePostbackCtaHandler=a}),98);
__d("useIGDChatPollXMAActionHandler",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=c("JSResourceForInteraction")("IGDChatPollDetailsDialog.react").__setRef("useIGDChatPollXMAActionHandler");function a(){var a=i(2),b=c("useCometLazyDialog")(j),d=b[0];a[0]!==d?(b=function(a,b,c){return d({pollId:b,threadKey:a,title:c},function(){})},a[0]=d,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useMWCMPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollVotingCapability:d("LSThreadBitOffset").has(170,a)}}))!=null?a:{};a=a.pollVotingCapability;return(a=a)!=null?a:!1}g["default"]=a}),98);
__d("useGetIGDXMARegistryHandler",["Clipboard","I64","IGDAttachmentUtil","MWLSPostbackCtaHandler","react","useIGDChatPollXMAActionHandler","useMWCMPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(4),e=c("useIGDChatPollXMAActionHandler")(),f=c("useMWCMPollsVotingEnabled")(a),g=d("MWLSPostbackCtaHandler").usePostbackCtaHandler();b[0]!==f||b[1]!==e||b[2]!==g?(a=function(a){var b=a.actionUrl,c=a.platformToken,h=a.type_,j=a.title,k=a.threadKey,l=["Title: "+j,"Type: "+h,"PlatformTokenPresent: "+(c!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", "),m=a.actionContentBlob,n=a.targetId;if(d("IGDAttachmentUtil").isUnsupportedCTA(a))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};if(h==="xma_poll_details_button"||h==="xma_poll_details_card"){if(n==null||m==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a poll id and title while parsing polls XMA",secondaryInfo:"messenger_business_core_product"};return!f?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return e(k,n,m)},secondaryInfo:void 0}}if(h==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return g(c,j)},secondaryInfo:[(i||(i=d("I64"))).to_string(k),31]};if(h==="xma_partnership_ads_copy_code")return{actionType:"BUTTON",primaryInfo:function(){var b;d("Clipboard").copy((b=a.actionUrl)!=null?b:"")},secondaryInfo:void 0};if(h==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};return b!=null?{actionType:"URL",primaryInfo:b,secondaryInfo:[(i||(i=d("I64"))).to_string(k),32]}:{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+l,secondaryInfo:"messenger_privacy_web"}},b[0]=f,b[1]=e,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("IGDXMAAttachmentItemCtaButton.react",["IGDBroadcastChannelQPL","IGDSButton.react","MWXMAAttachmentItemCtaButtonBase.react","err","react","requireDeferred","useGetIGDXMARegistryHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c,k=c("requireDeferred")("logXMACtaClicked").__setRef("IGDXMAAttachmentItemCtaButton.react");function a(a){var b=j(17),e=a.attachmentId,f=a.ctaIconType,g=a.ctaId,h=a.messageId,o=a.threadKey,p=a.title;a=a.type;var q=c("useGetIGDXMARegistryHandler")(o),r=d("IGDBroadcastChannelQPL").useLogUpdatePollStart(o,a),s;b[0]!==r?(s=function(a,b){k.onReady(function(c){return c.logXMACtaClicked({cta:a,loggingDetails:b,source:2})}),r()},b[0]=r,b[1]=s):s=b[1];var t=s;b[2]!==t?(s=function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",label:a,onClick:function(){t(d,e);return f()},size:"small",variant:"tertiary"})},b[2]=t,b[3]=s):s=b[3];var u;b[4]!==t?(u=function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",href:f,label:a,onClick:function(){return t(d,e)},size:"small",variant:"tertiary"})},b[4]=t,b[5]=u):u=b[5];var v;b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==q||b[10]!==h||b[11]!==s||b[12]!==u||b[13]!==o||b[14]!==p||b[15]!==a?(v=i.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:e,ctaIconType:f,ctaId:g,getCtaRegistryHandler:q,messageId:h,renderButtonActionEventButton:n,renderButtonActionNonEventButton:s,renderDeeplinkActionButton:m,renderDisabledButtonActionButton:l,renderUrlActionButton:u,threadKey:o,title:p,type:a}),b[6]=e,b[7]=f,b[8]=g,b[9]=q,b[10]=h,b[11]=s,b[12]=u,b[13]=o,b[14]=p,b[15]=a,b[16]=v):v=b[16];return v}function l(a){return i.jsx(c("IGDSButton.react"),{display:"block",isDisabled:!0,label:a,size:"small",variant:"tertiary"})}l.displayName=l.name+" [from "+f.id+"]";function m(a,b,d,e,f){throw c("err")("XMA Attachment Item deeplink action button not implemented for IGD")}function n(a,b,d,e,f,g){throw c("err")("XMA Attachment Item event action button not implemented for IGD")}g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyCta.react",["IGDXMAAttachmentItemCtaButton.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0}};function a(a){var b=j(23),d=a.attachment;a=a.attachmentItem;var e=a.attachmentCta1Id,f=a.attachmentCta2Id,g=a.attachmentCta3Id,i=a.cta1IconType,m=a.cta1Title,n=a.cta1Type,o=a.cta2Title,p=a.cta2Type,q=a.cta3Title,r=a.cta3Type;if(n==null||m==null||e==null)return null;a=a.titleText==null&&a.subtitleText==null;a=a?l.buttonsOnly:!1;var s;b[0]!==a?(s=(h||(h=c("stylex")))(l.buttonsWrapper,a),b[0]=a,b[1]=s):s=b[1];b[2]!==d.attachmentFbid||b[3]!==d.messageId||b[4]!==d.threadKey||b[5]!==i||b[6]!==e||b[7]!==m||b[8]!==n?(a=k.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:d.attachmentFbid,ctaIconType:i,ctaId:e,messageId:d.messageId,threadKey:d.threadKey,title:m,type:n}),b[2]=d.attachmentFbid,b[3]=d.messageId,b[4]=d.threadKey,b[5]=i,b[6]=e,b[7]=m,b[8]=n,b[9]=a):a=b[9];b[10]!==p||b[11]!==o||b[12]!==f||b[13]!==d||b[14]!==i||b[15]!==r||b[16]!==q||b[17]!==g?(e=p!=null&&o!=null&&f!=null?k.jsxs(k.Fragment,{children:[k.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:d.attachmentFbid,ctaIconType:i,ctaId:f,messageId:d.messageId,threadKey:d.threadKey,title:o,type:p}),r!=null&&q!=null&&g!=null?k.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:d.attachmentFbid,ctaIconType:i,ctaId:g,messageId:d.messageId,threadKey:d.threadKey,title:q,type:r}):null]}):null,b[10]=p,b[11]=o,b[12]=f,b[13]=d,b[14]=i,b[15]=r,b[16]=q,b[17]=g,b[18]=e):e=b[18];b[19]!==s||b[20]!==a||b[21]!==e?(m=k.jsxs("div",{className:s,children:[a,e]}),b[19]=s,b[20]=a,b[21]=e,b[22]=m):m=b[22];return m}g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6});f["default"]=a}),66);
__d("MWV2AttachmentLoadingPlaceholder.react",["MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.descriptionForLogging,g=a.hasAppAttribution,h=a.height,l=a.maxHeight;l=l===void 0?200:l;var m=a.maxWidth;m=m===void 0?480:m;var n=a.mediaRenderQpl,o=a.outgoing,p=a.width,q=a.xstyle;j(function(){var a={string:{call_site:f}};p!=null&&h!=null?n==null?void 0:n.addPoint("render-loading-placeholder",a):n==null?void 0:n.addPoint("render-loading-placeholder-null-dimensions",a);return function(){n==null?void 0:n.addPoint("unmount-loading-placeholder",a)}},[h,n,p,f]);if(p==null)return null;if(h==null)return null;var r=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:o===!0?"right":"left",connectBottom:b,connectTop:e,flatten:g===!0?"bottom":"none"});return i.jsx("div",{"data-testid":void 0,children:i.jsx(c("MWXAspectRatioContainer.react"),{height:h,maxHeight:l,maxWidth:m,width:p,children:function(a){return i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[a,k.glimmer,r,q]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_sharing");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometPlaceholder.react","FDSImageCover.react","FDSSkittleIcon.react","MWV2AttachmentLoadingPlaceholder.react","MWXMAIconParser.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={loadingPlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getFaviconUrlXMA,f=a.mediaRenderQpl;j(function(){return f==null?void 0:f.addPoint("render-xma-attachment-item-icon")},[f]);return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIcon.Suspense",height:36,width:36,xstyle:k.loadingPlaceholder}),name:"MWXMAAttachmentItemIcon",children:i.jsx(l,{attachment:b,attachmentItem:d,getFaviconUrlXMA:e,mediaRenderQpl:f})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.attachment,e=a.attachmentItem,f=a.getFaviconUrlXMA,g=a.mediaRenderQpl,h=d("MWXMAIconParser.react").parse((a=f(b,e,"MWXMAAttachmentItemIconImpl",g))!=null?a:"");j(function(){return g==null?void 0:g.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:h!=null}})},[h,g]);if(h==null)return null;return typeof h==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("FDSImageCover.react"),{alt:"Icon for this message",src:h,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("FDSSkittleIcon.react"),{color:h.color,icon:h.icon,size:36})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyForCardMainText.react",["I64","IGDSBox.react","IGDSText.react","LSIntEnum","MNXMASubtitleDecorationType","MWXMAAttachmentItemIcon.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).c,m=i,n={bodyContainer:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x1y1aw1k",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},containerWithFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},textContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},textContainerWithIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function a(a){var b=l(36),e=a.attachment,f=a.attachmentItem,g=a.body,i=a.captionBodyText,o=a.favIconUrl,p=a.subtitleDecorationType;a=a.title;var q;b[0]!==o?(q=o!=null?d("MWXMAIconParser.react").parse(o):null,b[0]=o,b[1]=q):q=b[1];q=q;var r;b[2]!==e.maxTitleNumOfLines?(r=e.maxTitleNumOfLines!=null?(k||(k=d("I64"))).to_int32(e.maxTitleNumOfLines):3,b[2]=e.maxTitleNumOfLines,b[3]=r):r=b[3];r=r;var s;b[4]!==e.maxSubtitleNumOfLines?(s=e.maxSubtitleNumOfLines?(k||(k=d("I64"))).to_int32(e.maxSubtitleNumOfLines):3,b[4]=e.maxSubtitleNumOfLines,b[5]=s):s=b[5];s=s;var t=q!=null?n.containerWithFavicon:null,u;b[6]!==t?(u=(h||(h=c("stylex")))(n.container,t),b[6]=t,b[7]=u):u=b[7];b[8]!==q||b[9]!==o||b[10]!==e||b[11]!==f?(t=q!=null?m.jsx(c("MWXMAAttachmentItemIcon.react"),{attachment:e,attachmentItem:f,getFaviconUrlXMA:function(){var a;return(a=o)!=null?a:void 0},mediaRenderQpl:void 0},"icon"):null,b[8]=q,b[9]=o,b[10]=e,b[11]=f,b[12]=t):t=b[12];e=q==null?n.textContainerWithIcon:null;b[13]!==e?(f=(h||(h=c("stylex")))(n.textContainer,e),b[13]=e,b[14]=f):f=b[14];b[15]!==a||b[16]!==r?(q=Boolean(a)&&m.jsx(c("IGDSText.react"),{maxLines:r,size:"footnote",weight:"semibold",children:a}),b[15]=a,b[16]=r,b[17]=q):q=b[17];b[18]!==i?(e=Boolean(i)&&m.jsx(c("IGDSText.react"),{maxLines:5,size:"footnote",weight:"normal",children:i},"title"),b[18]=i,b[19]=e):e=b[19];b[20]!==g||b[21]!==a||b[22]!==p||b[23]!==s?(r=Boolean(g)&&m.jsxs("div",{className:(h||(h=c("stylex")))(a!=null?n.bodyContainer:null),children:[p!=null&&!(k||(k=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMASubtitleDecorationType").DEFAULT))?m.jsx(c("IGDSBox.react"),{marginEnd:2,children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:p})}):null,m.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:s,size:"footnote",children:g})]}),b[20]=g,b[21]=a,b[22]=p,b[23]=s,b[24]=r):r=b[24];b[25]!==q||b[26]!==e||b[27]!==r?(i=m.jsxs("div",{children:[q,e,r]}),b[25]=q,b[26]=e,b[27]=r,b[28]=i):i=b[28];b[29]!==f||b[30]!==i?(g=m.jsx("div",{className:f,children:i}),b[29]=f,b[30]=i,b[31]=g):g=b[31];b[32]!==u||b[33]!==t||b[34]!==g?(a=m.jsxs("div",{className:u,children:[t,g]}),b[32]=u,b[33]=t,b[34]=g,b[35]=a):a=b[35];return a}g["default"]=a}),98);
__d("IGDPollFacepile.react",["fbt","CometPressable.react","CometTooltip_DEPRECATED.react","FDSTooltipGroup.react","IGDSAvatar.react","IGDSText.react","intlSummarizeNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},contactMedium:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},overflow:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",display:"x78zum5",$$css:!0},overflowLarge:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",marginStart:"xp7jhwk",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},overflowMedium:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"x1qx5ct2",marginStart:"xbmpl8g",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},overflowSmall:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",marginStart:"x139jcc6",paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=k(27),d=a.contacts,e=a.contactWithBorderStyle,f=a.countOverride,g=a.direction,h=a.gap,j=a.limit,p=a.onPress,q=a.showTooltip,r=a.size;a=g===void 0?"normal":g;var s=h===void 0?"normal":h;g=j===void 0?3:j;var t=q===void 0?!0:q;h=f!=null?f:d.length;if(h===0)return null;j=h<=g?Math.min(g,d.length):g-1;q=h-j;f=q>0;b[0]!==f||b[1]!==d||b[2]!==j||b[3]!==q||b[4]!==t||b[5]!==r?(g=f?l.jsx(o,{contacts:d,facepileCount:j,overflowCount:q,showTooltip:t,size:r}):null,b[0]=f,b[1]=d,b[2]=j,b[3]=q,b[4]=t,b[5]=r,b[6]=g):g=b[6];h=g;if(b[7]!==f||b[8]!==j||b[9]!==d||b[10]!==s||b[11]!==r||b[12]!==t||b[13]!==e){b[15]!==s||b[16]!==r||b[17]!==t||b[18]!==e?(q=function(a,b){var d;return l.jsx("div",{className:(i||(i=c("stylex")))(m.photoWrap,s==="normal"?m.contactGapNormal:m.contactGapNegative,r==="medium"?m.contactMedium:r==="small"?m.contactSmall:m.contactLarge),children:l.jsx(n,{tooltip:t&&a.name!=null?l.jsx(c("IGDSText.react"),{children:a.name}):null,children:l.jsx(c("IGDSAvatar.react"),{alt:(d=a.name)!=null?d:"",size:r==="medium"?"extraSmall":r==="small"?"micro":"small",src:a.profile_picture_url,xstyle:[m.contact,e]})})},String(b))},b[15]=s,b[16]=r,b[17]=t,b[18]=e,b[19]=q):q=b[19];g=d.slice(-(f?j:1e3)).reverse().map(q);b[7]=f;b[8]=j;b[9]=d;b[10]=s;b[11]=r;b[12]=t;b[13]=e;b[14]=g}else g=b[14];b[20]!==h||b[21]!==g?(q=l.jsxs(c("FDSTooltipGroup.react"),{children:[h,g]}),b[20]=h,b[21]=g,b[22]=q):q=b[22];f=q;b[23]!==p||b[24]!==a||b[25]!==f?(j=p!=null?l.jsx(c("CometPressable.react"),{onPress:p,overlayDisabled:!0,xstyle:[m.root,a==="reversed"?m.rootReversed:null],children:f}):l.jsx("div",{className:(i||(i=c("stylex")))(m.root,a==="reversed"?m.rootReversed:null),children:f}),b[23]=p,b[24]=a,b[25]=f,b[26]=j):j=b[26];return j}function n(a){var b=k(3),d=a.children;a=a.tooltip;if(a==null)return d;var e;b[0]!==a||b[1]!==d?(e=l.jsx(c("CometTooltip_DEPRECATED.react"),{align:"middle",position:"above",tooltip:a,children:d}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}function o(a){var b=k(19),d=a.contacts,e=a.facepileCount,f=a.overflowCount,g=a.showTooltip;a=a.size;if(b[0]!==e||b[1]!==d){var j=d.slice(0,-e).reverse().filter(r).map(q);j=j.length===0?void 0:l.jsx("ul",{children:j.map(p)});b[0]=e;b[1]=d;b[2]=j}else j=b[2];e=j;b[3]!==g||b[4]!==e?(d=g&&e!=null?l.jsx(c("IGDSText.react"),{children:e}):null,b[3]=g,b[4]=e,b[5]=d):d=b[5];j=a==="medium"?m.overflowMedium:a==="small"?m.overflowSmall:m.overflowLarge;b[6]!==j?(g=(i||(i=c("stylex")))([m.overflow,j]),b[6]=j,b[7]=g):g=b[7];e=a==="medium"?"body":a==="small"?"miniscule":"label";b[8]!==f?(j=h._("__JHASH__aWEIlPNCu0S__JHASH__",[h._param("number of users",c("intlSummarizeNumber")(f))]),b[8]=f,b[9]=j):j=b[9];b[10]!==e||b[11]!==j?(a=l.jsx(c("IGDSText.react"),{color:"primaryText",size:e,textAlign:"center",children:j}),b[10]=e,b[11]=j,b[12]=a):a=b[12];b[13]!==g||b[14]!==a?(f=l.jsx("div",{className:g,children:a}),b[13]=g,b[14]=a,b[15]=f):f=b[15];b[16]!==d||b[17]!==f?(e=l.jsx(n,{tooltip:d,children:f}),b[16]=d,b[17]=f,b[18]=e):e=b[18];return e}function p(a,b){return l.jsx("li",{children:a},String(b))}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.name;if(a!=null)return a;else return""}function r(a){return a.name!=null}g["default"]=a}),226);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx(d("react-strict-dom").html.ul,{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemListItems.react",["I64","IGDPollFacepile.react","IGDSText.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l={contactWithBorderStyle:{borderTopColor:"xbhhrqq",borderEndColor:"x1l5zy3o",borderBottomColor:"x1szfnsn",borderStartColor:"xsp4bbj",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0}};function a(a){var b=j(5);a=a.attachment;var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f;b[0]!==e?(f=function(a,b){return k.jsxs("li",{className:"x14vqqas",children:[k.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?k.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:e==="Inbox"?3:1,size:"body",weight:"semibold",children:a.titleText}):null,k.jsx("div",{className:"x1i64zmx",children:k.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),contactWithBorderStyle:l.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",size:"small"})})]}),k.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:k.jsx("div",{className:"xsqyzxx x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{width:Math.min((i||(i=d("I64"))).to_int32(b),100)+"%"}})})]},i.to_string(a.id))},b[0]=e,b[1]=f):f=b[1];var g;b[2]!==a||b[3]!==f?(g=k.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:m,renderPercentageListItem:f}),b[2]=a,b[3]=f,b[4]=g):g=b[4];return g}function m(a){return k.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:k.jsxs("div",{children:[k.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(n),contactWithBorderStyle:l.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,size:"large"}),a.titleText!=null?k.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:k.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:2,size:"body",weight:"semibold",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))}m.displayName=m.name+" [from "+f.id+"]";function n(a){return{name:void 0,profile_picture_url:a.url}}g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyListItems.react",["IGDSText.react","IGDXMAAttachmentItemListItems.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10);a=a.attachment;var d;b[0]!==a.listItemsDescriptionText?(d=a.listItemsDescriptionText!=null?j.jsx(k,{listItemsDescriptionText:a.listItemsDescriptionText}):null,b[0]=a.listItemsDescriptionText,b[1]=d):d=b[1];var e;b[2]!==a?(e=a.listItemId1!=null?j.jsx(c("IGDXMAAttachmentItemListItems.react"),{attachment:a}):null,b[2]=a,b[3]=e):e=b[3];var f;b[4]!==a.listItemsSecondaryDescriptionText?(f=a.listItemsSecondaryDescriptionText!=null?j.jsx(l,{listItemsSecondaryDescriptionText:a.listItemsSecondaryDescriptionText}):null,b[4]=a.listItemsSecondaryDescriptionText,b[5]=f):f=b[5];b[6]!==d||b[7]!==e||b[8]!==f?(a=j.jsxs(j.Fragment,{children:[d,e,f]}),b[6]=d,b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}function k(a){var b=i(3);a=a.listItemsDescriptionText;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",b[0]=d):d=b[0];b[1]!==a?(d=j.jsx("div",{className:d,children:j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:4,size:"label",weight:"bold",children:a})}),b[1]=a,b[2]=d):d=b[2];return d}function l(a){var b=i(3);a=a.listItemsSecondaryDescriptionText;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="xod5an3",b[0]=d):d=b[0];b[1]!==a?(d=j.jsx("div",{className:d,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",elementType:"h4",maxLines:3,size:"footnote",weight:"semibold",children:a})}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.faviconUrl=e}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.useContext,o=l.useMemo,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children,f=a.renderPressable;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var g=a(25);a=a(24);b=b.defaultCtaType;var h=c.attachmentCta1Id!=null,i=b!=null?q.has(b)&&!g||p.has(b)&&!a:!1;c=o(function(){return{hasAtLeastOneCta:h,isDisabledRtcXma:i,renderPressable:f}},[f,h,i]);return k.jsx(r.Provider,{value:c,children:!h&&!i?f(e):e})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;var b=n(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}b.displayName=b.name+" [from "+f.id+"]";var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx(d("react-strict-dom").html.div,{style:s.container,children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.description,g=a.getPreviewUrl,h=a.mediaRenderQpl;a=a.preferLargePreview;a=a===void 0?!1:a;var i=d("LSMediaUrlAttachmentItem").playableUrl(e),j=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);g=g==null?d("LSMediaUrlAttachment").previewUrl(c):g(c,e,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+f,h);f=a&&j!=null?j:(c=b)!=null?c:g;h=e.playableUrlMimeType;a=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(a==="video"&&i!=null)return{type:"Video",url:i};if(f!=null)return{type:"Image",url:f};return a==="image"&&i!=null?{type:"Image",url:i}:{hasPlayableUrl:i!=null,hasPreviewUrl:f!=null,mimeType:a,playableUrlMimeType:e.playableUrlMimeType,type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("IGDXMAAttachmentItemBody.react",["BaseImage.react","I64","IGDSText.react","IGDXMAAttachmentItemBodyCta.react","IGDXMAAttachmentItemBodyForCardMainText.react","IGDXMAAttachmentItemBodyListItems.react","LSIntEnum","LSMediaUrlAttachment","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIconParser","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function m(a){var b=k(12),e=a.attachment,f=a.attachmentItem;a=a.favIconUrl;var g=d("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(e,f),h=g[0];g=g[1];g=g;var i=e.captionBodyText,j=e.subtitleDecorationType,m,q;if(b[0]!==h||b[1]!==g||b[2]!==e||b[3]!==f||b[4]!==i||b[5]!==a||b[6]!==j){q=Symbol["for"]("react.early_return_sentinel");bb0:{var r=[];if(Boolean(h)||Boolean(g)){var s=l.jsx(c("IGDXMAAttachmentItemBodyForCardMainText.react"),{attachment:e,attachmentItem:f,body:g,captionBodyText:i,favIconUrl:a,subtitleDecorationType:j,title:h});r.push(s)}e.attachmentCta1Id!=null&&(r.push(l.jsx(c("IGDXMAAttachmentItemBodyListItems.react"),{attachment:e})),r.push(l.jsx(c("IGDXMAAttachmentItemBodyCta.react"),{attachment:e,attachmentItem:f})));if(r.length===0){q=null;break bb0}m=r.filter(p).reduce(o,[]).map(n)}b[0]=h;b[1]=g;b[2]=e;b[3]=f;b[4]=i;b[5]=a;b[6]=j;b[7]=m;b[8]=q}else m=b[7],q=b[8];if(q!==Symbol["for"]("react.early_return_sentinel"))return q;s=m;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r="xz9dl7a xn6708d xsag5q8 x1ye3gou",b[9]=r):r=b[9];b[10]!==s?(h=l.jsx("div",{className:r,children:l.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:s})}),b[10]=s,b[11]=h):h=b[11];return h}function n(a,b){return l.jsx(l.Fragment,{children:a},String(b)+"_item")}n.displayName=n.name+" [from "+f.id+"]";function o(a,b){return a.concat(b)}function p(a){return a!=null}var q={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function r(a){var b=k(9);a=a.attachment;if(a.headerTitle==null)return null;var e;b[0]!==a?(e=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(a)),b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e?(f=typeof e==="string"?l.jsx(c("BaseImage.react"),{src:e,xstyle:q.image}):null,b[2]=e,b[3]=f):f=b[3];b[4]!==a.headerTitle?(e=l.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:a.headerTitle}),b[4]=a.headerTitle,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=l.jsxs(l.Fragment,{children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function a(a){var b=k(7),e=a.attachment,f=a.attachmentItem;a=a.favIconUrl;if(e.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(e.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))){var g;b[0]!==e||b[1]!==f?(g=l.jsx(r,{attachment:e,attachmentItem:f}),b[0]=e,b[1]=f,b[2]=g):g=b[2];return g}b[3]!==e||b[4]!==f||b[5]!==a?(g=l.jsx(m,{attachment:e,attachmentItem:f,favIconUrl:a}),b[3]=e,b[4]=f,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("IGDXMAAttachmentItemNonLink.react",["MWPActor.react","promiseDone","react","requireDeferred","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemNonLink.react");function a(a){var b=k(11),e=a.attachmentItem,f=a.children;a=a.xstyle;var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),n;b[0]!==a?(n=(i||(i=c("stylex")))(a),b[0]=a,b[1]=n):n=b[1];b[2]!==g||b[3]!==e.messageId||b[4]!==e.threadKey||b[5]!==j?(a=function(a){m.onReady(function(a){return c("promiseDone")(a.log(g,e.messageId,e.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,j))})},b[2]=g,b[3]=e.messageId,b[4]=e.threadKey,b[5]=j,b[6]=a):a=b[6];var o;b[7]!==n||b[8]!==a||b[9]!==f?(o=l.jsx("div",{className:n,onClick:a,role:"none",children:f}),b[7]=n,b[8]=a,b[9]=f,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("IGDXMAAttachmentItemUtil",["ConstUriUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(6),e=(h||(h=c("useReStore")))(),g;b[0]!==a||b[1]!==e.tables.attachment_ctas?(g=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a):d("ReQL").empty()},b[0]=a,b[1]=e.tables.attachment_ctas,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":22")}function b(a){return a.startsWith("http")||a.startsWith("/")}function e(a){if(a==null)return null;a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getQueryParam("shortcode");if(b!=null)return typeof b==="string"?b:JSON.stringify(b);else{a=a==null?void 0:(b=a.stripTrailingSlash())==null?void 0:b.getPath().split("/");return a!=null&&a.length>1?a[a.length-1]:null}}g.useGetAttachmentCta=a;g.isAttachmentCTAHrefValid=b;g.getShortCodeFromMediaDeeplinkUrl=e}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});f["default"]=a}),66);
__d("IGDXMAAttachmentItemHeader.react",["BaseImage.react","I64","IGDSBox.react","IGDSText.react","IGDSVerifiedIcon.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","LSIntEnum","LSVerifiedType","MNXMAPreviewImageDecorationType","MWPXMAIconParser","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).c,m=i,n={"default":{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},headerText:{maxWidth:"xq8v1hd",$$css:!0},overlay:{end:"xds687c",left:null,right:null,start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},small:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},titleTextWithShadow:{textShadow:"x1altmpn",$$css:!0}};function o(a){a=(a=a.previewImageDecorationType)!=null?a:(j||(j=d("I64"))).zero;var b=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));a=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));return[b,a]}function p(a){var b=l(7),e=a.attachment;a=a.getHeaderImageUrlXMA;var f;b[0]!==a||b[1]!==e?(f=d("MWPXMAIconParser").parse(a(e)),b[0]=a,b[1]=e,b[2]=f):f=b[2];a=f;if(typeof a!=="string")return null;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f="x6s0dn4 x78zum5 x1emribx",b[3]=f):f=b[3];e=e.previewImageDecorationType!=null&&(j||(j=d("I64"))).equal(e.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))?n.small:n["default"];b[4]!==a||b[5]!==e?(f=m.jsx("div",{className:f,children:m.jsx(c("BaseImage.react"),{src:a,xstyle:e})}),b[4]=a,b[5]=e,b[6]=f):f=b[6];return f}function q(a){var b=l(22),e=a.attachment,f=a.defaultCta;a=a.overlayingMedia;var g=e.verifiedType,h=o(e),i=h[0];h=h[1];var p=e.headerSubtitleText;e=e.headerTitle;var q;b[0]!==g?(q=g!=null?(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1,b[0]=g,b[1]=q):q=b[1];g=q;q=f!=null&&f.type_==="igd_web_post_share";f=i?"webAlwaysWhite":"primaryText";b[2]!==f||b[3]!==e?(i=m.jsx(c("IGDSText.react"),{color:f,maxLines:1,size:"body",weight:"semibold",children:e}),b[2]=f,b[3]=e,b[4]=i):i=b[4];f=i;if(e==null)return null;i=a?2:0;h=h?n.titleTextWithShadow:!1;var r;b[5]!==q||b[6]!==e||b[7]!==f?(r=q?m.jsx(c("PolarisFastLink.react"),{href:"/"+e+"/",xstyle:n.headerText,children:f}):f,b[5]=q,b[6]=e,b[7]=f,b[8]=r):r=b[8];b[9]!==g||b[10]!==a?(q=g?m.jsx(c("IGDSBox.react"),{marginStart:1,children:m.jsx(c("IGDSVerifiedIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,color:a?"ig-text-on-media":"ig-primary-button",size:14})}):null,b[9]=g,b[10]=a,b[11]=q):q=b[11];b[12]!==i||b[13]!==h||b[14]!==r||b[15]!==q?(e=m.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",marginEnd:i,minWidth:0,xstyle:h,children:[r,q]}),b[12]=i,b[13]=h,b[14]=r,b[15]=q,b[16]=e):e=b[16];b[17]!==p?(f=c("isStringNullOrEmpty")(p)?null:m.jsx(c("IGDSBox.react"),{marginTop:1,children:m.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",children:p})}),b[17]=p,b[18]=f):f=b[18];b[19]!==e||b[20]!==f?(g=m.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",children:[e,f]}),b[19]=e,b[20]=f,b[21]=g):g=b[21];return g}function a(a){var b=l(16),e=a.attachment,f=a.attachmentItem,g=a.getHeaderImageUrlXMA;a=a.overlayingMedia;a=a===void 0?!1:a;var i=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(f.defaultCtaId),j=o(e);j=j[0];var k=e.headerTitle;if(k==null)return null;k=j?n.overlay:!1;b[0]!==k?(j=(h||(h=c("stylex")))(n.header,k),b[0]=k,b[1]=j):j=b[1];b[2]!==e||b[3]!==g?(k=m.jsx(p,{attachment:e,getHeaderImageUrlXMA:g}),b[2]=e,b[3]=g,b[4]=k):k=b[4];b[5]!==e||b[6]!==i||b[7]!==a?(g=m.jsx(q,{attachment:e,defaultCta:i,overlayingMedia:a}),b[5]=e,b[6]=i,b[7]=a,b[8]=g):g=b[8];b[9]!==f||b[10]!==k||b[11]!==g?(e=m.jsxs(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:f,xstyle:n.pressable,children:[k,g]}),b[9]=f,b[10]=k,b[11]=g,b[12]=e):e=b[12];b[13]!==j||b[14]!==e?(i=m.jsx("div",{className:j,children:e}),b[13]=j,b[14]=e,b[15]=i):i=b[15];return i}g["default"]=a}),98);
__d("IGDXMAAttachmentItemLink.react",["fbt","ConstUriUtils","IGDXMAUtils","MWPActor.react","PolarisFastLink.react","PolarisNavigationActions","PolarisReactRedux.react","forwardXMAUtils","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemLink.react");function a(a){var b=k(28),e=a.attachmentItem,f=a.attachmentType,g=a.children,j=a.href,n=a.logOnClick;a=a.xstyle;var o=(i||(i=c("useReStore")))(),p=d("MWPActor.react").useActor(),q=e.titleText,r=d("PolarisReactRedux.react").useDispatch(),s;if(b[0]!==j||b[1]!==f||b[2]!==r||b[3]!==o||b[4]!==e.messageId||b[5]!==e.threadKey||b[6]!==p||b[7]!==n){var t=d("forwardXMAUtils").linkshimDecode(j);t=d("ConstUriUtils").getUri(t);var u=d("IGDXMAUtils").isInstagramDomain(t),v=t==null?void 0:t.path.includes("/stories/");s=(f==="xma_open_native"||f==="xma_web_url")&&(u||v===!0);b[12]!==s||b[13]!==r||b[14]!==o||b[15]!==e.messageId||b[16]!==e.threadKey||b[17]!==p||b[18]!==n?(v=function(){s&&r(d("PolarisNavigationActions").trackEntrypoint()),m.onReady(function(a){return c("promiseDone")(a.log(o,e.messageId,e.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,p))}),n()},b[12]=s,b[13]=r,b[14]=o,b[15]=e.messageId,b[16]=e.threadKey,b[17]=p,b[18]=n,b[19]=v):v=b[19];v=v;var w;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._("__JHASH__vOspP2z015J__JHASH__"),b[20]=w):w=b[20];w=w;u=u?d("IGDXMAUtils").isInstagramProfile(t)?d("IGDXMAUtils").getInstagramProfileUsername(t):d("IGDXMAUtils").getInstagramRelativeUrl(t):j;b[0]=j;b[1]=f;b[2]=r;b[3]=o;b[4]=e.messageId;b[5]=e.threadKey;b[6]=p;b[7]=n;b[8]=u;b[9]=w;b[10]=s;b[11]=v}else u=b[8],w=b[9],s=b[10],v=b[11];t=u;f=q!=null?q:w;u=s?t:j;q=s?"_self":"_blank";b[21]!==f||b[22]!==u||b[23]!==v||b[24]!==q||b[25]!==a||b[26]!==g?(w=l.jsx(c("PolarisFastLink.react"),{"aria-label":f,href:u,onClick:v,target:q,xstyle:a,children:g}),b[21]=f,b[22]=u,b[23]=v,b[24]=q,b[25]=a,b[26]=g,b[27]=w):w=b[27];return w}g["default"]=a}),226);
__d("IGDXMAPostModal.react",["CometPlaceholder.react","I64","deferredLoadComponent","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.useState,l=b.c,m=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectMessagePostModal.react").__setRef("IGDXMAPostModal.react"));function n(a,b){return{carousel_share_child_media_id:"",client_context:"",code:b,id:(i||(i=d("I64"))).to_string(a),media_type:0,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}function a(a){var b=l(13),d=a.children,e=a.logOnClick,f=a.shortCode;a=a.targetId;var g=k(!1),h=g[0],i=g[1];b[0]!==e?(g=function(){i(!0),e()},b[0]=e,b[1]=g):g=b[1];g=g;var o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o="x1277o0a",b[2]=o):o=b[2];b[3]!==g||b[4]!==d?(o=j.jsx("div",{className:o,onClick:g,role:"none",children:d}),b[3]=g,b[4]=d,b[5]=o):o=b[5];b[6]!==h||b[7]!==a||b[8]!==f?(g=h?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"IGDXMAPostModal",children:j.jsx(m,{media:n(a,f),modalEntryPath:"/direct/t",onClose:function(){return i(!1)},onOpen:c("emptyFunction")})}):null,b[6]=h,b[7]=a,b[8]=f,b[9]=g):g=b[9];b[10]!==o||b[11]!==g?(d=j.jsxs(j.Fragment,{children:[o,g]}),b[10]=o,b[11]=g,b[12]=d):d=b[12];return d}g["default"]=a}),98);
__d("IGDXMAAttachmentItemPressable.react",["IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentItemLink.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","IGDXMAAttachmentUtil","IGDXMAPostModal.react","MWLSThread","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","getInstamadilloLoggingExtraData","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(31),e=a.attachmentItem,f=a.children,g=a.isPrivatePost,h=a.isReply,k=a.isXMAExpired;a=a.xstyle;g=g===void 0?!1:g;h=h===void 0?!1:h;k=k===void 0?!1:k;var l=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(e.defaultCtaId),m=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(e.attachmentCta2Id),n;b[0]!==e.cta1Type||b[1]!==e.cta2Type?(n=d("IGDXMAAttachmentUtil").isXmaPostComment(e.cta1Type,e.cta2Type),b[0]=e.cta1Type,b[1]=e.cta2Type,b[2]=n):n=b[2];n=n;var o=d("MWLSThread").useThread(e.threadKey),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),q=c("MessengerWebUXLogger").useInteractionLogger(),r;b[3]!==q||b[4]!==o||b[5]!==p?(r=function(){q==null?void 0:q({eventName:"igd_preview_xma_open",extraData:c("getInstamadilloLoggingExtraData")(o),flowInstanceId:p})},b[3]=q,b[4]=o,b[5]=p,b[6]=r):r=b[6];r=r;if(n&&m!=null&&m.nativeUrl!=null){var s;b[7]!==m.nativeUrl||b[8]!==r||b[9]!==a||b[10]!==f?(s=i.jsx(c("PolarisFastLink.react"),{href:m.nativeUrl,onClick:r,target:"_blank",xstyle:a,children:f}),b[7]=m.nativeUrl,b[8]=r,b[9]=a,b[10]=f,b[11]=s):s=b[11];return s}if(h||k||l==null||l.actionUrl==null||!d("IGDXMAAttachmentItemUtil").isAttachmentCTAHrefValid(l.actionUrl)){b[12]!==e||b[13]!==f?(m=i.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:e,children:f}),b[12]=e,b[13]=f,b[14]=m):m=b[14];return m}s=l.actionUrl;h=l.nativeUrl;k=l.targetId;m=l.type_;var t;if(b[15]!==h||b[16]!==k||b[17]!==m||b[18]!==g||b[19]!==n||b[20]!==r||b[21]!==f||b[22]!==a){t=Symbol["for"]("react.early_return_sentinel");bb0:{var u=d("IGDXMAAttachmentItemUtil").getShortCodeFromMediaDeeplinkUrl(h);if(k!=null&&u!=null&&m==="igd_web_post_share")if(!d("PolarisUA").isMobile()&&!g&&!n){t=i.jsx(c("IGDXMAPostModal.react"),{logOnClick:r,shortCode:u,targetId:k,children:f});break bb0}else{t=i.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildMediaLink(u),onClick:r,target:"_blank",xstyle:a,children:f});break bb0}}b[15]=h;b[16]=k;b[17]=m;b[18]=g;b[19]=n;b[20]=r;b[21]=f;b[22]=a;b[23]=t}else t=b[23];if(t!==Symbol["for"]("react.early_return_sentinel"))return t;b[24]!==e||b[25]!==l.type_||b[26]!==s||b[27]!==r||b[28]!==a||b[29]!==f?(u=i.jsx(c("IGDXMAAttachmentItemLink.react"),{attachmentItem:e,attachmentType:l.type_,href:s,logOnClick:r,xstyle:a,children:f}),b[24]=e,b[25]=l.type_,b[26]=s,b[27]=r,b[28]=a,b[29]=f,b[30]=u):u=b[30];return u}g["default"]=a}),98);
__d("MWPXMAGatedAttachmentPreview.react",["MWVerticalRhythm","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={tintOverlay:{height:"x5yr21d",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}},l={4:{filter:"x1qgin71",$$css:!0},8:{filter:"x1wd8k3y",$$css:!0},12:{filter:"x1uo6jdl",$$css:!0}},m={.35:{backgroundColor:"x1sag07j",$$css:!0},.5:{backgroundColor:"xcpsgoo",$$css:!0}};function a(a){var b=a.blur;b=b===void 0?12:b;var d=a.children,e=a.icon,f=a.subtitle,g=a.tint;g=g===void 0?.35:g;a=a.title;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6",children:[j.jsxs("div",{className:"x6ikm8r x10wlt62 x1n2onr6 xh8yej3",children:[j.jsx("div",{className:(h||(h=c("stylex")))([k.tintOverlay,m[g]])}),j.jsxs("div",{className:h(l[b]),children:[" ",d," "]})]}),j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x13vifvy xh8yej3 x1vjfegm",children:[e,a!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),a,f!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),f]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAFalseInformationAttachmentPreview.react",["fbt","IGDSText.react","MWPXMAGatedAttachmentPreview.react","PolarisDirectConstants","PolarisMediaOverlayInfoTypes","PolarisSensitivityOverlayIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(4),e=a.children;a=a.gatingLayoutType;switch(a){case d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS:b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.EYE_OFF}),b[0]=a):a=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",children:h._("__JHASH__rt-qPtaU55L__JHASH__")}),b[1]=f):f=b[1];b[2]!==e?(a=k.jsx(c("MWPXMAGatedAttachmentPreview.react"),{blur:4,icon:a,title:f,children:e}),b[2]=e,b[3]=a):a=b[3];return a;default:return null}}g["default"]=a}),226);
__d("IGDXMAAttachmentItemPreview.react",["fbt","CometObjectFitContainer.react","CometPlaceholder.react","I64","IGDSGlimmer.react","IGDSMediaCarouselFilledIcon.react","IGDXMAFalseInformationAttachmentPreview.react","Int64Hooks","LSIntEnum","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","deferredLoadComponent","react","requireDeferredForDisplay","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDVideoPlayer.react").__setRef("IGDXMAAttachmentItemPreview.react")),o={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function p(a){var b=l(6),e=a.attachmentItem;a=a.children;var f=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):0;e=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):0;f=f!==0?e!==0?f/e:0:0;e=e>250&&f<.8;e=e?.8:f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:m.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:o.glimmer})}),b[0]=f):f=b[0];b[1]!==a?(f=m.jsx(c("CometPlaceholder.react"),{fallback:f,name:"IGDXMAAttachmentItemVideoContainer",children:a}),b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=m.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}function q(a){var b=l(3),e,f;b[0]!==a?(e=function(){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE)))return m.jsx(c("IGDSMediaCarouselFilledIcon.react"),{alt:h._("__JHASH__QQ3bPqMSK7q__JHASH__").toString(),color:"web-always-white"})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);return d("Int64Hooks").useMemoInt64(e,f)}function a(a){var b,e=l(38),f=a.attachment,g=a.attachmentItem,h=a.getPreviewImageUrlXMA,i=a.mediaRenderQpl;a=a.size;a=a===void 0?"large":a;b=(b=f.previewImageDecorationType)!=null?b:(j||(j=d("I64"))).zero;b=q(b);var k=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(f,!0),o;e[0]!==k||e[1]!==h?(o=function(a,b){var c;return(c=k)!=null?c:h(a,b)},e[0]=k,e[1]=h,e[2]=o):o=e[2];var r=a==="large",s;e[3]!==f||e[4]!==g||e[5]!==o||e[6]!==i||e[7]!==r?(s=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:f,attachmentItem:g,description:"IGDXMAAttachmentItemPreview",getPreviewUrl:o,mediaRenderQpl:i,preferLargePreview:r}),e[3]=f,e[4]=g,e[5]=o,e[6]=i,e[7]=r,e[8]=s):s=e[8];o=s;r=null;bb0:switch(o.type){case"Video":e[9]!==g.previewWidth?(s=g.previewWidth!=null?(j||(j=d("I64"))).to_int32(g.previewWidth):0,e[9]=g.previewWidth,e[10]=s):s=e[10];s=s;var t;e[11]!==g.previewHeight?(t=g.previewHeight!=null?(j||(j=d("I64"))).to_int32(g.previewHeight):0,e[11]=g.previewHeight,e[12]=t):t=e[12];t=t;var u;e[13]!==g.attachmentFbid||e[14]!==f.shouldAutoplayVideo||e[15]!==i||e[16]!==t||e[17]!==s||e[18]!==o.url?(u=m.jsx(n,{fbid:g.attachmentFbid,isGif:f.shouldAutoplayVideo,mediaRenderQpl:i,originalHeight:t,originalWidth:s,sdSrc:o.url}),e[13]=g.attachmentFbid,e[14]=f.shouldAutoplayVideo,e[15]=i,e[16]=t,e[17]=s,e[18]=o.url,e[19]=u):u=e[19];e[20]!==f||e[21]!==g||e[22]!==u?(i=m.jsx(p,{attachment:f,attachmentItem:g,children:u}),e[20]=f,e[21]=g,e[22]=u,e[23]=i):i=e[23];r=i;break bb0;case"Image":e[24]===Symbol["for"]("react.memo_cache_sentinel")?(t="x1n2onr6",e[24]=t):t=e[24];e[25]!==b||e[26]!==a?(s=b!=null&&a!=="small"?m.jsx("div",{className:"x1xr83ln xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x13vifvy x1vjfegm",children:b}):null,e[25]=b,e[26]=a,e[27]=s):s=e[27];e[28]!==g||e[29]!==o.url?(u=m.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemImage,{attachmentItem:g,url:o.url}),e[28]=g,e[29]=o.url,e[30]=u):u=e[30];e[31]!==s||e[32]!==u?(i=m.jsxs("div",{className:t,children:[s,u]}),e[31]=s,e[32]=u,e[33]=i):i=e[33];r=i;break bb0;case"Unsupported":r=null}if(f.gatingTitle!=null&&f.gatingType!=null&&f.gatingTitle!==""&&f.gatingType!==""){e[34]!==f.gatingType||e[35]!==f.gatingTitle||e[36]!==r?(b=m.jsx(c("IGDXMAFalseInformationAttachmentPreview.react"),{gatingLayoutType:f.gatingType,gatingTitleType:f.gatingTitle,children:r}),e[34]=f.gatingType,e[35]=f.gatingTitle,e[36]=r,e[37]=b):b=e[37];return b}return r}g["default"]=a}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",end:"xds687c",left:null,right:null,start:"x17qophe",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k=function(a){a=a.previewUrl;return a};function a(a){var b=j(5);a=a.attachmentItems;var d;b[0]!==a?(d=a.map(k).filter(Boolean),b[0]=a,b[1]=d):d=b[1];a=d;d=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a="x193iq5w xgqtt45 xdzyupr",b[2]=a):a=b[2];b[3]!==d?(a=i.jsx("div",{className:a,children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:d})}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("IGDXMAAttachmentCard.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIgProfile.react","WAArmadilloXMA.pb","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h,m={flattenTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=k(46),e=a.attachment,f=a.attachmentItem,g=a.attachmentItems,h=a.connectBottom,n=a.connectTop,o=a.getFaviconUrlXMA,p=a.getHeaderImageUrlXMA,q=a.getPreviewImageUrlXMA,r=a.hasText,s=a.isReply,t=a.mediaRenderQpl;a=a.outgoing;var u=s===void 0?!1:s,v=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();s=e.xmaLayoutType;var w;b[0]!==s?(w=s!=null?(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,b[0]=s,b[1]=w):w=b[1];var x=w;b[2]!==o||b[3]!==e||b[4]!==f?(s=o==null?void 0:o(e,f),b[2]=o,b[3]=e,b[4]=f,b[5]=s):s=b[5];w=s;o=e.transportKey==="Instamadillo"&&e.subtitleText==="Story";s=!r&&n;n=!x&&r&&!o?m.flattenTop:!1;r=u?m.reply:!1;b[6]!==n||b[7]!==r?(o=[m.root,n,r],b[6]=n,b[7]=r,b[8]=o):o=b[8];b[9]!==f||b[10]!==v||b[11]!==u||b[12]!==x?(n=function(a){return l.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:v,isReply:u,isXMAExpired:x,children:a})},b[9]=f,b[10]=v,b[11]=u,b[12]=x,b[13]=n):n=b[13];b[14]!==e||b[15]!==f||b[16]!==p?(r=l.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:p}),b[14]=e,b[15]=f,b[16]=p,b[17]=r):r=b[17];b[18]!==e||b[19]!==f||b[20]!==q||b[21]!==t?(p=l.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:q,mediaRenderQpl:t,size:"large"}),b[18]=e,b[19]=f,b[20]=q,b[21]=t,b[22]=p):p=b[22];b[23]!==g?(q=g.length===6?l.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:g}):null,b[23]=g,b[24]=q):q=b[24];b[25]!==p||b[26]!==q?(t=l.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:[p,q]}),b[25]=p,b[26]=q,b[27]=t):t=b[27];b[28]!==e||b[29]!==f||b[30]!==w?(g=l.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:l.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:e,attachmentItem:f,favIconUrl:w})}),b[28]=e,b[29]=f,b[30]=w,b[31]=g):g=b[31];b[32]!==e||b[33]!==f||b[34]!==n||b[35]!==r||b[36]!==t||b[37]!==g?(p=l.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:n,children:[r,t,g]}),b[32]=e,b[33]=f,b[34]=n,b[35]=r,b[36]=t,b[37]=g,b[38]=p):p=b[38];b[39]!==h||b[40]!==s||b[41]!==a||b[42]!==e.threadKey||b[43]!==o||b[44]!==p?(q=l.jsx(c("IGDXMAAttachmentContainer.react"),{connectBottom:h,connectTop:s,outgoing:a,threadKey:e.threadKey,xstyle:o,children:p}),b[39]=h,b[40]=s,b[41]=a,b[42]=e.threadKey,b[43]=o,b[44]=p,b[45]=q):q=b[45];return q}g["default"]=a}),98);
__d("IGDXMAAttachmentExpired.react",["IGDMessageContainerWithHighlightBar.react","IGDSText.react","polarisGetIGFormattedText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=function(a){return a==null||a===""};function a(a){var b=i(16),d=a.attachment,e=a.formatText,f=a.message;a=a.outgoing;var g=d.subtitleText;d=d.titleText;var h=f.replySnippet;f=f.text;f=!k(f);if(b[0]!==g||b[1]!==e){var l;l=k(g)?null:j.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!0,children:e?c("polarisGetIGFormattedText")((l=g)!=null?l:""):g})});b[0]=g;b[1]=e;b[2]=l}else l=b[2];g=l;b[3]!==g||b[4]!==h?(e=g===null&&!k(h)?j.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h})}):null,b[3]=g,b[4]=h,b[5]=e):e=b[5];l=e;b[6]!==f||b[7]!==d||b[8]!==l?(h=!f&&!k(d)?j.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:j.jsx(c("IGDSText.react"),{color:l?"secondaryText":"primaryText",size:"footnote",children:d})}):null,b[6]=f,b[7]=d,b[8]=l,b[9]=h):h=b[9];e=h;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf xl56j7k x21xpn4",b[10]=f):f=b[10];b[11]!==a||b[12]!==l||b[13]!==e||b[14]!==g?(d=j.jsx("div",{className:f,children:j.jsxs(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!1,children:[l,e,g]})}),b[11]=a,b[12]=l,b[13]=e,b[14]=g,b[15]=d):d=b[15];return d}g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyForLayered.react",["IGDSText.react","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemIcon.react","MWXMAIconParser.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={container:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginTop:"xzbmw64",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",width:"xwzpupj",$$css:!0},outgoing:{"float":"x1guec7k",$$css:!0},textContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},textContainerWithIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function a(a){var b=j(23),e=a.attachment,f=a.attachmentItem,g=a.favIconUrl;a=a.outgoing;var i=d("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(e,f),m=i[0];i=i[1];i=i;var n;b[0]!==g?(n=g!=null?d("MWXMAIconParser.react").parse(g):null,b[0]=g,b[1]=n):n=b[1];n=n;a=a&&l.outgoing;var o;b[2]!==a?(o=(h||(h=c("stylex")))(l.container,a),b[2]=a,b[3]=o):o=b[3];b[4]!==n||b[5]!==g||b[6]!==e||b[7]!==f?(a=n!=null?k.jsx(c("MWXMAAttachmentItemIcon.react"),{attachment:e,attachmentItem:f,getFaviconUrlXMA:function(){var a;return(a=g)!=null?a:void 0},mediaRenderQpl:void 0},"icon"):null,b[4]=n,b[5]=g,b[6]=e,b[7]=f,b[8]=a):a=b[8];e=n==null?l.textContainerWithIcon:null;b[9]!==e?(f=(h||(h=c("stylex")))(l.textContainer,e),b[9]=e,b[10]=f):f=b[10];b[11]!==i?(n=k.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:3,size:"body",children:i}),b[11]=i,b[12]=n):n=b[12];b[13]!==m||b[14]!==n?(e=k.jsxs(c("IGDSText.react"),{maxLines:3,size:"body",weight:"semibold",children:[m," ",n]}),b[13]=m,b[14]=n,b[15]=e):e=b[15];b[16]!==f||b[17]!==e?(i=k.jsx("div",{className:f,children:e}),b[16]=f,b[17]=e,b[18]=i):i=b[18];b[19]!==o||b[20]!==a||b[21]!==i?(m=k.jsxs("div",{className:o,children:[a,i]}),b[19]=o,b[20]=a,b[21]=i,b[22]=m):m=b[22];return m}g["default"]=a}),98);
__d("IGDXMAAttachmentLayered.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBodyForLayered.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","WAArmadilloXMA.pb","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h,m={flattenTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=k(50),e=a.attachment,f=a.attachmentItem,g=a.connectBottom,h=a.connectTop,n=a.getFaviconUrlXMA,o=a.getHeaderImageUrlXMA,p=a.getPreviewImageUrlXMA,q=a.hasText,r=a.isReply,s=a.mediaRenderQpl;a=a.outgoing;var t=r===void 0?!1:r,u=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();r=e.xmaLayoutType;var v;b[0]!==r?(v=r!=null?(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,b[0]=r,b[1]=v):v=b[1];var w=v;b[2]!==n||b[3]!==e||b[4]!==f?(r=n==null?void 0:n(e,f),b[2]=n,b[3]=e,b[4]=f,b[5]=r):r=b[5];v=r;n=!q&&h;r=!w&&q?m.flattenTop:!1;h=t?m.reply:!1;b[6]!==r||b[7]!==h?(q=[m.root,r,h],b[6]=r,b[7]=h,b[8]=q):q=b[8];b[9]!==f||b[10]!==u||b[11]!==t||b[12]!==w?(r=function(a){return l.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:u,isReply:t,isXMAExpired:w,children:a})},b[9]=f,b[10]=u,b[11]=t,b[12]=w,b[13]=r):r=b[13];b[14]!==e||b[15]!==f||b[16]!==o?(h=l.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:o}),b[14]=e,b[15]=f,b[16]=o,b[17]=h):h=b[17];b[18]!==e||b[19]!==f||b[20]!==p||b[21]!==s?(o=l.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:l.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:p,mediaRenderQpl:s,size:"large"})}),b[18]=e,b[19]=f,b[20]=p,b[21]=s,b[22]=o):o=b[22];b[23]!==e||b[24]!==f||b[25]!==r||b[26]!==h||b[27]!==o?(p=l.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:r,children:[h,o]}),b[23]=e,b[24]=f,b[25]=r,b[26]=h,b[27]=o,b[28]=p):p=b[28];b[29]!==g||b[30]!==n||b[31]!==a||b[32]!==e.threadKey||b[33]!==q||b[34]!==p?(s=l.jsx(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:n,outgoing:a,threadKey:e.threadKey,xstyle:q,children:p}),b[29]=g,b[30]=n,b[31]=a,b[32]=e.threadKey,b[33]=q,b[34]=p,b[35]=s):s=b[35];b[36]!==e||b[37]!==f||b[38]!==v||b[39]!==a?(r=l.jsx(c("IGDXMAAttachmentItemBodyForLayered.react"),{attachment:e,attachmentItem:f,favIconUrl:v,outgoing:a}),b[36]=e,b[37]=f,b[38]=v,b[39]=a,b[40]=r):r=b[40];b[41]!==f||b[42]!==u||b[43]!==t||b[44]!==w||b[45]!==r?(h=l.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:u,isReply:t,isXMAExpired:w,children:r}),b[41]=f,b[42]=u,b[43]=t,b[44]=w,b[45]=r,b[46]=h):h=b[46];b[47]!==s||b[48]!==h?(o=l.jsxs("div",{children:[s,h]}),b[47]=s,b[48]=h,b[49]=o):o=b[49];return o}g["default"]=a}),98);
__d("attachmentToAttachmentItem",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}f["default"]=a}),66);
__d("IGDXMAAttachmentPlaceholder.react",["IGDSBox.react","IGDSText.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemPressable.react","attachmentToAttachmentItem","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={container:{backgroundColor:"x19g9edo",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},titleWithMarginBottom:{marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=i(15),d=a.attachment;a=a.outgoing;var e=c("isStringNullOrEmpty")(d.subtitleText)?c("isStringNullOrEmpty")(d.captionBodyText)?null:d.captionBodyText:d.subtitleText,f;b[0]!==e?(f=e!=null?j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e}):null,b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==d.titleText||b[3]!==e?(f=c("isStringNullOrEmpty")(d.titleText)?null:j.jsx(c("IGDSBox.react"),{xstyle:e!==null?k.titleWithMarginBottom:void 0,children:j.jsx(c("IGDSText.react"),{size:"body",children:d.titleText})}),b[2]=d.titleText,b[3]=e,b[4]=f):f=b[4];f=f;if(f!==null||e!==null){var g;b[5]!==d?(g=c("attachmentToAttachmentItem")(d),b[5]=d,b[6]=g):g=b[6];var h;b[7]!==a||b[8]!==d.threadKey||b[9]!==f||b[10]!==e?(h=j.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,outgoing:a,threadKey:d.threadKey,xstyle:k.container,children:[f,e]}),b[7]=a,b[8]=d.threadKey,b[9]=f,b[10]=e,b[11]=h):h=b[11];b[12]!==g||b[13]!==h?(a=j.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:g,children:h}),b[12]=g,b[13]=h,b[14]=a):a=b[14];return a}return null}g["default"]=a}),98);
__d("IGDChatEmoji.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=j(5),d=a.text;a=a.xstyle;if(d!=null){var e;b[0]!==a?(e=(h||(h=c("stylex")))(l.chatEmoji,a),b[0]=a,b[1]=e):e=b[1];b[2]!==e||b[3]!==d?(a=k.jsx("span",{className:e,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}else return null}g["default"]=a}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{end:"xb1pw9c",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{start:"x1oqdd6z",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingStart:"x1ye3gou",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingEnd:"xn6708d",textAlign:"xp4054r",$$css:!0}};function a(a){var b=j(8),d=a.isOverlay,e=a.outgoing;a=a.reaction;if(a==null)return null;var f;b[0]!==d||b[1]!==e?(f=(h||(h=c("stylex")))(d?[l.overlayReaction,e?l.overlayReactionOutgoing:l.overlayReactionIncoming]:[e?l.reactionOutgoing:l.reactionIncoming]),b[0]=d,b[1]=e,b[2]=f):f=b[2];b[3]!==a?(d=k.jsx(c("IGDChatEmoji.react"),{text:a}),b[3]=a,b[4]=d):d=b[4];b[5]!==f||b[6]!==d?(e=k.jsx("div",{className:f,children:d}),b[5]=f,b[6]=d,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("IGDSHistoryOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M1.523 7.91a11.253 11.253 0 1 1 2.275 11.784",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),e=j.jsx("polyline",{fill:"none",points:"6.381 7.909 0.756 7.909 0.756 2.284",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),f=j.jsx("polyline",{fill:"none",points:"8.51 15.496 12.006 12 12.019 12.013 12.019 5.016",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDXMAStoryOnlyYouCanSee.react",["fbt","IGDSBox.react","IGDSHistoryOutline24Icon.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={container:{maxWidth:"xazcve0",paddingStart:"x1egjynq",$$css:!0}};function a(){var a=j(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx("div",{className:"xod5an3",children:k.jsx(c("IGDSHistoryOutline24Icon.react"),{alt:"Info",color:"ig-secondary-text",size:18})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:l.container,children:[b,k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__IfMML-M2h40__JHASH__")})]}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("useXMAPreviewIconDecorator.react",["fbt","IGDSBox.react","IGDSReelsFilledIcon.react","IGDSText.react","LSIntEnum","MNXMAPreviewImageDecorationType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i,m={liveDecoration:{backgroundColor:"x13klbg6",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xxk0z11",width:"x187nhsf",$$css:!0}};function a(a){var b=k(2);if(a==null)return null;a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a);switch(a){case c("MNXMAPreviewImageDecorationType").REEL:b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSReelsFilledIcon.react"),{alt:h._("__JHASH__2sHlT8vl0xv__JHASH__"),color:"web-always-white"}),b[0]=a):a=b[0];return a;case c("MNXMAPreviewImageDecorationType").LIVE:b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",xstyle:m.liveDecoration,children:l.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:h._("__JHASH__ceBReGZfsET__JHASH__")})}),b[1]=a):a=b[1];return a;default:return null}}g["default"]=a}),226);
__d("IGDXMAAttachmentPortrait.react",["I64","IGDSBox.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","IGDXMAAttachmentReactionItem.react","IGDXMAAttachmentUtil","IGDXMAStoryOnlyYouCanSee.react","LSIntEnum","LSReplyMessageAttachmentType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWVerticalRhythm","MWXMessageImage.react","WAArmadilloXMA.pb","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).c,m=i,n={container:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},live:{width:"x1g6vzv9",$$css:!0},liveGradient:{backgroundImage:"x1xz74zx",$$css:!0},reel:{width:"xtqaf1t",$$css:!0},reelGradient:{backgroundImage:"x6m44yg",$$css:!0},scrim:{bottom:"x1ey2m1c",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0},story:{width:"xfj1xho",$$css:!0},storyGradient:{backgroundImage:"xu1rcjc",$$css:!0},storyInteraction:{width:"x1exxlbk",$$css:!0}};function a(a){var b=l(55),e=a.attachment,f=a.attachmentItem,g=a.connectBottom,i=a.connectTop,o=a.getHeaderImageUrlXMA,p=a.getPreviewImageUrlXMA,q=a.hasText,r=a.mediaRenderQpl,s=a.message;a=a.outgoing;var t=e.previewImageDecorationType,u=e.targetExpiryTimestampMs,v;b[0]!==t?(v=t!=null?[(j||(j=d("I64"))).equal(t,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL)),(j||(j=d("I64"))).equal(t,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON)),(j||(j=d("I64"))).equal(t,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE))]:[!1,!1],b[0]=t,b[1]=v):v=b[1];v=v;var w=v[0],x=v[1];v=v[2];t=c("useXMAPreviewIconDecorator.react")(t);var y=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),z=e.defaultCtaId!=null,A;b[2]!==s.text?(A=d("IGDXMAAttachmentUtil").isEmojiReaction(s.text),b[2]=s.text,b[3]=A):A=b[3];A=A;A=A||!1;var B;x?B=q||A?n.storyInteraction:n.story:w?B=n.reel:v&&(B=n.live);var C=!(q||A),D=x&&s.replyAttachmentType==null,E=s.text;u=u!=null&&Date.now()>=(k||(k=d("LSIntEnum"))).toNumber(u);u=x&&u&&!a&&q;if(b[4]!==s){q=s.replySourceId!=null||!(s.replyMediaUrl!=null&&s.replyMediaPreviewWidth!=null&&s.replyMediaPreviewHeight!=null&&s.replyMediaUrlMimeType!=null&&s.replyMediaUrlMimeType==="image/gif"&&s.replyAttachmentType!=null&&(j||(j=d("I64"))).equal(s.replyAttachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))?null:m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsx(c("MWXMessageImage.react"),{alt:void 0,height:(j||(j=d("I64"))).to_float((q=s.replyMediaPreviewHeight)!=null?q:(j||(j=d("I64"))).zero),maxHeight:200,maxWidth:void 0,src:(q=s.replyMediaUrl)!=null?q:"",width:(j||(j=d("I64"))).to_float((q=s.replyMediaPreviewWidth)!=null?q:(j||(j=d("I64"))).zero)})]});b[4]=s;b[5]=q}else q=b[5];q=q;var F;b[6]!==f||b[7]!==y?(F=function(a){return m.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:y,children:a})},b[6]=f,b[7]=y,b[8]=F):F=b[8];g=x&&A?!1:g;var G=s.threadKey,H=B,I;b[9]!==C||b[10]!==e||b[11]!==f||b[12]!==o?(I=C?m.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:o,overlayingMedia:!0}):null,b[9]=C,b[10]=e,b[11]=f,b[12]=o,b[13]=I):I=b[13];b[14]!==e||b[15]!==f||b[16]!==p||b[17]!==r?(o=m.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:p,mediaRenderQpl:r,size:"large"}),b[14]=e,b[15]=f,b[16]=p,b[17]=r,b[18]=o):o=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1ey2m1c x17qophe xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x1vjfegm",b[19]=p):p=b[19];b[20]!==t?(r=m.jsx("div",{className:p,children:t}),b[20]=t,b[21]=r):r=b[21];b[22]!==C||b[23]!==w||b[24]!==x||b[25]!==v?(p=C?m.jsx("div",{className:(h||(h=c("stylex")))(n.scrim,w?n.reelGradient:!1,x?n.storyGradient:!1,v?n.liveGradient:!1)}):null,b[22]=C,b[23]=w,b[24]=x,b[25]=v,b[26]=p):p=b[26];b[27]!==g||b[28]!==i||b[29]!==a||b[30]!==s.threadKey||b[31]!==D||b[32]!==B||b[33]!==I||b[34]!==o||b[35]!==r||b[36]!==p?(t=m.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:i,outgoing:a,threadKey:G,withHighlightBar:D,xstyle:H,children:[I,o,r,p]}),b[27]=g,b[28]=i,b[29]=a,b[30]=s.threadKey,b[31]=D,b[32]=B,b[33]=I,b[34]=o,b[35]=r,b[36]=p,b[37]=t):t=b[37];b[38]!==A||b[39]!==E||b[40]!==z||b[41]!==a?(C=A&&E!=null&&E!==""?m.jsx(c("IGDXMAAttachmentReactionItem.react"),{isOverlay:z,outgoing:a,reaction:E}):null,b[38]=A,b[39]=E,b[40]=z,b[41]=a,b[42]=C):C=b[42];b[43]!==e||b[44]!==f||b[45]!==F||b[46]!==t||b[47]!==C||b[48]!==q?(w=m.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:F,children:[t,C,q]}),b[43]=e,b[44]=f,b[45]=F,b[46]=t,b[47]=C,b[48]=q,b[49]=w):w=b[49];b[50]!==u?(x=u?m.jsx(c("IGDXMAStoryOnlyYouCanSee.react"),{}):null,b[50]=u,b[51]=x):x=b[51];b[52]!==w||b[53]!==x?(v=m.jsxs(c("IGDSBox.react"),{direction:"row",xstyle:n.container,children:[w,x]}),b[52]=w,b[53]=x,b[54]=v):v=b[54];return v}g["default"]=a}),98);
__d("MWPBaseXMAAttachment.react",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react");function m(){return null}function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}function o(a,b,e,f){if(b.length!==0){c("recoverableViolation")("Unknown combination of XMA items and layout. Attachment Items: ("+String(b.length)+"), Layout: "+(a.xmaLayoutType==null?"na":(j||(j=d("I64"))).to_string(a.xmaLayoutType))+", Attachment Type: "+(j||(j=d("I64"))).to_string(a.attachmentType),"messenger_web_sharing");return e()}return f({attachmentItems:[],layoutType:"vertical",preview:n(a)})}function p(a,b,e,f){var g=a.xmaLayoutType,h=b.length;if(g==null)return o(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)))return f({layoutType:"expired"});if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PLACEHOLDER)))return f({layoutType:"placeholder"});if(h===1)return f({attachmentItems:b,layoutType:"vertical",preview:b[0]});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE))&&h===6||h===7?f({attachmentItems:b,layoutType:"vertical",preview:n(a)}):o(a,b,e,f)}function q(a,b,e,f){var g=a.xmaLayoutType;if(g==null)return p(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)))return f({attachmentItems:b,layoutType:"horizontal"});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER))?f({attachmentItem:b[0],layoutType:"centered"}):p(a,b,e,f)}function a(a){var b=a.attachment;a.connectBottom;a.connectTop;a.hasText;var e=a.renderLayout;a=a.renderUnsupportedXMAAttachment;a=a===void 0?m:a;var g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.attachment_items).getKeyRange(b.attachmentFbid)},[g,b.attachmentFbid],f.id+":236");return l.jsx("div",{className:"x16it46q",children:q(b,i,a,e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIssueIGDReceiverFetchTask",["JSResourceForInteraction","PolarisAutomaticPreviewsDisabledContext.react","PolarisDismissEntry","cr:10752","cr:10753","cr:1562","cr:496","promiseDone","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.c,k=(f=b("cr:1562"))!=null?f:b("cr:10752"),l=(e=b("cr:496"))!=null?e:b("cr:10753");function a(a,b,e){var f=j(8),g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("IGDAutomaticPreviewNUXModal.react").__setRef("useIssueIGDReceiverFetchTask"),f[0]=g):g=f[0];g=c("useIGDSLazyDialog")(g);var h=g[0],m=d("PolarisAutomaticPreviewsDisabledContext.react").usePolarisIsAutomaticPreviewsDisabled(),n;f[1]!==m||f[2]!==e||f[3]!==b||f[4]!==h||f[5]!==a?(g=function(){if(m||e==null){k!=null&&c("promiseDone")(k.renderDefaultPreview(b,e));return}l!=null&&(d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)||(h({threadKey:a}),d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)),c("promiseDone")(l==null?void 0:l.issueReceiverFetchTaskDeidentified(b,e)))},n=[m,b,h,a,e],f[1]=m,f[2]=e,f[3]=b,f[4]=h,f[5]=a,f[6]=g,f[7]=n):(g=f[6],n=f[7]);i(g,n)}g["default"]=a}),98);
__d("IGDXMAAttachment.react",["I64","IGDPlaceholderMessage.react","IGDXMAAttachmentCard.react","IGDXMAAttachmentExpired.react","IGDXMAAttachmentLayered.react","IGDXMAAttachmentPlaceholder.react","IGDXMAAttachmentPortrait.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachment.react","cr:2021","react","useIssueIGDReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var e=k(24),f=a.attachment,g=a.connectBottom,h=a.connectTop,m=a.formatText,n=a.getFaviconUrlXMA,o=a.getHeaderImageUrlXMA,p=a.getPreviewImageUrlXMA,q=a.hasText,r=a.isReply,s=a.mediaRenderQpl,t=a.message,u=a.outgoing,v=m===void 0?!1:m,w=q===void 0?!1:q,x=r===void 0?!1:r;c("useIssueIGDReceiverFetchTask")(t.threadKey,t.messageId,t.xmaReceiverFetchParams);e[0]!==f||e[1]!==g||e[2]!==h||e[3]!==o||e[4]!==p||e[5]!==w||e[6]!==s||e[7]!==t||e[8]!==u||e[9]!==n||e[10]!==x||e[11]!==v?(a=function(a){bb14:switch(a.layoutType){case"vertical":var e=a.attachmentItems,k=a.preview;e=e.filter(function(a){return a.previewUrl!=null});var m=f.xmaLayoutType;return m!=null&&(i||(i=d("I64"))).equal(m,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))?l.jsx(c("IGDXMAAttachmentPortrait.react"),{attachment:f,attachmentItem:k,connectBottom:g,connectTop:h,getHeaderImageUrlXMA:o,getPreviewImageUrlXMA:p,hasText:w,mediaRenderQpl:s,message:t,outgoing:u}):m!=null&&(i||(i=d("I64"))).equal(m,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").LAYERED))?l.jsx(c("IGDXMAAttachmentLayered.react"),{attachment:f,attachmentItem:k,connectBottom:g,connectTop:h,getFaviconUrlXMA:n,getHeaderImageUrlXMA:o,getPreviewImageUrlXMA:p,hasText:w,isReply:x,mediaRenderQpl:s,outgoing:u}):l.jsx(c("IGDXMAAttachmentCard.react"),{attachment:f,attachmentItem:k,attachmentItems:e,connectBottom:g,connectTop:h,getFaviconUrlXMA:n,getHeaderImageUrlXMA:o,getPreviewImageUrlXMA:p,hasText:w,isReply:x,mediaRenderQpl:s,outgoing:u});case"centered":if(a.attachmentItem!=null&&b("cr:2021")!=null)return l.jsx(b("cr:2021"),{attachment:f,attachmentItem:a.attachmentItem,connectBottom:g,connectTop:h,getFaviconUrlXMA:n,getHeaderImageUrlXMA:o,getPreviewImageUrlXMA:p,mediaRenderQpl:s,outgoing:u});break bb14;case"expired":return l.jsx(c("IGDXMAAttachmentExpired.react"),{attachment:f,formatText:v,message:t,outgoing:u});case"placeholder":return l.jsx(c("IGDXMAAttachmentPlaceholder.react"),{attachment:f,outgoing:u})}},e[0]=f,e[1]=g,e[2]=h,e[3]=o,e[4]=p,e[5]=w,e[6]=s,e[7]=t,e[8]=u,e[9]=n,e[10]=x,e[11]=v,e[12]=a):a=e[12];e[13]!==g||e[14]!==h||e[15]!==u?(m=function(){return l.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:g,connectTop:h,outgoing:u})},e[13]=g,e[14]=h,e[15]=u,e[16]=m):m=e[16];e[17]!==f||e[18]!==g||e[19]!==h||e[20]!==w||e[21]!==a||e[22]!==m?(q=l.jsx(c("MWPBaseXMAAttachment.react"),{attachment:f,connectBottom:g,connectTop:h,hasText:w,renderLayout:a,renderUnsupportedXMAAttachment:m}),e[17]=f,e[18]=g,e[19]=h,e[20]=w,e[21]=a,e[22]=m,e[23]=q):q=e[23];return q}g["default"]=a}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("mwpMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","mwpMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_top_margin:{marginTop:"x1gslohp",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.hasTopMargin;f=f===void 0?!1:f;var g=a.message;a.outgoing;var h=a.paint;h=h===void 0?!0:h;var k=a.renderEmphasisRing;a=a.xmaLayout;var l=c("MWPMessageHasXMA")(g),m=c("MWPMessageIsReply")(g),n=c("mwpMessageWithAttachmentHasPoll")(g);g=g.text;g=g!=null?g!=="":!1;n=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,l?j.container_for_xma:!1,n?j.container_for_poll:!1,f?j.container_for_top_margin:!1],children:b});return i.jsxs(i.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!l||!g)?i.jsx(d("react-strict-dom").html.div,{style:j.vr}):null,i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!m&&h,children:k!=null?k(l,n):n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchPluginUtils",["isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];var i=decodeURIComponent(a);h.includes("source_titles")&&b.push(i.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(i.replaceAll("+"," "));h.includes("source_urls")&&d.push(i);h==="source_query"&&(e=a==null?"":i.replaceAll("+"," "));h==="source_query_url"&&(f=i);h==="header"&&(g=i)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}function b(a){if(a.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&a.cta2Type==="xma_gen_ai_search_plugin_response_sources")return!0;return h(a)?!0:!1}function d(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_sources"}function h(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_sources"&&c("isStringNullOrEmpty")(a.headerTitle)}g.useSearchPluginSources=a;g.isSearchPlugin=b;g.isSearchSingleBubblePlugin=d;g.isSearchPluginWithoutAttributionLink=h}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.tables.attachment_ctas).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e)},[b,e,g],f.id+":25").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","gkx","isMWBumpMessage","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function m(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.mediaRenderQpl,g=a.message,h=a.renderAudioAttachment,n=a.renderEmphasisRing,o=a.renderEphemeralMediaAttachment,p=a.renderFileAttachment,q=a.renderImageAttachment,r=a.renderImageGrid,s=a.renderMultipleAttachments,t=a.renderStickerAttachment,u=a.renderUnsupportedAttachment,v=a.renderUnsupportedMultipleAttachments,w=a.renderVideoAttachment,x=a.renderWrapper,y=a.renderXMAAttachment;a=a.xmaLayout;var z=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,A=c("useMWPGetAttachments")(g);a=c("useMWPGetAttachmentCTA")(A.length>0?A[0].attachmentCta1Id:null);var B=A.length>0?d("MWSearchPluginUtils").isSearchSingleBubblePlugin(A[0]):!1,C=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();C=C.blurMediaEnabled;C=c("gkx")("24098")&&C;var D=A.length>0?A[0]:null;l(function(){D!=null?(f==null?void 0:f.addAttachmentAnnotations==null?void 0:f.addAttachmentAnnotations(D),f==null?void 0:f.addPoint("render-message-list-attachment")):f==null?void 0:f.addPoint("missing-message-list-attachment")},[D,f]);if(c("isMWBumpMessage")(g))return null;if(A.length!==1)if(A.length>1&&A.every(m))C?C=A.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:n,xmaLayout:z,children:q(a,b!==0,b!==A.length-1,u)})]},a.attachmentFbid)}):C=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:n,xmaLayout:z,children:r(A)});else{if(A.length>1){C=s==null?void 0:s(A);if(C!=null)return C}C=v!=null?v(A):void 0}else{var E=A[0];r=E.attachmentType;s=!(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));v=E.attachmentType;r=function(){f==null?void 0:f.endSuccess();return u(E)};C=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,hasTopMargin:B,message:g,paint:s,renderEmphasisRing:n,xmaLayout:z,children:(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?q(E,e,b,u):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?w(E):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h(E):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?t(E):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?y(E,a):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?p(E):(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(v,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?o(E):r()})}return C!=null?x!=null?x(C):C:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName,e=a.isError,f=a.isRetryableError,g=a.onRetry;a=a.withPreview;b=(b=b)!=null?b:{};b=b.previewUrl;if(e===!0)return j.jsx("div",{className:"x1ye3gou",children:j.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 x10w6t97 xl56j7k x1td3qas",children:f===!0?j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:g,size:32,testid:void 0,type:"normal"}):j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconExclamationMarkCircle"),size:20})})})});return b==null||!a?j.jsx("div",{className:"x1ye3gou",children:j.jsx(c("MWChatFileIconV2.react"),{})}):j.jsx(c("FDSImageCover.react"),{alt:(e=d)!=null?e:"",src:b,style:k.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("24035");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.tables.threads).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.tables.attachments).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.mediaRenderQpl,g=a.messageID,h=a.onPress,l=a.url;a=a.xstyle;j(function(){l!=null&&l.length>0?f==null?void 0:f.endSuccess():f==null?void 0:f.endFail("load-file-error")},[f,l]);return g!=null&&g.type==="sent"&&b!=null&&l!=null?i.jsx(k,{attachmentID:b,children:c,entryPoint:e,onPress:h,sentMessage:g.value,url:l,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:h,url:l,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.attachmentID,e=a.sentMessage,f=a.url,g=a.children,h=a.entryPoint,j=a.onPress;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();e=c("useMWFileOnPress")(e,b,j,h,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(f);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:g,onPress:e,url:f,xstyle:a})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=a.mediaRenderQpl;var f=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]),g=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),j=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_web_media")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",mediaRenderQpl:a,messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),url:j==null?void 0:j.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:f,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDAttachment.react",["EphemeralMediaViewMode","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDBroadcastChannelLoggerUtils","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDMessageContainerWithHighlightBar.react","IGDMessageContentNoLongerAvailablePlaceholder.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWPMessageListAttachment.react","MWPSolidMessageBubble.react","MWV2ChatFileV2.react","MessagingAttachmentType","MessengerWebUXLogger","cr:3336","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;e.useCallback;var l=e.c;function a(a){var e=l(62),f=a.connectBottom,g=a.connectTop,h=a.formatText,r=a.hasText,s=a.mediaRenderQpl,t=a.message,u=a.outgoing,v=p,w=o,x=n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={eventName:"media_collection_rendered"},e[0]=a):a=e[0];var y=c("MessengerWebUXLogger").useImpressionLoggerRef(a),z=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(t.threadKey);e[1]!==s||e[2]!==u?(a=function(a){return k.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,mediaRenderQpl:s,outgoing:u})},e[1]=s,e[2]=u,e[3]=a):a=e[3];var A;e[4]!==f||e[5]!==g||e[6]!==u||e[7]!==s||e[8]!==t?(A=function(a){if(a.ephemeralMediaViewMode){var e=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.ephemeralMediaViewMode);switch(e){case c("EphemeralMediaViewMode").PERMANENT:return a.igStoryReplyType==="story_selfie_reply"?k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:u}):(j||(j=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:g,mediaRenderQpl:s,message:t,outgoing:u}):k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,mediaRenderQpl:s,message:t,outgoing:u});case c("EphemeralMediaViewMode").READ_ONCE:case c("EphemeralMediaViewMode").REPLAYABLE:return k.jsx(b("cr:3336"),{attachment:a,connectBottom:f,connectTop:g,outgoing:u})}}return k.jsx(b("cr:3336"),{attachment:a,connectBottom:f,connectTop:g,outgoing:u})},e[4]=f,e[5]=g,e[6]=u,e[7]=s,e[8]=t,e[9]=A):A=e[9];var B;e[10]!==g||e[11]!==u?(B=function(a){return k.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:g,outgoing:u,style:{backgroundColor:"var(--comment-background)"},children:k.jsx(c("MWV2ChatFileV2.react"),{attachment:a,mediaRenderQpl:null})})},e[10]=g,e[11]=u,e[12]=B):B=e[12];var C;e[13]!==s||e[14]!==t||e[15]!==u?(C=function(a,b,d){return k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:d,connectTop:b,mediaRenderQpl:s,message:t,outgoing:u})},e[13]=s,e[14]=t,e[15]=u,e[16]=C):C=e[16];var D,E;e[17]!==f||e[18]!==g||e[19]!==y||e[20]!==s||e[21]!==t||e[22]!==u?(D=function(a){return c("gkx")("1911")?k.jsx(c("IGDMediaGrid.react"),{attachments:a,connectBottom:f,connectTop:g,logImpressionEventRef:y,onRenderMedia:function(a){return k.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:s,message:t,outgoing:u})},outgoing:u}):k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:u})},E=function(a){return q(a,t,f,g,u,y,s)},e[17]=f,e[18]=g,e[19]=y,e[20]=s,e[21]=t,e[22]=u,e[23]=D,e[24]=E):(D=e[23],E=e[24]);var F;e[25]!==f||e[26]!==g||e[27]!==u?(F=function(a){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:u})},e[25]=f,e[26]=g,e[27]=u,e[28]=F):F=e[28];var G;e[29]!==t||e[30]!==u||e[31]!==f||e[32]!==g?(G=function(a){var b=t.displayedContentTypes;return a.length===0&&!!(j||(j=d("I64"))).equal(b,(j||(j=d("I64"))).zero)?k.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:u,withMarginBottom:!1,children:k.jsx(c("IGDMessageContentNoLongerAvailablePlaceholder.react"),{message:t.replySnippet!=null?t:void 0})}):k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:u})},e[29]=t,e[30]=u,e[31]=f,e[32]=g,e[33]=G):G=e[33];var H;e[34]!==g||e[35]!==s||e[36]!==t||e[37]!==u?(H=function(a){return k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:g,mediaRenderQpl:s,message:t,outgoing:u})},e[34]=g,e[35]=s,e[36]=t,e[37]=u,e[38]=H):H=e[38];var I;e[39]!==z||e[40]!==f||e[41]!==g||e[42]!==u||e[43]!==h||e[44]!==r||e[45]!==s||e[46]!==t?(I=function(a,b){if(d("IGDAttachmentUtil").isUnsupportedXma(a,b)||d("IGDAttachmentUtil").isIGDPoll(a)&&!z)return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:u});else if(a.playableUrlMimeType==="image/gif")return k.jsx(c("IGDSticker.react"),{attachment:a});else return k.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:f,connectTop:g,formatText:h,getFaviconUrlXMA:x,getHeaderImageUrlXMA:v,getPreviewImageUrlXMA:w,hasText:r,mediaRenderQpl:s,message:t,outgoing:u})},e[39]=z,e[40]=f,e[41]=g,e[42]=u,e[43]=h,e[44]=r,e[45]=s,e[46]=t,e[47]=I):I=e[47];var J;e[48]!==f||e[49]!==g||e[50]!==t||e[51]!==a||e[52]!==A||e[53]!==B||e[54]!==C||e[55]!==D||e[56]!==E||e[57]!==F||e[58]!==G||e[59]!==H||e[60]!==I?(J=k.jsx(c("MWPMessageListAttachment.react"),{connectBottom:f,connectTop:g,mediaRenderQpl:null,message:t,renderAudioAttachment:a,renderEphemeralMediaAttachment:A,renderFileAttachment:B,renderImageAttachment:C,renderImageGrid:D,renderMultipleAttachments:E,renderStickerAttachment:m,renderUnsupportedAttachment:F,renderUnsupportedMultipleAttachments:G,renderVideoAttachment:H,renderXMAAttachment:I}),e[48]=f,e[49]=g,e[50]=t,e[51]=a,e[52]=A,e[53]=B,e[54]=C,e[55]=D,e[56]=E,e[57]=F,e[58]=G,e[59]=H,e[60]=I,e[61]=J):J=e[61];return J}function m(a){return k.jsx(c("IGDSticker.react"),{attachment:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:void 0}function o(a,b){return d("LSMediaUrlAttachment").previewUrl(a)}function p(a){return d("LSMediaUrlAttachment").headerImageUrl(a)}function q(a,b,e,f,g,h,i){if(!c("gkx")("1911"))return null;var j=a.every(function(a){return d("IGDAttachmentUtil").isImageAttachment(a)||d("IGDAttachmentUtil").isVideoAttachment(a)});return!j?null:k.jsx(c("IGDMediaGrid.react"),{attachments:a,connectBottom:e,connectTop:f,logImpressionEventRef:h,onRenderMedia:function(a){if(d("IGDAttachmentUtil").isImageAttachment(a))return k.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:i,message:b,outgoing:g});return d("IGDAttachmentUtil").isVideoAttachment(a)?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:i,message:b,outgoing:g}):null},outgoing:g})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSAppMessengerOutline96Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M48 0C21.532 0 0 21.533 0 48s21.532 48 48 48 48-21.532 48-48S74.468 0 48 0Zm0 94C22.636 94 2 73.364 2 48S22.636 2 48 2s46 20.636 46 46-20.636 46-46 46Zm12.227-53.284-7.257 5.507c-.49.37-1.166.375-1.661.005l-5.373-4.031a3.453 3.453 0 0 0-4.989.921l-6.756 10.718c-.653 1.027.615 2.189 1.582 1.453l7.257-5.507a1.382 1.382 0 0 1 1.661-.005l5.373 4.031a3.453 3.453 0 0 0 4.989-.92l6.756-10.719c.653-1.027-.615-2.189-1.582-1.453ZM48 25c-12.958 0-23 9.492-23 22.31 0 6.706 2.749 12.5 7.224 16.503.375.338.602.806.62 1.31l.125 4.091a1.845 1.845 0 0 0 2.582 1.629l4.563-2.013a1.844 1.844 0 0 1 1.227-.093c2.096.579 4.331.884 6.659.884 12.958 0 23-9.491 23-22.31S60.958 25 48 25Zm0 42.621c-2.114 0-4.175-.273-6.133-.813a3.834 3.834 0 0 0-2.56.192l-4.346 1.917-.118-3.867a3.833 3.833 0 0 0-1.286-2.727C29.33 58.54 27 53.209 27 47.31 27 35.73 36.028 27 48 27s21 8.73 21 20.31-9.028 20.31-21 20.31Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDBaseNullState.react",["CometColumn.react","CometColumnItem.react","IGDSAppMessengerOutline96Icon.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(16),d=a.children,e=a.descriptionText,f=a.icon;a=a.titleText;if(b[0]!==f){var g;g=(g=f)!=null?g:j.jsx(c("IGDSAppMessengerOutline96Icon.react"),{alt:"",color:"ig-primary-text",size:96});b[0]=f;b[1]=g}else g=b[1];b[2]!==g?(f=j.jsx(c("CometColumnItem.react"),{children:g}),b[2]=g,b[3]=f):f=b[3];b[4]!==a?(g=j.jsx(c("CometColumnItem.react"),{paddingTop:20,children:j.jsx(c("IGDSText.react"),{size:"title",textAlign:"center",children:a})}),b[4]=a,b[5]=g):g=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a="x17fpy1y",b[6]=a):a=b[6];b[7]!==e?(a=j.jsx(c("CometColumnItem.react"),{paddingTop:16,children:j.jsx("div",{className:a,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",weight:"normal",children:e})})}),b[7]=e,b[8]=a):a=b[8];b[9]!==d?(e=d!=null&&j.jsx(c("CometColumnItem.react"),{paddingTop:20,children:d}),b[9]=d,b[10]=e):e=b[10];b[11]!==f||b[12]!==g||b[13]!==a||b[14]!==e?(d=j.jsxs(c("CometColumn.react"),{align:"center",expanding:!0,paddingHorizontal:16,verticalAlign:"center",children:[f,g,a,e]}),b[11]=f,b[12]=g,b[13]=a,b[14]=e,b[15]=d):d=b[15];return d}g["default"]=a}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i=c("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),k=i("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),l=i("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=i("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),n=i("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),o=i("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),p=i("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),q=i("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function r(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,e){m.onReady(function(f){f.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:e,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:e!=null?e:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function b(a,b){p.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function e(a,b,e,f){o.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function f(a,b,e,f){n.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function s(a,b){q.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function t(a,b,c,d,e){l.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function u(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function v(a,b,c){k.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=s;g.logMessageRequestsBulkActionTapped=t;g.logMessageRequestsBulkActionConfirmed=u;g.logMessageRequestsBulkActionEdit=v}),98);
__d("IGDBlockUserComposerBannerButton.react",["fbt","FBLogger","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MessageRequestsLog","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","useAsyncReStore","useIGDSLazyDialog","useMWBShouldReportThreadAsInstamadillo"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function a(a){var e=k(17),f=a.contact,g=a.thread,i=c("useAsyncReStore")(),m=c("useMWBShouldReportThreadAsInstamadillo")(g);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDBlockUserComposerBannerButton.react"),e[0]=a):a=e[0];a=c("useIGDSLazyDialog")(a);var n=a[0],o=c("MessengerWebUXLogger").useInteractionLogger(),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[1]!==g?(a=c("getInstamadilloLoggingExtraData")(g),e[1]=g,e[2]=a):a=e[2];var q=a,r;e[3]!==g||e[4]!==n||e[5]!==f.id||e[6]!==f.name||e[7]!==m||e[8]!==i||e[9]!==o||e[10]!==q||e[11]!==p?(a=function(){var a=d("LSMessagingThreadTypeUtil").isGroup(g.threadType),e=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(g);n({clickPoint:"composer_banner",contactID:f.id,isBlocked:!1,isGroup:a,onBlock:function(){m&&c("promiseDone")(i.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,g.threadKey));a?d("MessageRequestsLog").logActionConfirmed(a,2,(j||(j=d("I64"))).to_string(f.id)):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()))},shouldReportAsInstamadillo:m,threadKey:g.threadKey,userName:f.name},function(){});m&&c("promiseDone")(i.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,g.threadKey));a?d("MessageRequestsLog").logActionTapped(a,2,(j||(j=d("I64"))).to_string(f.id)):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()));o==null?void 0:o({eventName:"block_profile_attempt",extraData:babelHelpers["extends"]({},q,{is_request:String(e),target_id:(j||(j=d("I64"))).to_string(f.id)}),flowInstanceId:p})},r=[f.id,f.name,i,p,q,o,m,n,g],e[3]=g,e[4]=n,e[5]=f.id,e[6]=f.name,e[7]=m,e[8]=i,e[9]=o,e[10]=q,e[11]=p,e[12]=a,e[13]=r):(a=e[12],r=e[13]);a=d("Int64Hooks").useCallbackInt64(a,r);e[14]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__GGqnVjf_Hbb__JHASH__"),e[14]=r):r=e[14];e[15]!==a?(r=l.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:r,onClick:a,role:"button",variant:"destructive_link_deprecated"}),e[15]=a,e[16]=r):r=e[16];return r}g["default"]=a}),226);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(47,a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,h=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled").isContextBannerDisabled(a)?null:i.jsxs(i.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(i.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,h!=null&&l!=null?b==null?void 0:b(h,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDBlockedBroadcastThreadDetail.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","LSVerificationBadge.react","MWPThreadContextBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(3);a=a.descriptionText;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="xz9dl7a",b[0]=d):d=b[0];b[1]!==a?(d=k.jsx("div",{className:d,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:a})}),b[1]=a,b[2]=d):d=b[2];return d}function m(a){var b=j(9),d=a.thread;a=a.threadTitle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x9f619 xpkgp8e xmns6w2 xh8yej3",b[0]=e):e=b[0];var f;b[1]!==a?(f=k.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),b[1]=a,b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[3]=a):a=b[3];b[4]!==d.threadKey?(a=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("LSVerificationBadge.react"),{icon:a,threadKey:d.threadKey})}),b[4]=d.threadKey,b[5]=a):a=b[5];b[6]!==f||b[7]!==a?(d=k.jsx("div",{className:e,children:k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[f,a]})}),b[6]=f,b[7]=a,b[8]=d):d=b[8];return d}function a(a){var b=j(5),d=a.thread;b[0]!==d?(a=function(a){return k.jsx(m,{thread:d,threadTitle:a})},b[0]=d,b[1]=a):a=b[1];var e;b[2]!==a||b[3]!==d?(e=k.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",margin:"auto",maxWidth:"415px",padding:12,position:"relative",children:k.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:o,renderThreadPicture:n,renderThreadTitle:a,thread:d})}),b[2]=a,b[3]=d,b[4]=e):e=b[4];return e}function n(a){return k.jsx("div",{className:"xyamay9 x1l90r2v",children:k.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})}n.displayName=n.name+" [from "+f.id+"]";function o(){return k.jsx(l,{descriptionText:h._("__JHASH__LeLaIejE4Mi__JHASH__").toString()})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDDeleteThreadComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(9),d=a.onDelete,e=a.thread,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("IGDChatSettingsDeleteThreadDialog.react").__setRef("IGDDeleteThreadComposerBannerButton.react"),b[0]=f):f=b[0];f=c("useIGDSLazyDialog")(f);var g=f[0];b[1]!==a.onClick||b[2]!==g||b[3]!==d||b[4]!==e?(f=function(){var b;b=(b=a.onClick)!=null?b:function(){};g({onDelete:d,thread:e},function(){});return b()},b[1]=a.onClick,b[2]=g,b[3]=d,b[4]=e,b[5]=f):f=b[5];f=f;var i;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__O5M5LG37TOs__JHASH__"),b[6]=i):i=b[6];b[7]!==f?(i=j.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:i,onClick:f,role:"button",variant:"destructive_link_deprecated"}),b[7]=f,b[8]=i):i=b[8];return i}g["default"]=a}),226);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function a(a){var b=i(25),d=a.messageRequestAccept,e=a.messageRequestBlockLeave,f=a.messageRequestDelete,g=a.messageRequestFootnote;a=a.messageRequestHeader;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h="x5ur3kl x13fuv20 x178xt8z",b[0]=h):h=b[0];var l;b[1]!==a?(l=j.jsx(c("CometColumnItem.react"),{align:"center",children:a}),b[1]=a,b[2]=l):l=b[2];b[3]!==g?(a=j.jsx(c("CometColumnItem.react"),{align:"center",paddingTop:12,children:g}),b[3]=g,b[4]=a):a=b[4];b[5]!==l||b[6]!==a?(g=j.jsxs(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:k.header,children:[l,a]}),b[5]=l,b[6]=a,b[7]=g):g=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(l="x6s0dn4 x78zum5 xyamay9 x1pi30zi x1l90r2v x1swvt13",a="x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",b[8]=l,b[9]=a):(l=b[8],a=b[9]);b[10]!==e?(a=j.jsx("li",{className:a,children:e}),b[10]=e,b[11]=a):a=b[11];var m;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("li",{"aria-hidden":!0,className:"xopu45v xu3j5b3 xm81vs4 x1c4vz4f xs83m0k xxk0z11"}),m="x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",b[12]=e,b[13]=m):(e=b[12],m=b[13]);b[14]!==f?(m=j.jsx("li",{className:m,children:f}),b[14]=f,b[15]=m):m=b[15];b[16]!==d?(f=d!=null?j.jsxs(j.Fragment,{children:[j.jsx("li",{"aria-hidden":!0,className:"xopu45v xu3j5b3 xm81vs4 x1c4vz4f xs83m0k xxk0z11"}),j.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:d})]}):null,b[16]=d,b[17]=f):f=b[17];b[18]!==a||b[19]!==m||b[20]!==f?(d=j.jsxs("ul",{className:l,children:[a,e,m,f]}),b[18]=a,b[19]=m,b[20]=f,b[21]=d):d=b[21];b[22]!==g||b[23]!==d?(l=j.jsxs("div",{className:h,children:[g,d]}),b[22]=g,b[23]=d,b[24]=l):l=b[24];return l}g["default"]=a}),98);
__d("IGDUnblockUserComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","LSMessagingThreadTypeUtil","react","useIGDSLazyDialog","useMWBShouldReportThreadAsInstamadillo"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(13),e=a.contact,f=a.thread,g=c("useMWBShouldReportThreadAsInstamadillo")(f);b[0]!==f.threadType?(a=d("LSMessagingThreadTypeUtil").isGroup(f.threadType),b[0]=f.threadType,b[1]=a):a=b[1];var i=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDUnblockUserComposerBannerButton.react"),b[2]=a):a=b[2];a=c("useIGDSLazyDialog")(a);var l=a[0];b[3]!==l||b[4]!==e.id||b[5]!==e.name||b[6]!==i||b[7]!==g||b[8]!==f.threadKey?(a=function(){l({clickPoint:"composer_banner",contactID:e.id,isBlocked:!0,isGroup:i,onBlock:function(){},shouldReportAsInstamadillo:g,threadKey:f.threadKey,userName:e.name},function(){})},b[3]=l,b[4]=e.id,b[5]=e.name,b[6]=i,b[7]=g,b[8]=f.threadKey,b[9]=a):a=b[9];a=a;var m;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__x-pum3PzC44__JHASH__"),b[10]=m):m=b[10];b[11]!==a?(m=j.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:m,onClick:a,role:"button",variant:"secondary_link"}),b[11]=a,b[12]=m):m=b[12];return m}g["default"]=a}),226);
__d("IGDBlockedUserComposer.react",["fbt","IGDDeleteOpenThread","IGDDeleteSecureThread","IGDDeleteThreadComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDSText.react","IGDUnblockUserComposerBannerButton.react","Int64Hooks","LSMessagingThreadTypeUtil","MWPBumpEntityKey","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c;function m(a){var b=l(10);a=a.thread;var e=a,f=(i||(i=c("useReStore")))();b[0]!==e.threadType?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),b[0]=e.threadType,b[1]=a):a=b[1];var g=a,h;b[2]!==g||b[3]!==f||b[4]!==e.threadKey?(a=function(){c("promiseDone")(g?d("IGDDeleteSecureThread").deleteSecureThread(f,e.threadKey):d("IGDDeleteOpenThread").deleteOpenThread(f,e.threadKey))},h=[f,g,e.threadKey],b[2]=g,b[3]=f,b[4]=e.threadKey,b[5]=a,b[6]=h):(a=b[5],h=b[6]);a=d("Int64Hooks").useCallbackInt64(a,h);h=n;b[7]!==a||b[8]!==e?(h=k.jsx(c("IGDDeleteThreadComposerBannerButton.react"),{onClick:h,onDelete:a,thread:e}),b[7]=a,b[8]=e,b[9]=h):h=b[9];return h}function n(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_blocked","delete_thread")}function a(a){var b=l(15),d=a.contact;a=a.thread;var e=d.secondaryName!=null?d.secondaryName:d.name,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__W0Exlzwgehy__JHASH__"),b[0]=f):f=b[0];f=f;var g;b[1]!==e?(g=h._("__JHASH__puvVrZ7OcmR__JHASH__",[h._param("user_name",e)]),b[1]=e,b[2]=g):g=b[2];e=g;b[3]!==d||b[4]!==a?(g=k.jsx(c("IGDUnblockUserComposerBannerButton.react"),{contact:d,thread:a}),b[3]=d,b[4]=a,b[5]=g):g=b[5];b[6]!==a?(d=k.jsx(m,{thread:a}),b[6]=a,b[7]=d):d=b[7];b[8]!==e?(a=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:e}),b[8]=e,b[9]=a):a=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",weight:"normal",children:f}),b[10]=e):e=b[10];b[11]!==g||b[12]!==d||b[13]!==a?(f=k.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:null,messageRequestBlockLeave:g,messageRequestDelete:d,messageRequestFootnote:a,messageRequestHeader:e}),b[11]=g,b[12]=d,b[13]=a,b[14]=f):f=b[14];return f}g["default"]=a}),226);
__d("IGDBroadcastChannelThreadHeader.react",["fbt","FDSRelativeTimestamp.react","I64","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","PolarisBigNumber.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function a(a){var b=k(16),e=a.isMobile,f=a.memberCount;a=a.pauseThreadTimestamp;var g=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();g=g.hasLSThreadBitOffset;var i;b[0]!==g?(i=g(171),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e?(i=!e&&l.jsx(c("MWVerticalRhythm"),{height:4}),b[2]=e,b[3]=i):i=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__1pwPMXxqDHd__JHASH__"),b[4]=e):e=b[4];var m;b[5]!==f?(m=f!==0?l.jsxs(l.Fragment,{children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),l.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:f}),l.jsx(l.Fragment,{children:" "}),h._("__JHASH__prmnVSPmpr___JHASH__",[h._plural(f)])]}):null,b[5]=f,b[6]=m):m=b[6];b[7]!==g||b[8]!==a?(f=!g&&a!=null&&(j||(j=d("I64"))).ge(a,(j||(j=d("I64"))).zero)?l.jsxs(l.Fragment,{children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),h._("__JHASH__RKFqy919n9u__JHASH__",[h._param("broadcast channel duration",c("FDSRelativeTimestamp.react").getRelativeTimestampInFuture(new Date(),new Date((j||(j=d("I64"))).to_int32(a)*1e3),"minimized"))])]}):null,b[7]=g,b[8]=a,b[9]=f):f=b[9];b[10]!==m||b[11]!==f?(g=l.jsx(c("IGDSBox.react"),{alignSelf:"start",marginTop:1,children:l.jsxs(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:[e,m,f]})}),b[10]=m,b[11]=f,b[12]=g):g=b[12];b[13]!==i||b[14]!==g?(a=l.jsxs(c("IGDSBox.react"),{children:[i,g]}),b[13]=i,b[14]=g,b[15]=a):a=b[15];return a}g["default"]=a}),226);
__d("IGDSCallPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M18.227 22.912c-4.913 0-9.286-3.627-11.486-5.828C4.486 14.83.731 10.291.921 5.231a3.289 3.289 0 0 1 .908-2.138 17.116 17.116 0 0 1 1.865-1.71 2.307 2.307 0 0 1 3.004.174 13.283 13.283 0 0 1 3.658 5.325 2.551 2.551 0 0 1-.19 1.941l-.455.853a.463.463 0 0 0-.024.387 7.57 7.57 0 0 0 4.077 4.075.455.455 0 0 0 .386-.024l.853-.455a2.548 2.548 0 0 1 1.94-.19 13.278 13.278 0 0 1 5.326 3.658 2.309 2.309 0 0 1 .174 3.003 17.319 17.319 0 0 1-1.71 1.866 3.29 3.29 0 0 1-2.138.91 10.27 10.27 0 0 1-.368.006Zm-13.144-20a.27.27 0 0 0-.167.054A15.121 15.121 0 0 0 3.28 4.47a1.289 1.289 0 0 0-.36.836c-.161 4.301 3.21 8.34 5.235 10.364s6.06 5.403 10.366 5.236a1.284 1.284 0 0 0 .835-.36 15.217 15.217 0 0 0 1.504-1.637.324.324 0 0 0-.047-.41 11.62 11.62 0 0 0-4.457-3.119.545.545 0 0 0-.411.044l-.854.455a2.452 2.452 0 0 1-2.071.116 9.571 9.571 0 0 1-5.189-5.188 2.457 2.457 0 0 1 .115-2.071l.456-.855a.544.544 0 0 0 .043-.41 11.629 11.629 0 0 0-3.118-4.458.36.36 0 0 0-.244-.1Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a({type:"DIRECT_VERIFIED_USER_CALLING_NOT_ENABLED_MODAL_OPEN"})}}f.openVerifiedUserCallingNotEnabledModal=a}),66);
__d("PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){b({type:"DIRECT_VERIFIED_USER_CALLING_NOT_FOLLOWING_MODAL_OPEN",username:a})}}f.openVerifiedUserCallingNotFollowingModal=a}),66);
__d("IGDCallButton.react",["FBLogger","I64","IGDSCallPanoOutline24Icon.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","IGDThreadTTLCUtils","Int64Hooks","LSIntEnum","MWPActor.react","MessengerWebUXLogger","PolarisAPIRetrieveUserCallSettings","PolarisCallNavigator","PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal","PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal","PolarisDirectLogger","PolarisDirectStrings","PolarisInstapi","PolarisReactRedux.react","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","asyncToGeneratorRuntime","cr:4866","getInstamadilloLoggingExtraData","gkx","promiseDone","react","useIGDIsE2EECallingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||(k=d("react"))).c,m=k;function n(a){var b=l(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.ig_thread_info||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.ig_thread_info).getKeyRange(a).map(function(a){return a.igThreadId})},b[0]=e.tables.ig_thread_info,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":69")}function o(a,b,c){var e;return(e=d("ReQL")).toArrayAsync(e.leftJoin(e.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(c).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,b)}),e.fromTableAscending(a.tables.ig_contact_info)).map(function(a){a[0];a=a[1];return a}))}function p(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b).map(function(a){a=a.name;return a}))}function q(a){var b=l(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.mi_act_mapping_table||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(a).map(function(a){return a.jid})},b[0]=e.tables.mi_act_mapping_table,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":103")}function a(a){var e=a.isVideo,g=a.threadKey,k=a.threadType,l=(h||(h=c("useReStore")))(),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.tables.threads).getKeyRange(g)},[l.tables.threads,g],f.id+":123"),s=c("useIGDIsE2EECallingEnabled")(g),t=n(g),u=q(g),v=d("MWPActor.react").useActor(),w=b("cr:4866")==null?void 0:b("cr:4866").useStartCallCallback(),x=d("PolarisReactRedux.react").useDispatch(),y=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),z=c("MessengerWebUXLogger").useInteractionLogger();a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"start_video_chat_button_impression"});var A=c("getInstamadilloLoggingExtraData")(r),B=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b,f=d("IGDThreadTTLCUtils").isInstamadilloTTLCCallingEnabled(r),h=!s&&f;f=s||f;a=(a=(yield o(l,v,g)))!=null?a:[];b=(b=a[0])!=null?b:{};var m=b.contactId;b=b.igId;z==null?void 0:z({eventName:e?"start_video_chat":"start_audio_call",extraData:A,flowInstanceId:y});if(c("gkx")("24007")){var n=m?yield p(l,m):null;if(b==null||k==null||(i||(i=d("I64"))).to_int32(k)!==1)return;b=d("PolarisInstapi").apiGet("/api/v1/friendships/show/{target_user_id}/",{path:{target_user_id:b}});var q=(yield d("PolarisAPIRetrieveUserCallSettings").retrieveUserCallSettings()).setting_type;if(q!=="people_you_follow"){x(d("PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal").openVerifiedUserCallingNotEnabledModal());return}if((yield b).data.following!==!0){if(n==null){c("FBLogger")("ig_web").mustfix("Unable to open modal - username is null");return}x(d("PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal").openVerifiedUserCallingNotFollowingModal(n));return}}d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_click",{has_video:e,ig_thread_id:t});f&&w?c("promiseDone")(w({existingCall:null,extra:{igThreadId:t},hideE2eeAttributions:h,invitees:a.filter(Boolean).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)}),isE2eeMandated:f,mediaType:e?"video":"audio",thread:{e2eeThreadID:u!=null?(i||(i=d("I64"))).to_string(u):void 0,id:(i||(i=d("I64"))).to_string(g),secureOneToOneThreadPeerId:(i||(i=d("I64"))).to_int32(k)===15&&m!=null?(i||(i=d("I64"))).to_string(m):void 0,type:(j||(j=d("LSIntEnum"))).unwrapIntEnum(k)},trigger:e?"direct_armadillo_start_video_call":"direct_armadillo_start_audio_call"})):t!=null?d("PolarisCallNavigator").launchCall(t,e):c("FBLogger")("ig_web").mustfix("Unable to initiate call - missing thread id")}),[r,s,l,v,g,z,e,A,y,t,w,k,x,u]);return s&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("24009"))?null:m.jsx(c("IGDSIconButton.react"),{innerRef:a,onClick:B,children:e?m.jsx(c("IGDSVideoChatPanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").VIDEO_CALL_STRING,color:"ig-primary-text"}):m.jsx(c("IGDSCallPanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").AUDIO_CALL_STRING,color:"ig-primary-text"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDCallButtonAndJoinButtonWithBlockCheck.react",["I64","IGDCallButton.react","IGDJoinCallButton.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MWCMThreadTypes.react","MWPActor.react","PolarisDirectLogger","RTWebIncomingRingConfiguration","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||(k=d("react"))).c,m=k;function n(a){var b=l(10),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k;b[0]!==a.threadType||b[1]!==a.threadKey||b[2]!==e.tables.participants||b[3]!==e.tables.contacts||b[4]!==g?(k=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).map(function(a){a=a[1];return a}).filter(function(a){return(i||(i=d("I64"))).equal(a.id,g)?!1:!(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}):d("ReQL").empty()},b[0]=a.threadType,b[1]=a.threadKey,b[2]=e.tables.participants,b[3]=e.tables.contacts,b[4]=g,b[5]=k):k=b[5];var m;b[6]!==e||b[7]!==a||b[8]!==g?(m=[e,a,g],b[6]=e,b[7]=a,b[8]=g,b[9]=m):m=b[9];return d("ReQLSuspense").useFirst(k,m,f.id+":56")!=null}function o(a){var b=l(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.rtc_ongoing_calls_on_threads_v2||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(a.threadKey).map(function(a){a=a.ongoingCallServerInfoData;return a})},b[0]=e.tables.rtc_ongoing_calls_on_threads_v2,b[1]=a.threadKey,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":82")}function p(a){var b=l(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a.threadKey).map(function(a){a=a.ongoingCallState;return a})},b[0]=e.tables.threads,b[1]=a.threadKey,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":98")}function q(){var a=l(6),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==b.tables.contacts||a[1]!==e?(g=function(){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)},a[0]=b.tables.contacts,a[1]=e,a[2]=g):g=a[2];var i;a[3]!==b||a[4]!==e?(i=[b,e],a[3]=b,a[4]=e,a[5]=i):i=a[5];return d("ReQLSuspense").useFirst(g,i,f.id+":110")}function a(a){var b;a=a.thread;var e=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a);b=(b=p(a))!=null?b:(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL);var f=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType),g=q();g=g!=null?d("LSContactBitOffset").has(23,g):void 0;var h=n(a),k=o(a);b=!(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))&&!(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_1TO1_CALL));var l=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),r=d("LSThreadBitOffset").has(24,a),s=d("LSThreadBitOffset").has(25,a),t=d("RTWebIncomingRingConfiguration").isSupportedClient(),u=!l&&s;l=!l&&r;(u||l)&&d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_impression",{isRTCVideoCallEnabled:r,isRTCVoiceCallEnabled:s});switch(!0){case h:case e:case!f&&g===!0:case!t:return null;case k!=null:d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","join_button_impression",{has_video:b,server_info_data:k});return m.jsx(c("IGDJoinCallButton.react"),{isVideo:b,serverInfoData:k,threadKey:a.threadKey,threadType:a.threadType});default:return m.jsxs(m.Fragment,{children:[u?m.jsx(c("IGDCallButton.react"),{isVideo:!1,threadKey:a.threadKey,threadType:a.threadType}):null,l?m.jsx(c("IGDCallButton.react"),{isVideo:!0,threadKey:a.threadKey,threadType:a.threadType}):null]})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDEqualityUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){return a!==b&&i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):a===b}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react",["CometPlaceholder.react","IGDEqualityUtils","deferredLoadComponent","react","requireDeferredForDisplay","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDCallButtonAndJoinButtonWithBlockCheck.react").__setRef("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"));function a(a){var b=j(13);a=a.thread;var e;b[0]!==a.capabilities||b[1]!==a.capabilities2||b[2]!==a.capabilities3||b[3]!==a.capabilities4||b[4]!==a.parentThreadKey||b[5]!==a.threadKey||b[6]!==a.threadSubtype||b[7]!==a.threadType?(e={capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,parentThreadKey:a.parentThreadKey,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},b[0]=a.capabilities,b[1]=a.capabilities2,b[2]=a.capabilities3,b[3]=a.capabilities4,b[4]=a.parentThreadKey,b[5]=a.threadKey,b[6]=a.threadSubtype,b[7]=a.threadType,b[8]=e):e=b[8];a=d("useStableValue").useStableValue(e,d("IGDEqualityUtils").shallowEqualI64);b[9]!==a?(e=i.jsx(k,{thread:a}),b[9]=a,b[10]=e):e=b[10];a=e;e=a;b[11]!==e?(a=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:e}),b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb(),k={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},l={bubble:{color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingStart:"x12xxe5f",paddingLeft:null,paddingRight:null,paddingEnd:"x1szedp3",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},n={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderEndColor:"x154zaqr",borderBottomColor:"x12z03op",borderStartColor:"xyhp3ou",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x12lizq0",borderEndWidth:"xf766zg",borderBottomWidth:"x1ybe9c6",borderStartWidth:"x1ts5dru",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function a(a){var b,c=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,p=a.xmaLayout;p=p===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:p;var q=a.xstyle,r=a.precedesXMA,s=a.testid;s=a.variant;a=a.isBackgroundTransparent;p=p!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&r===!0;r=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:c,connectBottom:g,connectTop:h,flatten:p?"bottom":"none"});c=f==="incoming"?m:f==="outgoing"?n:o;return i.jsx(d("react-strict-dom").html.div,{style:[l.clip,p&&j&&k.precedes_xma_web],children:i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:[l.bubble,a!==!0&&l.bubbleOutline,j&&l.bubbleWeb,p&&k.precedes_xma,p&&j&&k.precedes_xma_web,c.background,s==="opaque"&&c.opaque,r,q],children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("IGDChatBubble.react",["MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.memo;var j=b.c,k={container:{paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"x1ykpatu",paddingStart:"x1ye3gou",$$css:!0}};function a(a){var b=j(7),d=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.precedesXMA;var h=g?"right":"left";g=g?"outgoing":"incoming";var l;b[0]!==h||b[1]!==g||b[2]!==e||b[3]!==f||b[4]!==a||b[5]!==d?(l=i.jsx(c("MWXMessageBubble.react"),{align:h,color:g,connectBottom:e,connectTop:f,precedesXMA:a,xstyle:k.container,children:d}),b[0]=h,b[1]=g,b[2]=e,b[3]=f,b[4]=a,b[5]=d,b[6]=l):l=b[6];return l}f=e(a);g["default"]=f}),98);
__d("IGDComposerEmojiButton.react",["fbt","FDSPopoverLoadingState.react","IGDAddEmojiToComposerForLexical","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={button:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}},n=c("JSResourceForInteraction")("IGDComposerEmojiPicker.react").__setRef("IGDComposerEmojiButton.react");function a(a){var b=k(26),e=a.editor,g=a.threadKey,j=(i||(i=c("useReStore")))();b[0]!==j.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(j.tables.threads).getKeyRange(g)},b[0]=j.tables.threads,b[1]=g,b[2]=a):a=b[2];var o;b[3]!==j||b[4]!==g?(o=[j,g],b[3]=j,b[4]=g,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":50");b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__VkhGNWsM0xI__JHASH__").toString(),b[6]=o):o=b[6];var p=o;b[7]!==e?(o=function(a){c("IGDAddEmojiToComposerForLexical")(a,e)},b[7]=e,b[8]=o):o=b[8];o=o;var q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),s;b[9]!==a?(s=c("getInstamadilloLoggingExtraData")(a),b[9]=a,b[10]=s):s=b[10];var t=s;b[11]!==t||b[12]!==r?(a={eventName:"composer_emoji_picker_button_rendered",extraData:t,flowInstanceId:r},b[11]=t,b[12]=r,b[13]=a):a=b[13];var u=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[14]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx(c("FDSPopoverLoadingState.react"),{withArrow:!0}),b[14]=s):s=b[14];b[15]!==o||b[16]!==g?(a={onSelect:o,threadKey:g},b[15]=o,b[16]=g,b[17]=a):a=b[17];b[18]!==u||b[19]!==q||b[20]!==t||b[21]!==r?(o=function(a,b){return l.jsx(c("IGDSBox.react"),{containerRef:u,children:l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:a,onClick:function(){b(),q==null?void 0:q({eventName:"composer_open_emoji_picker",extraData:t,flowInstanceId:r})},xstyle:m.button,children:l.jsx(c("IGDSFace2OutlineIcon.react"),{alt:p,color:"ig-primary-text"})})})},b[18]=u,b[19]=q,b[20]=t,b[21]=r,b[22]=o):o=b[22];b[23]!==a||b[24]!==o?(s=l.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:s,popoverProps:a,popoverResource:n,position:"above",children:o}),b[23]=a,b[24]=o,b[25]=s):s=b[25];return s}g["default"]=a}),226);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:9117","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9117")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:9249","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9249")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a.label!==void 0}function a(a){var c=j(a)?a.label:a.tooltip;a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["label"]);if(b("cr:998")!=null)return i.jsx(b("cr:998"),babelHelpers["extends"]({label:c},a));return b("cr:8602")!=null?i.jsx(b("cr:8602"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.onError,d=a.onLoad,e=a.videoRef;i(function(){var a=e==null?void 0:e.current;function f(){d==null?void 0:d()}function g(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);b==null?void 0:b(a)}if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){f();return}a==null?void 0:a.addEventListener("canplay",f);a==null?void 0:a.addEventListener("error",g);return function(){a==null?void 0:a.removeEventListener("canplay",f),a==null?void 0:a.removeEventListener("error",g)}},[b,d,e]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n={cancelButton:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginEnd:"xq8finb",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{start:"xtzzx4i",left:null,right:null,marginStart:"x16hk5td",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function o(a){var b=a.hasError;b=b===void 0?!1:b;a=a.progress;if(a===1||a==null)return null;var c=4;b=b?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var d=(c/2).toString();d="M 0,"+d+" L 100,"+d;return j.jsxs("svg",{"aria-hidden":!0,className:"x168nmei x13lgxp2 x30kzoy x9jhf4c x1ey2m1c x17qophe x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:c.toString()},viewBox:"0 0 100 "+c.toString(),children:[j.jsx("path",{d:d,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:c.toString()}),j.jsx("path",{d:d,stroke:b,strokeLinecap:"round",strokeWidth:(a===0?0:c).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-a).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.children,e=a.hasError;e=e===void 0?!1:e;var f=a.onCancel,g=a.progress;a=a.testid;return j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:n.card,children:[j.jsxs(d("react-strict-dom").html.div,{style:n.contentWrapper,children:[b,j.jsx(o,{hasError:e,progress:g})]}),f!=null&&j.jsx(d("react-strict-dom").html.div,{style:n.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._("__JHASH__a2BigkmhfXY__JHASH__"),onPress:f,size:24,type:"overlay"})})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.hasError;b=b===void 0?!1:b;var d=a.onCancel,e=a.onError,f=a.onLoad,g=a.progress;a=a.src;return j.jsx(p,{hasError:b,onCancel:d,progress:g,testid:void 0,children:j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:e,onLoad:f,src:a,xstyle:n.imagePreview})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onError,g=a.onLoad,h=a.progress;a=a.src;var i=m(null);return j.jsxs(p,{hasError:b,onCancel:e,progress:h,testid:void 0,children:[j.jsx(c("MWXVideoStatusListener.react"),{onError:f,onLoad:g,videoRef:i}),j.jsx("video",{className:"xl1xv1r",height:"48",ref:i,src:a,width:"48"}),j.jsx(d("react-strict-dom").html.div,{style:n.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onLoad,g=a.progress;a=a.title;l(function(){f==null?void 0:f()},[f]);return j.jsx(p,{hasError:b,onCancel:e,progress:g,testid:void 0,children:j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:j.jsxs(d("react-strict-dom").html.div,{style:n.filePreview,children:[j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),size:20}),j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]})})})}e.displayName=e.name+" [from "+f.id+"]";function q(a){var b=a.isDisabled;a=a.onPress;var d=h._("__JHASH__07aSX1Sv-Xl__JHASH__");return j.jsx(p,{children:j.jsx(c("MWXPressable.react"),{"aria-label":d,disabled:b,onPress:a,testid:void 0,xstyle:n.imagePreview,children:j.jsx(c("MWXIconStrict.react"),{color:b?"disabled":"primary",icon:c("MWXIconPhotoPlus"),size:24})})})}q.displayName=q.name+" [from "+f.id+"]";g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=q}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding12:{paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=a.children,c=a["data-testid"];c=a.padding;c=c===void 0?0:c;var e=a.scrollable;a=a.xStyle;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.row,c===12&&j.padding12,c===4&&j.padding4,c===6&&j.padding6,e===!0&&j.scrollable,a],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingStart:"xpkgp8e",paddingLeft:null,paddingRight:null,paddingEnd:"xmns6w2",paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginStart:"x1gryazu",$$css:!0}},k={color:"secondary",size:24};function a(a){var b=a.bodyText,e=a.bodyTextType,f=a["data-testid"];f=a.hasTopBorder;f=f===void 0?!1:f;var g=a.headlineText,h=a.headlineTextType,l=a.leftAddon,m=a.level;m=m===void 0?3:m;var n=a.loadingIndicator,o=a.rightAddon;a=a.subtext;return n!=null?i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body],children:n}):i.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body,f&&j.border],children:[l!=null&&l,(b!=null||a!=null||g!=null)&&i.jsx(c("MWXTextPairing.react"),{body:b!=null&&e!=null?i.jsx(c("MWXText.react"),{type:e,children:b}):b!=null?i.jsx(c("MWXText.react"),{type:"body4",children:b}):void 0,headline:g!=null&&h!=null?i.jsx(c("MWXText.react"),{type:h,children:g}):g!=null?i.jsx(c("MWXText.react"),{type:"headline4",children:g}):void 0,level:m,meta:a}),o!=null&&i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsx(d("react-strict-dom").html.div,{style:j.rightAddon,children:o})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingLeft:null,paddingRight:null,paddingEnd:"xg83lxy",$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0}};b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.color,f=a.size,g=a.type;g=g===void 0?"deemphasized":g;var h=a.wrapperStyle,l=a.wrapperXStyle,m=babelHelpers.objectWithoutPropertiesLoose(a,["color","size","type","wrapperStyle","wrapperXStyle"]),n=j(c("MWXComposerButtonContext.react")),o=n.color,p=n.iconRatio;p=p===void 0?"medium":p;var q=n.paddingHorizontal;q=q===void 0?"none":q;n=n.size;n=n===void 0?36:n;return i.jsx(d("react-strict-dom").html.div,{style:[q==="small"&&k.horizontalPaddingSmall,k.layoutWrapper,[l,h]],children:i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a.label,children:i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},m,{color:(l=(q=e)!=null?q:o)!=null?l:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:p,ref:b,size:(h=f)!=null?h:n,type:g}))})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={colors:{backgroundColor:"x16sw7j7",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},k={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=a.children;a=a.header;return i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsxs(d("react-strict-dom").html.div,{style:[j.colors,j.flexLayout],children:[a,i.jsx(c("MWXComposerRow.react"),{padding:4,children:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding:{marginBottom:"x12nagc",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.children,e=a.contentEditableProps,f=a.placeholderText;a=a.testid;f=f==null?{}:{"aria-placeholder":f,placeholder:i.jsx(c("CometLexicalPlaceholder.react"),{children:f})};a=i.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},f,e));return i.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:j.padding,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:a}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",$$css:!0}};function a(a){var b=a.children,e=a.editor,f=a.header;a=a.testid;var g=d("LexicalComposerContext").createLexicalComposerContext();a=j(function(){return[e,g]},[e,g]);return i.jsx(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:a,children:i.jsxs(d("react-strict-dom").html.div,{style:[k.composer,k.flexLayout],children:[f,i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:k.padding,children:b})]})})}a.displayName=a.name+" [from "+f.id+"]";b={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Attachments=b}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("IGDBridgedAPI").sendEditMessage(a)}g["default"]=a}),98);
__d("useCancelEditingOnEsc",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c;function a(a,b,c){var e=j(5),f=c===void 0?null:c,g;e[0]!==a||e[1]!==b||e[2]!==f?(c=function(){return a.registerCommand(d("Lexical").KEY_ESCAPE_COMMAND,function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();b(null);f&&f();return!0},d("Lexical").COMMAND_PRIORITY_CRITICAL)},g=[a,b,f],e[0]=a,e[1]=b,e[2]=f,e[3]=c,e[4]=g):(c=e[3],g=e[4]);i(c,g)}g.useCancelEditingrOnEsc=a}),98);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure";e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.text;return c("LSOptimisticEditMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){return c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(a),{messageId:b,text:d})},"readwrite",void 0,void 0,f.id+":27"))},[a])}g["default"]=a}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useInsertionEffect,k=b.useLayoutEffect,l=b.useRef;function a(a,b){var e=a.clearReplyState,f=a.editor,g=a.onSend,h=l(b);j(function(){h.current=b},[b]);var m=i(function(){var a=g(h.current);e==null?void 0:e();(a||!c("justknobx")._("2597"))&&f.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},[g,e,f]);k(function(){return f.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();m();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[f,m]);return{onSend:m}}g["default"]=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("24051")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),226);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:c("gkx")("4839")?l(b.__text,b.__prefix):b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var e=a.prototype;e.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:c("gkx")("4839")?l(this.__text,this.__prefix):this.__text.slice(1),type:"actor"})};function a(a,d){var e=a.id,f=a.prefix;f=f===void 0?"@":f;a=a.text;a=b.call(this,c("gkx")("4839")?k(a,f):a.startsWith(f)?a:""+f+a,d)||this;a.__contactID=h(e);a.__prefix=f;return a}e.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv x3jgonx";a.spellcheck=!1;return a};e.getEntity=function(){return{id:this.__contactID,isWeak:!1}};e.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(c("gkx")("4839")?l(this.__text,this.__prefix):this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}function k(a,b){return a.startsWith(b)?a:""+b+a}function l(a,b){return a.startsWith(b)?a.slice(b.length):a}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,e==null?void 0:e.MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=c("useStable")(function(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(){},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});c("useMWPLexicalClearEditor")(a);c("useLexicalInitializeEditor__DEPRECATED")(a);return{editor:a}}g.useMWXLexicalEditor=a}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b,c){i(function(){if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(b);e.clear();e.append(a);c===!0&&e.selectEnd()}})},[a])}g["default"]=a}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","useIGDSToaster"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=d("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function a(){var a=k(2),b=c("useIGDSToaster")(),d;a[0]!==b?(d=function(){b.add({icon:j.jsx(c("IGDSErrorPanoOutlineIcon.react"),{alt:h._("__JHASH__eaD8DB2Y83l__JHASH__")}),message:h._("__JHASH__1OyJfFu8aNw__JHASH__"),target:"bottom-left"},{duration:l})},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),226);
__d("IGDComposerEditContainer.react",["fbt","I64","IGDComposerEmojiButton.react","IGDInstamadilloUtils","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MAWVault","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","react-forget-runtime","useCancelEditingOnEsc","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;b.useContext;var m=b.useEffect;b.useMemo;var n=b.useState,o=b.c,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xg8j3zb",paddingEnd:"xg83lxy",paddingStart:"x1sln4lm",paddingTop:"xyqdw3p",$$css:!0},sendButton:{paddingBottom:"xxbrewl",paddingEnd:"x1mn2t3i",paddingStart:"x1k2j06m",paddingTop:"xm7lytj",$$css:!0}};function a(a){var b=o(54),e=a.editMessageData,g=a.headerText,k=a.onEditCancelCallback,r=a.onEditTriggerCallback;a=a.thread;var s=k===void 0?null:k,t=r===void 0?null:r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={eventName:"composer_edit_message"},b[0]=k):k=b[0];r=c("MessengerWebUXLogger").useImpressionLoggerRef(k);var u=c("MessengerWebUXLogger").useInteractionLogger();k=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWEditMessageContext.react").Context,q);var v=k.setEditMessageData;k=d("useMWXLexicalEditor").useMWXLexicalEditor();var w=k.editor,x=(i||(i=c("useReStore")))();b[1]!==x.tables.messages||b[2]!==e?(k=function(){return d("ReQL").fromTableAscending(x.tables.messages).getKeyRange(e==null?void 0:e.threadKey,e==null?void 0:e.timestampMs,e==null?void 0:e.messageId)},b[1]=x.tables.messages,b[2]=e,b[3]=k):k=b[3];var y=e==null?void 0:e.messageId,z=e==null?void 0:e.threadKey,A=e==null?void 0:e.timestampMs,B;b[4]!==x||b[5]!==y||b[6]!==z||b[7]!==A?(B=[x,y,z,A],b[4]=x,b[5]=y,b[6]=z,b[7]=A,b[8]=B):B=b[8];var C=d("ReQLSuspense").useFirst(k,B,f.id+":87");C==null?void 0:C.text;z=(y=C==null?void 0:C.text)!=null?y:"";b[9]!==z?(A=d("MAWVault").unvault(z).trim(),b[9]=z,b[10]=A):A=b[10];k=A;var D=k,E=c("useMAWGetSendEditActionforOpen")();B=c("useServerTime")();b[11]!==B||b[12]!==e.timestampMs?(y=d("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((j||(j=d("I64"))).of_float(B.getTime()),e.timestampMs),b[11]=B,b[12]=e.timestampMs,b[13]=y):y=b[13];var F=y,G=function(){if(!F){H();return!1}else{var a=w.getEditorState().read(d("LexicalText").$rootTextContent).trim();if(c("isStringNullOrEmpty")(a)||a===D)return!1;if(d("IGDInstamadilloUtils").isInstamadilloMessage(C)){var b={messageId:e.messageId,text:a,threadKey:e.threadKey};c("promiseDone")(c("issueEditInstamadilloMessage")(b))}else E(e.messageId,a);v(null);t&&t();u==null?void 0:u({eventName:"edit_message"});return!0}},H=c("useShowNotEditableMessageToast")();b[14]!==v||b[15]!==u||b[16]!==s?(z=function(){v(null),u==null?void 0:u({eventName:"edit_message_cancel"}),s&&s()},b[14]=v,b[15]=u,b[16]=s,b[17]=z):z=b[17];A=z;d("useCancelEditingOnEsc").useCancelEditingrOnEsc(w,v,s);b[18]!==w||b[19]!==G?(k={clearReplyState:null,editor:w,onSend:G},b[18]=w,b[19]=G,b[20]=k):k=b[20];c("useMWXComposerClearAndSendOnEnter")(k);B=n(!1);y=B[0];var I=B[1];b[21]!==w||b[22]!==D?(z=function(){return w.registerTextContentListener(function(a){a=a.trim();I(!c("isStringNullOrEmpty")(a)&&a!==D)})},k=[w,D],b[21]=w,b[22]=D,b[23]=z,b[24]=k):(z=b[23],k=b[24]);m(z,k);c("usePrepopulateLexicalEditor")(w,D,!0);B=a.threadKey;if(b[25]!==g){k=(z=g)!=null?z:h._("__JHASH__H49qASoDNlI__JHASH__");b[25]=g;b[26]=k}else k=b[26];b[27]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__I5lFIsyOgVe__JHASH__"),b[27]=a):a=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(z=l.jsx(c("IGDSXFilledIcon.react"),{alt:h._("__JHASH__I5lFIsyOgVe__JHASH__"),color:"ig-primary-text",size:15}),b[28]=z):z=b[28];b[29]!==A?(g=l.jsx(c("IGDSIconButton.react"),{label:a,onClick:A,xstyle:p.cancelButton,children:z}),b[29]=A,b[30]=g):g=b[30];b[31]!==k||b[32]!==g?(a=l.jsx(d("MWXComposer.react").Header,{bodyText:k,"data-testid":void 0,hasTopBorder:!0,rightAddon:g},0),b[31]=k,b[32]=g,b[33]=a):a=b[33];b[34]!==w||b[35]!==B?(z=d("PolarisUA").isMobile()?null:l.jsx(c("IGDSBox.react"),{xstyle:p.emojiButton,children:l.jsx(c("IGDComposerEmojiButton.react"),{editor:w,threadKey:B})}),b[34]=w,b[35]=B,b[36]=z):z=b[36];b[37]===Symbol["for"]("react.memo_cache_sentinel")?(A=l.jsx(d("MWXComposer.react").TextEditor,{testid:void 0}),b[37]=A):A=b[37];k=!y;b[38]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__Xg6dtjiPieE__JHASH__"),b[38]=g):g=b[38];b[39]!==G?(B=function(){G()},b[39]=G,b[40]=B):B=b[40];b[41]!==k||b[42]!==B?(y=l.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:k,label:g,onClick:B,variant:"primary_link",xstyle:p.sendButton}),b[41]=k,b[42]=B,b[43]=y):y=b[43];b[44]!==z||b[45]!==y?(g=l.jsx(d("MWXComposer.react").Row,{children:l.jsx(c("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",children:l.jsxs(d("MWXComposer.react").InputArea,{children:[z,A,y]})})}),b[44]=z,b[45]=y,b[46]=g):g=b[46];b[47]!==w||b[48]!==a||b[49]!==g?(k=l.jsx(d("MWXComposer.react").Composer,{editor:w,header:a,children:g}),b[47]=w,b[48]=a,b[49]=g,b[50]=k):k=b[50];b[51]!==r||b[52]!==k?(B=l.jsx(c("IGDSBox.react"),{containerRef:r,children:k}),b[51]=r,b[52]=k,b[53]=B):B=b[53];return B}function q(a){return[a.setEditMessageData]}g["default"]=a}),226);
__d("LsFalcoEventEntryPoint",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWChatStrikethroughText.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){a=a.children;return i.jsx("s",{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:269","cr:820","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var e=a.encryptedLink;a=babelHelpers.objectWithoutPropertiesLoose(a,["encryptedLink"]);var f=d("E2EEMessagingLinkContext.react").useE2EEMessagingLink();f=f||e===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};if(b("cr:269"))return i.jsx(b("cr:269"),babelHelpers["extends"]({},a,f,{ref:c}));return b("cr:820")?i.jsx(b("cr:820"),babelHelpers["extends"]({},a,f,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",bottom:"xbfrwjf",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0}};function a(a){var b=a.children,c=a.fullLine;c=c===void 0?!1:c;var e=a.outgoing;e=e===void 0?!0:e;a=a.xstyle;return i.jsxs(d("react-strict-dom").html.blockquote,{style:[j.forwarded,a],children:[i.jsx(d("react-strict-dom").html.div,{style:[j.line,c?j.fullLine:void 0,e?j.lineOutgoingColor:j.lineIncomingColor]}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatStrikethroughText.react","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages"))),m={codeBlock:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function n(a){var b,d=function(a){return a[2]},e=function(a){return new Map()},f=1,g=!0,h=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;g=!1;break;case k.InlineQuote:h=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;g=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;g=!1;break;case k.Link:d=function(a){return a[1]};e=function(a){return new Map([["link",a[2]]])};b=c("MessengerFormattingConfig").linkConfig.pattern;g=!1;break;case k.BulletedList:b=c("MessengerFormattingConfig").bulletedList.pattern;g=!1;break;case k.NumberedList:b=c("MessengerFormattingConfig").numberedList.pattern;g=!1;d=function(a){return a[3]};e=function(a){return new Map([["index",a[2]]])};break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,getExtraData:e,hasClosingTag:g,regExp:new RegExp(b,"gm"),tagIndex:f,validator:h}}var o=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough],p=[k.Link,k.BulletedList,k.NumberedList];function q(a,b){switch(b.format){case k.Bold:return j.jsx(d("react-strict-dom").html.b,{children:b.text});case k.Italics:return j.jsx(d("react-strict-dom").html.i,{children:b.text});case k.StrikeThrough:return j.jsx(c("MWChatStrikethroughText.react"),{children:b.text});case k.CodeBlock:return j.jsx(d("react-strict-dom").html.div,{style:m.codeBlock,children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx(d("react-strict-dom").html.code,{children:b.text})})});case k.InlineCode:return j.jsx(d("react-strict-dom").html.code,{style:m.codeInline,children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!0,children:b.text});case k.Link:return j.jsx(c("MWXLink.react"),{href:b.extraData.get("link"),rel:"external",target:"_blank",children:j.jsx("u",{children:b.text})});case k.BulletedList:return j.jsx("ul",{className:"x1rg5ohu xtaz4m5 xdj266r x11i5rnm xat24cr x1mh8g0r xnc8h47",children:b.text.split("\n").map(function(a,b){return j.jsx("li",{children:a},b)})});case k.NumberedList:return j.jsx("ol",{className:"x1rg5ohu x3yw8vx xdj266r x11i5rnm xat24cr x1mh8g0r xnc8h47",start:b.extraData.get("index"),children:b.text.split("\n").map(function(a,b){return j.jsx("li",{children:a},b)})})}}q.displayName=q.name+" [from "+f.id+"]";function a(a,b){switch(b.format){case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!1,children:b.text});default:return q(a,b)}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){b===void 0&&(b=!1);var c=[];b=b?[].concat(o,p):o;b.forEach(function(b){var e=n(b),f=e.getCleanText,g=e.getExtraData,h=e.hasClosingTag,j=e.regExp,k=e.tagIndex;e=e.validator;var l;if(!e(a))return;e=function(){if(l==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,l.index);e=e.length-i.strlen(e);var j=l.index-e,m=i.strlen(l[0]);h&&(j+=l[k].length,m-=l[k].length);e=function(a){var b=j+m,c=a.offset+a.length;return b>a.offset&&j<c};var n=f(l),o=g(l);if(!c.find(e)){if(c.length>0){e=c[c.length-1];if(e.entity.format===b&&e.offset+e.length+1===j){e.entity.text+="\n"+n;e.length+=m+1;return"continue"}}c.push({entity:{__typename:"MessengerTextFormatting",extraData:o,format:b,text:n},length:m,offset:j})}};_loop:while((l=j.exec(a))!=null){var m=e();switch(m){case"break":break _loop;case"continue":continue}}});return c}g.MessengerTextFormattingEntity=k;g.messageRenderer=q;g.messageIncomingRenderer=a;g.getFormattingRanges=e}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color_DEPRECATED;c=babelHelpers.objectWithoutPropertiesLoose(c,["color_DEPRECATED"]);d=(d=d)!=null?d:{};var f=d.color_DEPRECATED;d=babelHelpers.objectWithoutPropertiesLoose(d,["color_DEPRECATED"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color_DEPRECATED:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color_DEPRECATED:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useStringWithSubstitutions",["fbt","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","nullthrows","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=n.useEffect,p=n.useMemo;n=Boolean((j||(j=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";var q=h._("__JHASH__9kaBCOd2SjE__JHASH__",[h._param("Platform Name",n)]).toString(),r=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,s=/()(@)(?:(\d*?)@msgr)/g;function t(a,b){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(l||(l=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:l.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:l.of_int32(c("LSContactIdType").FBID),contactType:l.of_int32(c("LSContactType").USER),contactViewerRelationship:l.of_int32(c("LSContactViewerRelationship").UNKNOWN),gender:l.of_int32(c("LSContactGender").UNKNOWN),id:b,isBlocked:!1,isMemorialized:!1,isSelf:b===d("CurrentMessengerUser").getID(),workForeignEntityType:l.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN)})}function u(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+d>>1;a[e][0]<b?c=e+1:d=e-1}return d}function v(a,b,c,d){var e=[[-1,0]];a=a.replace(c,function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];var g=c[c.length-2],h=d.apply(void 0,[a].concat(c));if(h.length===a.length)return h;e.push([g,a.length-h.length+e[e.length-1][1]]);return h});if(e.length===1)return{textWithSubstitutions:a,updatedRanges:b};c=[];for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var i=u(e,h.offset);c.push(babelHelpers["extends"]({},h,{length:h.length-(e[i+1]!=null&&e[i+1][0]<=h.offset+h.length?e[i+1][1]-e[i][1]:0),offset:h.offset-e[i][1]}))}return{textWithSubstitutions:a,updatedRanges:c}}var w={CONTACT_FIRST_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(a){var b=a.firstName;a=a.name;return(b=b)!=null?b:a})}},function(a){return q},t],CONTACT_FULL_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return a})}},function(a){return q},t],PARTICIPANT_FIRST_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(b){var c=b.firstName,g=b.id;b=b.name;g=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,g),f.id+":177");return(g=(g=g==null?void 0:g.nickname)!=null?g:c)!=null?g:b})}},function(a){return q},t],PARTICIPANT_FULL_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var c=b.id;b=b.name;c=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,c),f.id+":196");return(c=c==null?void 0:c.nickname)!=null?c:b})}},function(a){return q},t]};function x(a,e,g,h,j,m){var n=(k||(k=c("useReStore")))(),q=d("Int64Hooks").useMemoInt64(function(){return{threadKey:g}},[g]),r=p(function(){var b,e=[],f=0;if(a!=null){h.lastIndex=0;while((b=h.exec(a))!==null){b=c("nullthrows")(b);b[0];var g=b[1],i=b[2],k=b[3];g||(function(){var a=(l||(l=d("I64"))).of_string_opt(k);if(a==null)m&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid user id for substitution key %s: %s",i,k);else{var b=f,g=j[i];g!=null&&(e.push([g[0](n)(a,q).take(1).map(function(a){return[b,a]}),function(b){return g[2](b,a)}]),f++)}})()}}return e},[q,n,a,h,j]),s=d("ReQLSuspense").useArray(function(){return r.length?r.length===1?r[0][0]:d("ReQL").union.apply(void 0,r.map(function(a){return a[0]})):d("ReQL").empty()},[r],f.id+":272"),t=p(function(){return new Map(s)},[s]);o(function(){var a=r.map(function(a,b){a[0];a=a[1];return t.has(b)?null:a}).filter(Boolean);a.length&&c("promiseDone")(n.runInTransaction(function(c){return(i||(i=b("Promise"))).all(a.map(function(a){return a(c)}))},"readwrite",void 0,void 0,f.id+":299"))},[n,r,t]);return p(function(){if(a==null)return null;var b=0;return v(a,e,h,function(a,c,e,f){var g=j[e];return c||g==null||(l||(l=d("I64"))).of_string_opt(f)==null?a:t.get(b++)||j[e][1](f)})},[a,e,h,t,j])}function a(a,b){return(a=x(a,[],b,r,w,!0))==null?void 0:(b=a.textWithSubstitutions)==null?void 0:b.replace==null?void 0:b.replace(/\$\$/g,"$$")}function e(a,b,c){var e=p(function(){return{"@":[function(a){return function(b){return c.has((l||(l=d("I64"))).to_string(b))?d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return"@"+a}):d("ReQL").empty()}},function(a){return c.has(a)?"@"+q:"@"+a+"@msgr"},t]}},[c]);return x(a,b,void 0,s,e,!1)}g.useStringWithSubstitutions=a;g.useStringWithMentionSubstitutionsAndUpdatedRanges=e}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo;function a(a){var e=a.isBumpMessage;e=e===void 0?!1:e;var f=a.isHotLike;f=f===void 0?!1:f;var g=a.mentionIds,i=a.ranges,l=a.text,m=a.threadKey;a=a.transformEmoticons;a=a===void 0?!0:a;var n=k(function(){var a;return new Set((a=g==null?void 0:g.split==null?void 0:g.split(","))!=null?a:[])},[g]);l=b("cr:2472")==null?l:b("cr:2472").unvault(l);n=(n=(n=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(l,[],n))==null?void 0:n.textWithSubstitutions)!=null?n:l;m=(m=d("useStringWithSubstitutions").useStringWithSubstitutions(l,m))!=null?m:l;l=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString();f=f?l:e?m:n;return j.jsx("div",{className:"xi81zsa",dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:i,renderers:{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},text:f,transforms:a?d("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-forget-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;var n=b.useContext,o=b.useEffect,p=b.c,q={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function r(a,b,e){var f=a.isUnsent;a=a.text;b=b||{};b=b.attachmentType;var g=!c("isStringNullOrEmpty")(a);if(f)return h._("__JHASH__JCseFdR_8CQ__JHASH__");if(g){return m.jsx(c("MWChatReplyText.react"),{isHotLike:e,mentionIds:null,text:(f=a)!=null?f:h._("__JHASH__niT7GfOrAW1__JHASH__").toString(),transformEmoticons:!1})}if(b)if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__O5FbckBKjss__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__sAL54A0QrH4__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__f7tz0r8St5p__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._("__JHASH__oLHsOposBZ7__JHASH__");else return h._("__JHASH__C_JL7zn5dqE__JHASH__");else return h._("__JHASH__niT7GfOrAW1__JHASH__")}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){if(b)return h._("__JHASH__LByR5v-54e3__JHASH__");if(!a)return h._("__JHASH__lRWnkiJRzRt__JHASH__",[h._param("Placeholder for an unknown user on Instagram","Instagram User")]);else{return h._("__JHASH__gMDBIOKzAoP__JHASH__",[h._param("name",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:(b=a.firstName)!=null?b:a.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(a.gender))])])}}function t(a){var b=p(34),e=a.isArmadilloSecureThread;a=a.message;var g=(i||(i=c("useReStore")))(),h=d("MWPActor.react").useActor(),j=a.hotEmojiSize,n=a.messageId,q=a.senderId,t=a.text,v=a.threadKey;h=(k||(k=d("I64"))).equal(q,h);var w;b[0]!==g.tables.contacts||b[1]!==q?(w=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(q)},b[0]=g.tables.contacts,b[1]=q,b[2]=w):w=b[2];var x;b[3]!==g||b[4]!==q?(x=[g,q],b[3]=g,b[4]=q,b[5]=x):x=b[5];w=d("ReQLSuspense").useFirst(w,x,f.id+":206");b[6]!==g.tables.attachments||b[7]!==v||b[8]!==n?(x=function(){return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(v,n)},b[6]=g.tables.attachments,b[7]=v,b[8]=n,b[9]=x):x=b[9];var y;b[10]!==g||b[11]!==n||b[12]!==v?(y=[g,n,v],b[10]=g,b[11]=n,b[12]=v,b[13]=y):y=b[13];x=d("ReQLSuspense").useFirst(x,y,f.id+":211");b[14]===Symbol["for"]("react.memo_cache_sentinel")?(y=[],b[14]=y):y=b[14];o(u,y);b[15]!==j||b[16]!==t||b[17]!==e?(y=j!=null?t!=null&&t==="\ud83d\udc4d"&&((k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e:!1,b[15]=j,b[16]=t,b[17]=e,b[18]=y):y=b[18];j=y;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(t="xmo9yow",b[19]=t):t=b[19];e=c("MDSTextPairing.react");y=c("IGDSText.react");var z="body";w=s(w,h);b[20]!==y||b[21]!==w?(h=m.jsxs(y,{size:z,children:[w," "]}),b[20]=y,b[21]=w,b[22]=h):h=b[22];b[23]!==a||b[24]!==x||b[25]!==j?(z=r(a,x,j),b[23]=a,b[24]=x,b[25]=j,b[26]=z):z=b[26];b[27]!==e||b[28]!==h||b[29]!==z?(y=m.jsx(e,{body:h,level:3,meta:z}),b[27]=e,b[28]=h,b[29]=z,b[30]=y):y=b[30];b[31]!==t||b[32]!==y?(w=m.jsx("div",{className:t,children:y}),b[31]=t,b[32]=y,b[33]=w):w=b[33];return w}function u(){c("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}}function w(a){var b=p(15),e=a.isArmadilloSecureThread;a=a.message;var f=a.threadKey,g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,y),i=g.clearReply,j=n(c("CometTriggerAccessibilityAlertContext"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno",b[0]=g):g=b[0];var k;b[1]!==e||b[2]!==a?(k=m.jsx(c("CometErrorBoundary.react"),{fallback:x,children:m.jsx(t,{isArmadilloSecureThread:e,message:a})}),b[1]=e,b[2]=a,b[3]=k):k=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__3xvXvnMysnL__JHASH__"),b[4]=e):e=b[4];b[5]!==i||b[6]!==f||b[7]!==j?(a=function(){i(f,!0),j(h._("__JHASH__keIifXRjlIX__JHASH__"),{assertive:!1})},b[5]=i,b[6]=f,b[7]=j,b[8]=a):a=b[8];var l;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("IGDSXFilledIcon.react"),{alt:h._("__JHASH__3xvXvnMysnL__JHASH__"),color:"ig-primary-text",size:12}),b[9]=l):l=b[9];b[10]!==a?(e=m.jsx(c("IGDSIconButton.react"),{label:e,onClick:a,xstyle:q.cancelButton,children:l}),b[10]=a,b[11]=e):e=b[11];b[12]!==k||b[13]!==e?(l=m.jsxs("div",{className:g,"data-testid":void 0,children:[k,e]}),b[12]=k,b[13]=e,b[14]=l):l=b[14];return l}function x(){return m.jsx(c("IGDSText.react"),{size:"body",children:h._("__JHASH__viMkwR52t0r__JHASH__")})}x.displayName=x.name+" [from "+f.id+"]";function y(a){return[a.clearReply]}function a(a){var b=p(15),e=a.messageId,g=a.messageTimestamp;a=a.thread;var h=(i||(i=c("useReStore")))(),j=a.threadKey;a=a.threadType;var k;b[0]!==a?(k=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),b[0]=a,b[1]=k):k=b[1];a=k;b[2]!==h.tables.messages||b[3]!==j||b[4]!==g||b[5]!==e?(k=function(){return d("ReQL").fromTableAscending(h.tables.messages).getKeyRange(j,g,e)},b[2]=h.tables.messages,b[3]=j,b[4]=g,b[5]=e,b[6]=k):k=b[6];var l;b[7]!==h||b[8]!==j||b[9]!==e||b[10]!==g?(l=[h,j,e,g],b[7]=h,b[8]=j,b[9]=e,b[10]=g,b[11]=l):l=b[11];k=d("ReQLSuspense").useFirst(k,l,f.id+":325");b[12]!==k||b[13]!==a?(l=k?m.jsx(w,{isArmadilloSecureThread:a,message:k}):null,b[12]=k,b[13]=a,b[14]=l):l=b[14];return l}g["default"]=a}),226);
__d("IGDComposerAttachmentButton.react",["fbt","CometFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function n(a){var b=l(2),c;b[0]!==a?(c=function(b){b=Array.from(b);if(b.length>0)return a(b)},b[0]=a,b[1]=c):c=b[1];return c}function a(a){var b=l(20),e=a.multiple,g=a.onAttachmentsAdded,j=a.supportedFileTypes,o=a.threadKey;a=e===void 0?!0:e;var p=(i||(i=c("useReStore")))(),q=d("MWPActor.react").useActor();e=n(g);b[0]!==p.tables.threads||b[1]!==o?(g=function(){return d("ReQL").fromTableAscending(p.tables.threads).getKeyRange(o)},b[0]=p.tables.threads,b[1]=o,b[2]=g):g=b[2];var r;b[3]!==p||b[4]!==o?(r=[p,o],b[3]=p,b[4]=o,b[5]=r):r=b[5];g=d("ReQLSuspense").useFirst(g,r,f.id+":60");var s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[6]!==g?(r=c("getInstamadilloLoggingExtraData")(g),b[6]=g,b[7]=r):r=b[7];var u=r;b[8]!==s||b[9]!==u||b[10]!==t||b[11]!==p||b[12]!==o||b[13]!==q?(g=function(a){return k.jsx(c("IGDSIconButton.react"),{onClick:function(){s==null?void 0:s({eventName:"composer_open_file_picker",extraData:babelHelpers["extends"]({},u),flowInstanceId:t}),a(),m.onReady(function(a){return c("promiseDone")(a.log(p,void 0,o,"composer","attach",void 0,void 0,void 0,void 0,"image",q))})},children:k.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:h._("__JHASH__ffgxgUxbaWG__JHASH__"),color:"ig-primary-text"})})},b[8]=s,b[9]=u,b[10]=t,b[11]=p,b[12]=o,b[13]=q,b[14]=g):g=b[14];b[15]!==j||b[16]!==a||b[17]!==e||b[18]!==g?(r=k.jsx(c("CometFileSelector.react"),{accept:j,multiple:a,onFilesSelected:e,children:g}),b[15]=j,b[16]=a,b[17]=e,b[18]=g,b[19]=r):r=b[19];return r}g["default"]=a}),226);
__d("IGDComposerMediaStaging.react",["fbt","CometFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSCircleXOutlineIcon.react","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","react","stylex","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;b.useCallback;var n=b.useEffect,o=b.c,p={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}},q=h._("__JHASH__luYLgOAOqD8__JHASH__"),r=h._("__JHASH__Ucpbsp424i9__JHASH__"),s=h._("__JHASH__S0T9GbUzGf-__JHASH__"),t=h._("__JHASH__tFATIgp0gLR__JHASH__");function u(a){var b=o(2),c;b[0]!==a?(c=function(b){b=Array.from(b);b.length>0&&a(b)},b[0]=a,b[1]=c):c=b[1];return c}function v(a){var b=o(4),d=a.multiple,e=a.onAttachmentsAdded;a=a.supportedFileTypes;d=d===void 0?!0:d;e=u(e);var f;b[0]!==a||b[1]!==d||b[2]!==e?(f=m.jsx(c("CometFileSelector.react"),{accept:a,multiple:d,onFilesSelected:e,children:w}),b[0]=a,b[1]=d,b[2]=e,b[3]=f):f=b[3];return f}function w(a){return m.jsx(c("IGDSIconButton.react"),{onClick:a,xstyle:p.root,children:m.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:r,color:"ig-primary-text"})})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=o(4);a=a.onPress;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x11xbgvx x10l6tqk xu5yr9u",b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:q,color:"ig-primary-text",size:18}),b[1]=e):e=b[1];b[2]!==a?(d=m.jsx("div",{className:d,children:m.jsx(c("IGDSIconButton.react"),{onClick:a,children:e})}),b[2]=a,b[3]=d):d=b[3];return d}var y=function(a){return a.mimeType==="image/gif"||a.mimeType==="image/webp"};function z(a){var b=o(24),e=a.mediaStagingItem,f=a.onError;a=a.onLoad;var g=e.attachmentType,h=e.previewUrl||"";if(y(e)){if(h!==null){var i;b[0]!==h?(i=m.jsx(c("FDSImageCover.react"),{alt:s,src:h}),b[0]=h,b[1]=i):i=b[1];return i}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){if(h!==null){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i="xl1xv1r",b[2]=i):i=b[2];var j;b[3]!==f?(j=function(a){return f("load-video-error",{string:{video_error_name:a}})},b[3]=f,b[4]=j):j=b[4];b[5]!==j||b[6]!==a||b[7]!==h?(i=m.jsx("video",{className:i,height:"48",onError:j,onLoadedData:a,src:h,width:"48"}),b[5]=j,b[6]=a,b[7]=h,b[8]=i):i=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx("div",{className:"xtzzx4i x16hk5td x7wgvq7 x10l6tqk xwa60dl",children:m.jsx(c("CometImage.react"),{src:"/images/video/play_24dp.png"})}),b[9]=j):j=b[9];b[10]!==i?(j=m.jsxs(m.Fragment,{children:[i,j]}),b[10]=i,b[11]=j):j=b[11];return j}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))){if(h!==null){b[12]!==f?(i=function(){return f("load-image-error")},b[12]=f,b[13]=i):i=b[13];b[14]!==i||b[15]!==a||b[16]!==h?(j=m.jsx(c("FDSImageCover.react"),{alt:"",onError:i,onLoad:a,src:h}),b[14]=i,b[15]=a,b[16]=h,b[17]=j):j=b[17];return j}}else{b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xurb0ha x1sxyh0 x87ps6o",i=m.jsx(c("IGDSMediaOutlineIcon.react"),{alt:t}),a="x1iyjqo2",b[18]=g,b[19]=i,b[20]=a):(g=b[18],i=b[19],a=b[20]);b[21]!==e.filename?(h=m.jsxs("div",{className:g,children:[i,m.jsx("div",{className:a,children:m.jsxs(c("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",e.filename," "]})})]}),b[21]=e.filename,b[22]=h):h=b[22];return h}b[23]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx(m.Fragment,{}),b[23]=j):j=b[23];return j}function A(a){var b=o(27),e=a.mediaStagingItem,f=a.onAttachmentRemoved,g=d("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(e),h;b[0]!==g?(a=function(){g==null?void 0:g.addPoint("staging-item-render")},h=[g],b[0]=g,b[1]=a,b[2]=h):(a=b[1],h=b[2]);n(a,h);b[3]!==g?(a=function(a,b){g==null?void 0:g.endFail(a,b)},b[3]=g,b[4]=a):a=b[4];h=a;b[5]!==g?(a=function(){g==null?void 0:g.endSuccess()},b[5]=g,b[6]=a):a=b[6];a=a;var j;b[7]!==f||b[8]!==e.offlineAttachmentId?(j=function(){f(e.offlineAttachmentId)},b[7]=f,b[8]=e.offlineAttachmentId,b[9]=j):j=b[9];j=j;var q=!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!y(e),r=q&&p.fileContainer,s;b[10]!==r?(s=(i||(i=c("stylex")))(p.itemContainer,r),b[10]=r,b[11]=s):s=b[11];r=q&&p.filePreviewContainer;b[12]!==r?(q=(i||(i=c("stylex")))(p.previewContainer,r),b[12]=r,b[13]=q):q=b[13];b[14]!==e||b[15]!==h||b[16]!==a?(r=m.jsx(z,{mediaStagingItem:e,onError:h,onLoad:a}),b[14]=e,b[15]=h,b[16]=a,b[17]=r):r=b[17];b[18]!==q||b[19]!==r?(h=m.jsx("div",{className:q,children:r}),b[18]=q,b[19]=r,b[20]=h):h=b[20];b[21]!==j?(a=m.jsx(x,{onPress:j}),b[21]=j,b[22]=a):a=b[22];b[23]!==s||b[24]!==h||b[25]!==a?(q=m.jsxs("div",{className:s,children:[h,a]}),b[23]=s,b[24]=h,b[25]=a,b[26]=q):q=b[26];return q}function a(a){var b=o(18),e=a.hideUploadPlaceholder,f=a.multiple,g=a.supportedFileTypes;a=a.thread;e=e===void 0?!1:e;f=f===void 0?!0:f;var h=c("useIGDMediaMangerUploadFailedToast")(),i;b[0]!==h||b[1]!==a?(i={showUploadFailureToast:h,thread:a},b[0]=h,b[1]=a,b[2]=i):i=b[2];h=d("MWMediaManager").useMediaManager(i);var j=h.handleFileRemove;a=h.handleFileSelect;i=h.mediaStaging;if(i.length===0){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(m.Fragment,{}),b[3]=h):h=b[3];return h}else{b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",b[4]=h):h=b[4];if(b[5]!==i||b[6]!==j){var k;b[8]!==j?(k=function(a){return m.jsx(A,{mediaStagingItem:a,onAttachmentRemoved:j},a.offlineAttachmentId)},b[8]=j,b[9]=k):k=b[9];k=Array.from(i).map(k);b[5]=i;b[6]=j;b[7]=k}else k=b[7];b[10]!==e||b[11]!==f||b[12]!==a||b[13]!==g?(i=e?null:m.jsx(v,{multiple:f,onAttachmentsAdded:a,supportedFileTypes:g}),b[10]=e,b[11]=f,b[12]=a,b[13]=g,b[14]=i):i=b[14];b[15]!==k||b[16]!==i?(e=m.jsxs("div",{className:h,children:[k,i]}),b[15]=k,b[16]=i,b[17]=e):e=b[17];return e}}g["default"]=a}),226);
__d("IGDSHeartOutlineIcon.react",["IGDSHeartPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSHeartPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDWebHeartConst",[],(function(a,b,c,d,e,f){"use strict";a=String.fromCodePoint(10084,65039);f.HEART_BUTTON_UNICODE=a}),66);
__d("IGDHeartLikeButton.react",["fbt","IGDSHeartOutlineIcon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDWebHeartConst","Int64Hooks","MWPActor.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDHeartLikeButton.react"),m=h._("__JHASH__6U7UDSmCorj__JHASH__");function a(a){var b=j(14),e=a.onSendMessage,f=a.thread,g=c("useAsyncReStore")(),h=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),b[0]=f,b[1]=a):a=b[1];var o=a,p;b[2]!==i||b[3]!==o||b[4]!==n||b[5]!==e||b[6]!==g||b[7]!==f.threadKey||b[8]!==h?(a=function(){i==null?void 0:i({eventName:"send_hot_emoji",extraData:o,flowInstanceId:n}),e(d("IGDWebHeartConst").HEART_BUTTON_UNICODE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDHeartLikeButton"),l.onReady(function(a){return c("promiseDone")(g.then(function(b){return a.log(b,void 0,f.threadKey,"composer","reaction",void 0,void 0,void 0,void 0,"reaction",h)}))})},p=[i,o,n,e,g,f.threadKey,h],b[2]=i,b[3]=o,b[4]=n,b[5]=e,b[6]=g,b[7]=f.threadKey,b[8]=h,b[9]=a,b[10]=p):(a=b[9],p=b[10]);a=d("Int64Hooks").useCallbackInt64(a,p);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("IGDSHeartOutlineIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0}),b[11]=p):p=b[11];b[12]!==a?(p=k.jsx(c("IGDSIconButton.react"),{onClick:a,children:p}),b[12]=a,b[13]=p):p=b[13];return p}g["default"]=a}),226);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d,e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),g=j.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f,b[3]=g):(d=b[0],e=b[1],f=b[2],g=b[3]);b[4]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f,g]})),b[4]=a,b[5]=d):d=b[5];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","getInstamadilloLoggingExtraData","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(14),e=a.thread,f=a.voiceRecorder,g=c("MessengerWebUXLogger").useInteractionLogger(),h=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==e?(a=c("getInstamadilloLoggingExtraData")(e),b[0]=e,b[1]=a):a=b[1];var k=a;b[2]!==k||b[3]!==h?(e={eventName:"composer_audio_button_rendered",extraData:k,flowInstanceId:h},b[2]=k,b[3]=h,b[4]=e):e=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(e);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==h?(e=function(){navigator.mediaDevices&&c("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){f.start(a)})),g==null?void 0:g({eventName:"composer_record_audio",extraData:k,flowInstanceId:h})},b[5]=f,b[6]=g,b[7]=k,b[8]=h,b[9]=e):e=b[9];e=e;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSMicrophonePanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),b[10]=l):l=b[10];b[11]!==a||b[12]!==e?(l=i.jsx(c("IGDSIconButton.react"),{innerRef:a,onClick:e,children:l}),b[11]=a,b[12]=e,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),n={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},o=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var b=a.ariaDescribedBy,e=a.contentEditableRef,f=a.editor,g=a.handlePastedFiles,h=a.placeholderText,i=a.policyProduct,p=a.surface;a=a.testId;var q=c("useDeferredModuleOnReady")(m),r=d("LexicalComposerContext").createLexicalComposerContext(),s=l(function(){return[f,r]},[f,r]),t=k(function(a){a=a==null?null:a;e.current=a},[e,f]);b=j.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({ariaDescribedBy:b,ariaLabel:o},h==null?{}:{"aria-placeholder":h,placeholder:j.jsx(c("CometLexicalPlaceholder.react"),{children:h})},{contentEditableRef:t,spellCheck:!0,tabIndex:0,webDriverTestID:a,xstyle:n.editor}));return j.jsxs("div",{className:"x1n2onr6",children:[j.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:s,children:[j.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:i,surface:p}),j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:b}),j.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]}),q==null||g===void 0?null:j.jsx(q,{editor:f,handlePastedFiles:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)))return"NOT_FOREIGN";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED)))return"LIMITED";else return"FOREIGN"}g.getWorkForeignEntityType=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("IGDComposerView.react",["fbt","CometPlaceholder.react","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDHeartLikeButton.react","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorder","MessengerWebUXLogger","PolarisUA","Promise","cr:10023","cr:1273","cr:6023","cr:6869","cr:7735","deferredLoadComponent","getInstamadilloLoggingExtraData","gkx","promiseDone","react","requireDeferred","stylex","useCurrentDisplayMode","useParticipantsExcludingViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.c,o=c("deferredLoadComponent")(c("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),p={buttonBar:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},buttonBarHidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1ke7ulo",borderTopEndRadius:"x3jqge",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0},sendButton:{marginEnd:"xfs2ol5",$$css:!0}};function q(a){var b=n(15),e=a.hidden,f=a.onClick;a=a.thread;var g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),j;b[0]!==a?(j=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=j):j=b[1];var k=j;b[2]!==k||b[3]!==i?(a={eventName:"composer_send_button_rendered",extraData:k,flowInstanceId:i},b[2]=k,b[3]=i,b[4]=a):a=b[4];j=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==i?(a=function(){f(),g==null?void 0:g({eventName:"send_message",extraData:k,flowInstanceId:i})},b[5]=f,b[6]=g,b[7]=k,b[8]=i,b[9]=a):a=b[9];a=a;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._("__JHASH__5ibYHtsbofL__JHASH__"),b[10]=l):l=b[10];b[11]!==e||b[12]!==a||b[13]!==j?(l=m.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:e,label:l,onClick:a,ref:j,variant:"primary_link",xstyle:p.sendButton}),b[11]=e,b[12]=a,b[13]=j,b[14]=l):l=b[14];return l}function a(a){var e=n(81),f=a.attachmentsSupported,g=a.composerLinkPreview,l=a.editor,r=a.editorElementRef,s=a.hasStuffToSend,t=a.hideUploadPlaceholder,u=a.multiple,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.policyProduct,y=a.sendMessage,z=a.supportedFileTypes,A=a.surface,B=a.thread;t=t===void 0?!1:t;u=u===void 0?!0:u;a=(a=a.emojisSupported)!=null?a:!0;var C=B.threadKey,D;e[0]!==C?(D=d("IGDAiAgentsUtils").isMetaAiThread(C),e[0]=C,e[1]=D):D=e[1];D=D;var E=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();E=E.hasLSThreadBitOffset;var F;e[2]!==E?(F=E(56),e[2]=E,e[3]=F):F=e[3];F=F;var G;e[4]!==E?(G=E(36),e[4]=E,e[5]=G):G=e[5];G=G;var H;e[6]!==E?(H=E(109),e[6]=E,e[7]=H):H=e[7];H=H;var I;e[8]!==E?(I=E(43),e[8]=E,e[9]=I):I=e[9];I=I;var J;e[10]!==B.threadType?(J=d("LSMessagingThreadTypeUtil").isGroup(B.threadType),e[10]=B.threadType,e[11]=J):J=e[11];J=J;var K;e[12]!==E?(K=E(14)&&!d("PolarisUA").isMobile(),e[12]=E,e[13]=K):K=e[13];K=K;var L;e[14]!==E||e[15]!==f?(L=E(2)&&f===!0,e[14]=E,e[15]=f,e[16]=L):L=e[16];E=L;var M=d("MWPUseVoiceRecorder").useVoiceRecorder();f=M.state.stage!=="Unopen";e[17]!==M||e[18]!==w?(L=function(){return c("promiseDone")(M.getVoiceClip().then(function(a){M.reset();w(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip");return(k||(k=b("Promise"))).resolve()}))},e[17]=M,e[18]=w,e[19]=L):L=e[19];L=L;var N=c("useCurrentDisplayMode")();N=N==="dark"?"var(--always-white)":"var(--chat-composer-button-color)";N=N;var O;e[20]!==C?(O={threadKey:C},e[20]=C,e[21]=O):O=e[21];O=c("useParticipantsExcludingViewer")(O);var P=c("gkx")("24011"),Q;e[22]!==y?(Q=function(){return y()},e[22]=y,e[23]=Q):Q=e[23];Q=Q;var R;e[24]===Symbol["for"]("react.memo_cache_sentinel")?(R=(i||(i=c("stylex")))([p.root]),e[24]=R):R=e[24];var S;e[25]!==g?(S=g!=null&&b("cr:7735")?m.jsx(c("CometPlaceholder.react"),{fallback:null,children:g}):null,e[25]=g,e[26]=S):S=e[26];e[27]!==t||e[28]!==u||e[29]!==z||e[30]!==B?(g=m.jsx(c("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:t,multiple:u,supportedFileTypes:z,thread:B}),e[27]=t,e[28]=u,e[29]=z,e[30]=B,e[31]=g):g=e[31];e[32]!==I||e[33]!==J||e[34]!==C||e[35]!==l||e[36]!==O?(t=b("cr:6023")!=null&&I&&J?m.jsx(b("cr:6023"),{editor:l,isAiBotMentionsEnabled:P,participants:O,threadFBID:(j||(j=d("I64"))).to_string(C)}):null,e[32]=I,e[33]=J,e[34]=C,e[35]=l,e[36]=O,e[37]=t):t=e[37];e[38]===Symbol["for"]("react.memo_cache_sentinel")?(P="x6s0dn4 x78zum5 x1gg8mnh x1pi30zi xlu9dua",e[38]=P):P=e[38];e[39]!==a||e[40]!==f||e[41]!==l||e[42]!==C?(I=a&&!f?m.jsx(c("IGDComposerEmojiButton.react"),{editor:l,threadKey:C}):null,e[39]=a,e[40]=f,e[41]=l,e[42]=C,e[43]=I):I=e[43];e[44]!==f||e[45]!==M||e[46]!==N||e[47]!==L||e[48]!==B||e[49]!==r||e[50]!==l||e[51]!==v||e[52]!==x||e[53]!==A?(J=f?m.jsxs(m.Fragment,{children:[m.jsx(c("IGDSIconButton.react"),{"aria-label":h._("__JHASH__errp_RlaJTi__JHASH__"),onClick:function(){return M.reset()},children:m.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:N,isRotated:!0,size:20})}),m.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:m.jsx(o,{voiceRecorder:M})}),m.jsx(q,{onClick:L,thread:B})]}):m.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,children:m.jsx(c("MWPCometComposerInner.react"),{ariaDescribedBy:h._("__JHASH__RTiaBuM2Ahi__JHASH__").toString(),contentEditableRef:r,editor:l,handlePastedFiles:v,placeholderText:h._("__JHASH__O9X2YGfflJk__JHASH__").toString(),policyProduct:x,surface:A})}),e[44]=f,e[45]=M,e[46]=N,e[47]=L,e[48]=B,e[49]=r,e[50]=l,e[51]=v,e[52]=x,e[53]=A,e[54]=J):J=e[54];e[55]!==f||e[56]!==s||e[57]!==Q||e[58]!==B||e[59]!==K||e[60]!==M||e[61]!==E||e[62]!==F||e[63]!==u||e[64]!==v||e[65]!==z||e[66]!==C||e[67]!==H||e[68]!==w||e[69]!==D||e[70]!==G?(O=f?null:m.jsxs(m.Fragment,{children:[m.jsx(q,{hidden:!s,onClick:Q,thread:B}),m.jsxs("div",{className:(i||(i=c("stylex")))([p.buttonBar,s&&p.buttonBarHidden]),children:[K?m.jsx(c("IGDVoiceClipButton.react"),{thread:B,voiceRecorder:M}):null,E?m.jsx(c("IGDComposerAttachmentButton.react"),{disabled:!F,multiple:u,onAttachmentsAdded:v,supportedFileTypes:z,threadKey:C}):null,H?m.jsx(c("IGDHeartLikeButton.react"),{onSendMessage:w,thread:B}):null,b("cr:10023")?m.jsx(b("cr:10023"),{onSendMessage:w}):null,b("cr:6869")!=null&&D?m.jsx(b("cr:6869"),{onSendMessage:w,thread:B}):null,G&&b("cr:1273")!=null?m.jsx(b("cr:1273"),{threadKey:C}):null]})]}),e[55]=f,e[56]=s,e[57]=Q,e[58]=B,e[59]=K,e[60]=M,e[61]=E,e[62]=F,e[63]=u,e[64]=v,e[65]=z,e[66]=C,e[67]=H,e[68]=w,e[69]=D,e[70]=G,e[71]=O):O=e[71];e[72]!==I||e[73]!==J||e[74]!==O?(a=m.jsxs("div",{className:P,children:[I,J,O]}),e[72]=I,e[73]=J,e[74]=O,e[75]=a):a=e[75];e[76]!==S||e[77]!==g||e[78]!==t||e[79]!==a?(N=m.jsxs("div",{className:R,children:[S,g,t,a]}),e[76]=S,e[77]=g,e[78]=t,e[79]=a,e[80]=N):N=e[80];return N}g["default"]=a}),226);
__d("IGDLinkPreviewContainer_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDLinkPreviewContainer_data",selections:[{args:null,kind:"FragmentSpread",name:"IGDLinkPreviewsContent_data"}],type:"IGLinkPreviewAttachment",abstractKey:null};e.exports=a}),null);
__d("IGDLinkPreviewsContent_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDLinkPreviewsContent_data",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},action:"LOG",path:"title"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},action:"LOG",path:"image_url"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},action:"LOG",path:"domain"}],type:"IGLinkPreviewAttachment",abstractKey:null};e.exports=a}),null);
__d("IGDLinkPreviewsContent.react",["fbt","CometImage.react","CometProgressRingIndeterminate.react","CometRelay","IGDLinkPreviewsContent_data.graphql","IGDSCircleXOutlineIcon.react","IGDSIconButton.react","IGDSText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState,m=e.c,n=h._("__JHASH__IZP73WkpQjB__JHASH__");function a(a){var e=m(9),f=a.fragmentProp,g=a.isRefetching,j=a.linkToPreview;a=a.logLinkPreviewsImpressionEventRef;var o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];o=l(o);var p=o[0],q=o[1];e[1]!==j?(o=function(){q(function(a){return[].concat(a,[j])})},e[1]=j,e[2]=o):o=e[2];o=o;f=d("CometRelay").useFragment(i!==void 0?i:i=b("IGDLinkPreviewsContent_data.graphql"),f);if(g){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"blue",size:24})}),e[3]=g):g=e[3];return g}if(p.includes(j))return null;p=(g=f==null?void 0:f.domain)!=null?g:"";e[4]!==f||e[5]!==p||e[6]!==o||e[7]!==a?(g=f!=null?k.jsxs("div",{className:"x6s0dn4 x1anpbxc xmo9yow xyorhqc x17adc0v xz7v4t6 x1n2onr6",ref:a,children:[k.jsxs("div",{className:"x6s0dn4 xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x9f619 x78zum5 xozqiw3 x1nhvcw1 x8nclml x87ps6o",children:[k.jsx("div",{className:"x1vtvx1t x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1anpbxc xmo9yow xyorhqc x17adc0v",children:(f==null?void 0:f.image_url)!=null&&k.jsx(c("CometImage.react"),{height:64,objectFit:"contain",src:f==null?void 0:f.image_url,width:64})}),k.jsxs("div",{className:"x78zum5 xdt5ytf",children:[k.jsx(c("IGDSText.react").BodyEmphasized,{maxLines:1,children:f==null?void 0:f.title}),p&&k.jsx("div",{className:"x889kno",children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",maxLines:2,children:f==null?void 0:f.domain})})]})]}),k.jsx("div",{className:"x1wtad8d x10l6tqk x1fur4o1",children:k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:n,children:k.jsx(c("IGDSIconButton.react"),{onClick:o,children:k.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:h._("__JHASH__DW4lpT5bI7H__JHASH__"),size:20})})})})]}):null,e[4]=f,e[5]=p,e[6]=o,e[7]=a,e[8]=g):g=e[8];return g}g["default"]=a}),226);
__d("IGDLinkPreviewContainer.react",["IGDLinkPreviewContainer_data.graphql","IGDLinkPreviewsContent.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","RelayHooks","getInstamadilloLoggingExtraData","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(10),f=a.isRefetching,g=a.linkToPreview,i=a.query,l=a.queryReference;a=a.thread;var m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),n;e[0]!==a?(n=c("getInstamadilloLoggingExtraData")(a),e[0]=a,e[1]=n):n=e[1];a=n;e[2]!==a||e[3]!==m?(n={eventName:"composer_link_previews_rendered",extraData:a,flowInstanceId:m},e[2]=a,e[3]=m,e[4]=n):n=e[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(n);m=d("RelayHooks").usePreloadedQuery(i,l);n=d("RelayHooks").useFragment(h!==void 0?h:h=b("IGDLinkPreviewContainer_data.graphql"),m.igd_link_preview_for_url);e[5]!==n||e[6]!==f||e[7]!==g||e[8]!==a?(i=n&&k.jsx(c("IGDLinkPreviewsContent.react"),{fragmentProp:n,isRefetching:f,linkToPreview:g,logLinkPreviewsImpressionEventRef:a}),e[5]=n,e[6]=f,e[7]=g,e[8]=a,e[9]=i):i=e[9];return i}g["default"]=a}),98);
__d("IGDLinkPreviewRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7924764570986258"}),null);
__d("IGDLinkPreviewRootQuery.graphql",["IGDLinkPreviewRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{kind:"Variable",name:"url",variableName:"url"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDLinkPreviewRootQuery",selections:[{alias:null,args:c,concreteType:"IGLinkPreviewAttachment",kind:"LinkedField",name:"igd_link_preview_for_url",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IGDLinkPreviewContainer_data"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDLinkPreviewRootQuery",selections:[{alias:null,args:c,concreteType:"IGLinkPreviewAttachment",kind:"LinkedField",name:"igd_link_preview_for_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null}],storageKey:null}]},params:{id:b("IGDLinkPreviewRootQuery_instagramRelayOperation"),metadata:{},name:"IGDLinkPreviewRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFirstComposerLink.react",["CometThrottledDebounce","URLMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=1e3;function a(a){var b=j(null),d=b[0],e=b[1],f=c("CometThrottledDebounce")(function(a){a=c("URLMatcher").match(a);a!=null?e(a):e(null)},k,k);i(function(){return a.registerTextContentListener(function(a){f(a)})},[a,f]);return d}g["default"]=a}),98);
__d("IGDLinkPreviewRoot.react",["IGDLinkPreviewContainer.react","IGDLinkPreviewRootQuery.graphql","RelayHooks","react","useFirstComposerLink.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useTransition,m=e.c,n=h!==void 0?h:h=b("IGDLinkPreviewRootQuery.graphql");function a(a){var b=m(11),e=a.editor;a=a.thread;var f=c("useFirstComposerLink.react")(e);e=d("RelayHooks").useQueryLoader(n);var g=e[0],h=e[1];e=l();var i=e[0],o=e[1];b[0]!==h?(e=function(a){o(function(){h({url:a})})},b[0]=h,b[1]=e):e=b[1];var p=e,q;b[2]!==f||b[3]!==p?(e=function(){f!=null&&p(f)},q=[f,p],b[2]=f,b[3]=p,b[4]=e,b[5]=q):(e=b[4],q=b[5]);k(e,q);if(f!=null&&g){b[6]!==i||b[7]!==f||b[8]!==g||b[9]!==a?(e=j.jsx(c("IGDLinkPreviewContainer.react"),{isRefetching:i,linkToPreview:f,query:n,queryReference:g,thread:a}),b[6]=i,b[7]=f,b[8]=g,b[9]=a,b[10]=e):e=b[10];return e}return null}g["default"]=a}),98);
__d("IGDSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}f.getIGDSupportedFileTypes=a}),66);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MAWIsLinkPreviewXMAEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6298")}g.isLinkPreviewXMAEnabled=a}),98);
__d("MWChatMessagesOnChatTabLoadTracker",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function a(a){return function(b){var c=(h||(h=d("I64"))).to_string(b);c in a||(a[(h||(h=d("I64"))).to_string(b)]=0);a[h.to_string(b)]++}}f=a(i);a=a(j);function b(a){return i[a]||0}function c(a){return j[a]||0}function e(a){delete i[a],delete j[a]}g.trackSendFor=f;g.trackReceivedFor=a;g.getMessageSendsCountFor=b;g.getMessageReceivesCountFor=c;g.clearMessageCountsFor=e}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("getURLRanges")(a);return a.length===0?null:a}g.findFirstUrl=a}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MAWIsLinkPreviewXMAEnabled","MWHasLinksUtil","cr:5710","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=void 0;function k(){return Array.from(i.values()).some(function(a){return a.messageText.trim()!==""})}function l(a){return i.get((h||(h=d("I64"))).to_string(a))}function m(){if(!c("justknobx")._("2955")||b("cr:5710")==null||j!=null)return;j=b("cr:5710").onBeforeUnload(function(){if(k())return"You have pending messages. Please wait for them to be sent before closing the window.";return},!1)}function a(a){var b=a.deleteLinkPreviewXMATableData,e=a.fetchAndWriteLinkPreviewXMA,f=a.message,g=a.threadKey;a=a.threadType;if(f==null){i["delete"]((h||(h=d("I64"))).to_string(g));if(i.size===0){var k;(k=j)==null?void 0:k.remove();j=void 0}return}i.has((h||(h=d("I64"))).to_string(g))?n(g,f):i.set((h||(h=d("I64"))).to_string(g),{id:c("uuidv4")(),linkPreviewURL:null,messageText:f});k=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k&&d("MAWIsLinkPreviewXMAEnabled").isLinkPreviewXMAEnabled()&&o(g,f,e,b);m()}function n(a,b){var e=l(a);if(e==null){c("FBLogger")("messenger_web_messaging").mustfix("currentDraft was null in updateDraftMessageText");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{messageText:b}))}function o(a,b,e,f){var g,h=l(a);if(h==null){c("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var i=h==null?void 0:h.linkPreviewURL;g=(g=d("MAWFindFirstUrl").findFirstUrl(b))!=null?g:[];b=d("MWHasLinksUtil").getHasLinks(b);b=b?(b=(b=g[0])==null?void 0:b.entity.url)!=null?b:null:null;if(i===b)return;if(b==null){p(a,h,null);f&&void f({draftId:h.id});return}p(a,h,b);e&&void e({draftId:h.id,urls:g})}function p(a,b,c){i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},b,{linkPreviewURL:c}))}g.getDraftMessage=l;g.updateDraftMessage=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101","cr:6138"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:3101")||b("cr:6138");a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(h!=null&&a instanceof h.MessengerLexicalCommandNode){e=a.getEntity();b.push({id:e.commandId,length:a.getTextContent().length,offset:c,type:a.getRangeType()})}c+=a.getTextContent().length})});return b}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext,k=b.useMemo,l=c({});function a(a){var b=a.children,c=a.onMessageSendAttempt;a=j(l);var d=a.onMessageSendAttempt;a=k(function(){return{onMessageSendAttempt:function(a){d==null?void 0:d(a),c==null?void 0:c(a)}}},[d,c]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({hasContentRef:void 0});function a(a){a=a.children;var b=l(!1),c=k(function(){return{hasContentRef:b}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,e==null?void 0:e.MessengerLexicalCommandNode],i=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function a(a){var b,e=d("Lexical").createEditor({namespace:"MWPEditor",nodes:(b=a==null?void 0:a.nodes)!=null?b:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,e,function(b){c("FBLogger")("messenger_web_messaging").catching(a).mustfix("Lexical Error MWP: %s",b)})},theme:(b=a==null?void 0:a.theme)!=null?b:i});return e}g["default"]=a}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=a.draftId;if(!g)return;a=(yield e);a=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=null;yield a.e2ee_composer_draft_link_preview.get(d).then(function(a){a=JSON.parse((a=a==null?void 0:a.data)!=null?a:"{}");b=a.iframeMediaURL});yield a.e2ee_composer_draft_link_preview["delete"](d);return b});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":40"));if(a!=null)try{URL.revokeObjectURL(a)}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",a)}});return function(b){return a.apply(this,arguments)}}())}g["default"]=a}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isFocused;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("useMWPComposerAutoFocus",["MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect;function l(a){var b;b=(b=document.activeElement)==null?void 0:(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b==null?void 0:b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=a.editor,e=a.focusEditorDelayed,f=a.hasUnsentAttachments,g=f===void 0?!1:f;f=a.isPreviewThread;f=f===void 0?!1:f;var h=a.isQuickchat;a=d("MWChatFocusComposerContext").useMWChatFocusComposer();a=a.setFocusComposer;var m=j(d("MWPReplyContext.react").MWPReplyContext),n=m.reply,o=c("usePrevious")(n);k(function(){(o==null?n!=null:!c("deepEquals")(o,n))&&(h&&e?e(b):l(b))},[b,n,o,e,h]);m=d("MWV2IsTabFocusedContext.react").useIsTabFocused();var p=m&&!f;k(function(){p&&(h&&e?e(b):l(b))},[b,p,e,h]);k(function(){g&&(h&&e?e(b):l(b))},[b,g,e,h]);a(i(function(){h&&e?e(b):l(b)},[b,e,h]))}g["default"]=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","err","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["image/png","image/jpeg","image/jpg"],j=2*1e3;function k(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function l(a){return(h||(h=b("Promise"))).race([a,k(j)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(r).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=(yield l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b)));if(a==null||a instanceof Blob){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return o({fallbackUrl:e,rawResponse:a})}catch(a){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_e2ee_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}});return m.apply(this,arguments)}function f(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=a.qplEvent;a=a.url;if(a==null||!Boolean(a)){f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return(h||(h=b("Promise"))).resolve()}e=(e=window.frames["maw-intermediate-iframe"])!=null?e:null;if(e==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}a=(yield l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,e)));if(a instanceof Blob)return a;f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch image blob response. ");return(h||(h=b("Promise"))).resolve()});return n.apply(this,arguments)}function o(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("err")("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("err")("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function p(a){var b=q.some(function(b){return b.test(a)});return b?!0:Object.values(r).some(function(b){b=b.url;return a.startsWith(b)})}var q=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$")],r={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};g.allowedPreviewTypes=i;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=e;g.getImageBlobResponse=f;g.isAllowedRequestForFbsbx=p}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_e2ee_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=(d=d)!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null?void 0:a.beginListening();return k}if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null?void 0:b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null?void 0:(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWQPLInstanceKeyUtils","QPLUserFlow","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(1056840460,"718");function a(a){var b=a.draftId;a=a.url;b=b.concat(a);var e=d("MAWQPLInstanceKeyUtils").getInstanceKey(b);a=c("justknobx")._("2714");c("QPLUserFlow").start(h,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:e,timeoutInMs:a});return{addAnnotations:function(a){c("QPLUserFlow").addAnnotations(h,a,{instanceKey:e})},addPoint:function(a,b){c("QPLUserFlow").addPoint(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endCancel:function(a,b){c("QPLUserFlow").endCancel(h,{annotations:a,cancelReason:b,instanceKey:e})},endFail:function(a,b){c("QPLUserFlow").endFailure(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endSuccess:function(){c("QPLUserFlow").endSuccess(h,{instanceKey:e})}}}g.startMediaPreProcessLinkPreviewQpl=a}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":26");return e==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(e=e==null?void 0:e.e2eeXmaPreviewsDisabled)!=null?e:!1}g["default"]=a}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","MWPComposerDraftMessages","Promise","asyncToGeneratorRuntime","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function e(a){var e=a.threadKey;a=a.threadType;var f=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),h=c("useMAWDeleteLinkPreviewXMATableData")(a),l=c("getRequestConstUri")(),n=c("useXMAPreviewsDisabledSetting")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var o=a.draftId;a=a.urls;if(!g)return(i||(i=b("Promise"))).resolve();var p=d("ConstUriUtils").getUri(a[0].entity.url);if(p==null)return(i||(i=b("Promise"))).resolve();var q=d("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:o,url:p.toString()}),r=c("isFacebookURI")(p),s=c("isFacebookURI")(l);s=r&&s;if(r&&n){j({dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:q,qplSubspanPoint:"write_fb_disabled",status:c("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:e,xmaData:null});q.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}j({dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:q,qplSubspanPoint:"write_loading_status",status:c("E2EELinkPreviewXMADataStatus").LOADING,threadKey:e,xmaData:{title:p.getDomain(),url:p.toString()}});q.addAnnotations({bool:{should_fetch_from_og:s},string:{link_type:r?"facebook":"external"}});r=s?yield k(p.toString(),q):yield m(a,q);s=r.dataType;p=r.xmaData;j({dataType:s,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:q,qplSubspanPoint:"write_xma_data",status:c("E2EELinkPreviewXMADataStatus").LOADED,threadKey:e,xmaData:p})});return function(b){return a.apply(this,arguments)}}())}function j(a){var b,e,g=a.dataType,i=a.dbPromise,j=a.deleteLinkPreviewXMATableData,k=a.draftId,l=a.qplEvent,m=a.qplSubspanPoint,n=a.status,o=a.threadKey,p=a.xmaData;l.addAnnotations({"int":{data_type:g}});a=d("MWPComposerDraftMessages").getDraftMessage(o);b=(b=a)==null?void 0:b.id;e=(e=a)==null?void 0:e.linkPreviewURL;if(b!==k||e!==(p==null?void 0:p.url)){l.addPoint(m+"_abort");l.endCancel({string:{cancel_reason:"draft_id_or_url_changed_abort"}},706);return}l.addPoint(m+"_start");c("promiseDone")(i,function(i){return i.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:g!=null?(h||(h=d("I64"))).of_int32(g):void 0,draftId:k,status:(h||(h=d("I64"))).of_int32(n)})},"readwrite",void 0,void 0,f.id+":194").then(function(c){var f;a=d("MWPComposerDraftMessages").getDraftMessage(o);b=(f=a)==null?void 0:f.id;e=(f=a)==null?void 0:f.linkPreviewURL;(b!==c[0]||e!==(p==null?void 0:p.url))&&(l.addPoint(m+"_delete"),l.endCancel({string:{cancel_reason:"draft_id_or_url_changed_delete"}},706),void j({draftId:c[0]}));l.addPoint(m+"_success");m==="write_xma_data"&&l.endSuccess()})["catch"](function(a){l.endFail(m+"_failed",{string:{data_status:String(n),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+a}}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;b.addPoint("fetch_fb_og_data_start");e=(e=(e=d("ConstUriUtils").getUri(a))==null?void 0:e.getDomain())!=null?e:a;try{var f;b.addPoint("http_request_start");var g=(yield window.fetch(a,{credentials:"omit",referrerPolicy:"no-referrer"}));b.addPoint("http_response_end");if(!g.ok){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(g.status),xma_data_returned:"fallback"}});return o(e,a)}g=(yield g.text());var h=new DOMParser();h=h.parseFromString(g,"text/html");h.querySelector("parsererror")&&b.addPoint("html_parsererror");g=(g=h.querySelector('meta[property="og:image"]'))==null?void 0:g.getAttribute("content");f=(f=h.querySelector('meta[name="description"]'))==null?void 0:f.getAttribute("content");h=(h=h.querySelector('meta[property="og:title"]'))==null?void 0:h.getAttribute("content");if(g==null&&f==null&&h==null){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}});return o(e,a)}b.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:(f=f)!=null?f:void 0,iframeMediaURL:g,thumbnail_url:(f=g)!=null?f:void 0,title:(g=h)!=null?g:e,url:a}}}catch(c){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}});return o(e,a)}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){e.addPoint("fetch_external_link_oembed_data_start");var f=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(b);b=b[0].entity.url;var g=null;if(f!=null){b=f.oEmbedUrl;try{e.addPoint("get_oembed_response_start"),g=(yield d("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:b,qplEvent:e,request:f.oEmbedRequest})),e.addPoint("get_oembed_response_success")}catch(a){e.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+a}}),e.addPoint("get_oembed_response_end"),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}f=(f=d("ConstUriUtils").getUri(b))==null?void 0:f.getDomain();if(g==null){var h;e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}});return o((h=f)!=null?h:b,b)}e==null?void 0:e.addPoint("get_image_blob_response_start");h=(yield d("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:e,url:(h=g)==null?void 0:h.thumbnail_url}));var i=null;if(h!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(h.type)){h=new File([h],"preview",{type:h.type});i=a.URL.createObjectURL(h)}e==null?void 0:e.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:i==null}});e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers["extends"]({iframeMediaURL:i},g,{title:(h=g.title)!=null?h:f,url:(e=g.url)!=null?e:b})}});return n.apply(this,arguments)}function o(a,b){return{dataType:c("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:a,url:b}}}g["default"]=e}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.editor,e=a.isPreviewThread,f=a.threadKey,g=a.threadType,h=c("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:f,threadType:g}),j=c("useMAWDeleteLinkPreviewXMATableData")(g),k=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),l=i(function(a){e&&k!=null?k.current=a:d("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:j,fetchAndWriteLinkPreviewXMA:h,message:a,threadKey:f,threadType:g})},[j,h,e,k,f,g]);d("Int64Hooks").useEffectInt64(function(){b.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});if(c("isStringNullOrEmpty")(a)){l(a);return}l(a)},{wait:250}))},[b,l]);d("Int64Hooks").useEffectInt64(function(){var a=b.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});l(a)},[b,l])}g["default"]=a}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=a.editor,e=a.isPreviewThread;e=e===void 0?!1:e;var f=a.isQuickchat;f=f===void 0?!1:f;var g=a.threadKey;a=a.threadType;var h=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),j=i(c("MWPreloadedText"));h=j.text!=null?j.text:h!=null?h.current:(j=d("MWPComposerDraftMessages").getDraftMessage(g))==null?void 0:j.messageText;c("useMWLSSaveDrafts")({editor:b,isPreviewThread:e,threadKey:g,threadType:a});c("usePrepopulateLexicalEditor")(b,f?void 0:h);return h}g["default"]=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}function b(a){var b=a.editor;a=a.initialValue;a=k(a);var c=k((a=a.current)!=null?a:!1);j(function(){c.current=!1},[]);return n(b)||c.current}g.useMWXLexicalHasText_DEPRECATED=a;g.useMWXLexicalHasText=b}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MAWIsLinkPreviewXMAEnabled","MWChatMessagesOnChatTabLoadTracker","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","WALoggerDeferred","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useLexicalInitializeEditor__DEPRECATED","useMAWDeleteLinkPreviewXMATableData","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useContext,k=f.useEffect,l=f.useMemo,m=f.useRef;function a(a){return}var n=b("cr:7101")==null?a:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[];function p(){c("promiseDone")(d("WALoggerDeferred").logWithTags(["MWPComposerEditor","Composer"],["Calling onSendMessage"],"LOG"))}var q=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function e(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?q:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var r=a.onSendMessage,s=a.onTypingStateChanged,t=a.threadKey,u=a.clearFormatAfterSend,v=a.isQuickchat;v=v===void 0?!1:v;var w=a.focusEditorDelayed,x=a.editorNodes,y=a.editorTheme,z=a.threadType,A=a.composerEntrypointForLogging;a=m(null);var B=l(function(){return c("mwpLexicalCreateEditor")({nodes:x,theme:y})},[x,y]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(B);c("useMWPLexicalClearEditor")(B,u);c("useMWPComposerAutoFocus")({editor:B,focusEditorDelayed:w,hasUnsentAttachments:h,isPreviewThread:e,isQuickchat:v});u=c("useMWPComposerEditorDraftText")({editor:B,isPreviewThread:e,isQuickchat:v,threadKey:t,threadType:z});var C=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:B,initialValue:u!=null&&u!==""}),D=C||h;w=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var E=w.hasContentRef;k(function(){if(E==null)return;E.current=C},[C,E]);var F=c("useMAWDeleteLinkPreviewXMATableData")(z);c("useMWXLexicalOnTypingChanged")({editor:B,onTypingStateChanged:s});e=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var G=e.onMessageSendAttempt,H=c("useMWIsOffline")();v=d("Int64Hooks").useCallbackInt64(function(){if(H)return;G==null?void 0:G(D);B.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);if(!D)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(t);p();var a=b!=null?b(B,(i||(i=d("I64"))).to_string(t)):c("MWV2ChatComposerGetViewContent").getRanges(B),e=B.getEditorState();e=f(e);var g=d("MWPComposerDraftMessages").getDraftMessage(t),h=g==null?void 0:g.id,j=(g==null?void 0:g.linkPreviewURL)!=null;r(e,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){h!=null&&j&&d("MAWIsLinkPreviewXMAEnabled").isLinkPreviewXMAEnabled()&&(F&&void F({draftId:h}))},void 0,void 0,void 0,void 0,h,A);d("MWPComposerDraftMessages").updateDraftMessage({message:null,threadKey:t});B.focus()},[H,G,D,B,t,b,f,r,A,F]);u=g?c("emptyFunction"):v;c("useMWPLexicalCommitMessageOnEnter")(B,u);n(a.current);return{editor:B,editorElementRef:a,hasStuffToSend:D,sendMessage:u}}g["default"]=e}),98);
__d("useFileDragEvents",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a,b,d){b===void 0&&(b=document.documentElement);var e=k(0),f=l(!1),g=f[0],h=f[1],m=i(function(b){h(!1);if((d==null||d(b))&&a!=null){b.preventDefault();var c=b.dataTransfer;if(c!=null){c=c.files;a(c,b)!==!1&&b.stopPropagation()}else b.stopPropagation();e.current=0}},[a,d]),n=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(d==null||d(a))&&b!=null&&(a.preventDefault(),e.current++,h(!0))},[d]),o=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(d==null||d(a))&&b!=null&&--e.current===0&&h(!1)},[d]),p=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;var d=c("gkx")("4704");d&&a.dataTransfer!=null&&(a.dataTransfer.dropEffect="copy");b!=null&&a.preventDefault()},[]);j(function(){if(b!=null){b.addEventListener("drop",m,!0);b.addEventListener("dragenter",n,!0);b.addEventListener("dragleave",o,!0);b.addEventListener("dragover",p,!0);return function(){b.removeEventListener("drop",m,!0),b.removeEventListener("dragenter",n,!0),b.removeEventListener("dragleave",o,!0),b.removeEventListener("dragover",p,!0)}}},[n,o,p,m,b]);return g}g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.useCallback,n=b.useRef,o=e({current:{enabled:!0,handler:null}});function p(a){var b=a.children;a=a.fileUploadHandlerConfigRef;var c=o.Provider;return l.jsx(c,{value:a,children:b})}p.displayName=p.name+" [from "+f.id+"]";var q={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function r(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function s(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function t(a,b){var d=s(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite",void 0,void 0,f.id+":122"))}function u(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var v=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=n({enabled:!1,handler:null}),o=n(null),s=(i||(i=c("useReStore")))(),w=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=!c("gkx")("24132");var x=e===!0||g||w;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!r(a).some(function(a){return v.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=m(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!w){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_web_media")}return}d=Array.from(a);a=f?d.filter(u):d;d.length!==a.length&&t(s,d.length);!x&&a.length!==0&&b(a)},[f,x,w,s]);c("useFileDragEvents")(e,o.current,function(a){return!0});return l.jsxs("div",{className:(j||(j=c("stylex")))(q.root,(e=a)!=null?e:!1),ref:o,children:[l.jsx(p,{fileUploadHandlerConfigRef:k,children:b}),!x&&g?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c x17qophe xl56j7k x10l6tqk x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=o;g.MWV2FileDropzone=a}),226);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){var c={enabled:!0,handler:a};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a])}g["default"]=a}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message";function j(){return c("justknobx")._("1630")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}g.sentMessage=a;g.hasSentMessagesRecently=b}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedMsgLogUtils","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=e.isCommunityEvent,g=e.isMessageRequest,i=e.source;e=e.threadType;var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,j);j={entrypoint:d("MWSharedMsgLogUtils").getEntrypointAnnotation(i),is_community_event:f===!0?"true":"false",is_message_request:g===!0?"true":"false",thread_type:e==null?"unknown":(h||(h=d("I64"))).to_string(e)};Object.entries(j).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.logSentHeroInteraction=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedMsgLogUtils","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,"send_message_server_error",c("err")("send_message_server_error")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.isCommunityEvent,f=a.isMessageRequest,g=a.s2sInstanceKey,m=a.source,n=a.threadType,o=a.traceSendMessageAPI,p={isCommunityEvent:e,isMessageRequest:f,mwVersion:d("MWVersion").v2,source:m,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(g));d("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:d("MWSharedMsgLogUtils").getEntrypointAnnotation(m),is_community_event:e===!0?"true":"false",is_message_request:f===!0?"true":"false",thread_type:n==null?"unknown":(h||(h=d("I64"))).to_string(n)}});var q=!1,r=d("ReQL").fromTableAscending(c.tables.messages.index("optimistic")).getKeyRange(a),s=d("ReQLSubscribe").subscribeToFirst(r,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(q=!0,j(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(q=!0,k(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(g)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!q){var a=(yield d("ReQL").firstAsync(r));q||d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){s()},6e4)}}g["default"]=a}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return b?i(a,b):c()}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("isInstamadillo")())return{openEb:!1,pluginType:void 0};var e=(yield a.messages.index("messageId").get(b.messageId));if(!d("IGDInstamadilloUtils").isInstamadilloMessage(e))return{openEb:!1,pluginType:void 0};e=(yield a.e2ee_igMessageAuxiliaryInfo.get(b.messageId));a=Boolean(e==null?void 0:e.openEb);return{openEb:a,pluginType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO)}});return j.apply(this,arguments)}g.IGDGetMessagePluginInfo=a}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,e,f,g,j,k,l,m,n,o,p){var q=n!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(n)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO,r=q?1:0;i.onReady(function(c){return c.log(a,{actor:f,additionalTags:q?["armadillo_express"]:void 0,attachmentFbids:j,attachmentType:l,backend:r,ephemeralDurationInSec:p,hasReply:m,isInstamadilloTTLC:o,offlineThreadingId:g,sendType:0,source:k,threadKey:b,threadType:e})})}g.log=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","Promise","asyncToGeneratorRuntime","gkx","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(k||(k=d("I64"))).minus_one,tags:b}))});return n.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.disableMarkRead,g=a.ephemeralDurationInSec,i=a.onOptimisticMessageCreation,n=a.skipUrlPreviewGen,o=a.threadKey,p=a.threadType,q=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var r=a.reply,s=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a,l){var t=l.afterSend,u=l.attributionAppId,v=l.dataclassParams,w=l.dataTraceId,x=l.externalAttachmentUrl,y=l.hotEmojiSize,z=l.logSendPoint,A=l.mentionData,B=l.messageText,C=l.messageTypeParams,D=l.multitabEnv,E=l.optimisticAttachmentPreview,F=l.platformToken,G=l.pluginType,H=l.profileRanges,I=l.richTextFormatType,J=l.s2sInstanceKey,K=l.setupS2SLogging,L=l.source,M=l.stickerID,N=l.traceSendMessageAPI,O=l.transaction;return P(O);function P(a){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(l){var P=c("LSFactory")(l),Q=c("gkx")("24135");yield m(l,(k||(k=d("I64"))).to_string(o),w);var R=C.hasAttachment,S=C.hasGif,T=C.hasLinks,U=C.hasSticker,V=C.hasText,W=(yield l.threads.get(o)),X=T?d("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(W):d("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(W);W=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(l,r,function(){return(h||(h=b("Promise"))).resolve({openEb:X,pluginType:X?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):G})}));l=W.openEb;W=W.pluginType;P=(yield c("LSOptimisticSendMessageV2StoredProcedure")(P,{dataclassParams:v!=null?JSON.stringify(v):void 0,extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:u,calculate_denormalizations:!1,data_trace_id:(P=w)!=null?P:void 0,ephemeral_duration_in_sec:g,external_attachment_url:x,hot_emoji_size:y,initiating_source:s,mark_read:f===!0?!1:(k||(k=d("I64"))).ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:A,multitab_env:D,openEb:l,optimistic_attachment_preview:E,platform_token:F,plugin_type:W,power_up_style:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:J.toString(),reply_source_id:r==null?void 0:r.messageId,reply_source_type:r!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:r!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:I,skip_url_preview_gen:n,source:L,sticker_id:M,text_has_links:T&&Q}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:q,text:B,threadKey:o,threadType:p}));z("create_optimistic_message_end");d("MWPSendMessageLogger").log(a,o,p,q,void 0,[],L,c("MessagingAttachmentType").NONE,r!=null,W,X,g);if(!R){Q=P[0];K(Q);N.addAnnotationBoolean("is_instamadillo_ttlc",X&&l===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(J,{bool:{is_instamadillo_ttlc:X&&l===!0}})}i!=null&&i({TAG:0,hasLink:T,hasMention:H!=null&&H.length>0,isGIF:S,isReply:!!(r&&r.messageId!==""),isSticker:U,isText:V,offlineThreadingId:P[0]});t!=null&&(yield t(O));return P});return Q.apply(this,arguments)}},[o,r,g,s,f,e,n,q,p,i])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.disableMarkRead,d=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,disableMarkRead:b,ephemeralDurationInSec:d,onOptimisticMessageCreation:e,skipUrlPreviewGen:f,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MessengerWebEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("230");b=d("FalcoLoggerInternal").create("messenger_web_events",a);e=b;g["default"]=e}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var m=c("LSGenerateTraceId")(),n=k[0];n=d("MessagingLoggingUtils").convertI64ToAttachmentType(n.attachmentType);yield j(a,m,(i||(i=d("I64"))).of_int32(g.length),n);var o=0;n=g.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(g),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:f,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})});g=k.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(g!=null){var h=g.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:h,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(h)})}),o++)}c("gkx")("24136")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))});return function(a,b){return g.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(n);yield d("MWPOpenComposerUtils").resumeSendJob(c("LSFactory")(a),f,m);yield l(a,i.to_string(e),m);yield c("updateAndFlushLSDataTrace")(a,m);return{sentWithAllFilesUploaded:o===g.length}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){c("promiseDone")(c("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:f}));f=e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})})});return function(a){return c.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(f)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenStagedMedia",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","Promise","asyncToGeneratorRuntime","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function a(a,e,f){var g=d("MWPActor.react").useActor(),i=l(d("MWPReplyContext.react").MWPReplyContext),m=i.reply,n=c("useLSMessagingInitiatingSource")(),o=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i,l){var p=l.isFirstMessage;p=p===void 0?!1:p;var q=l.isFirstMessageText,r=l.mediaStagings,s=l.pluginType,t=l.s2sInstanceKey,u=l.sendFirstMessageSeparately;u=u===void 0?!1:u;var v=l.setupS2SLogging,w=l.source,x=l.traceSendMessageAPI;l=l.transaction;if(r.length===0)return;var y=!1;if(r.length===1){var z=r[0];(k||(k=d("I64"))).to_int32(z.attachmentType)===c("MessagingAttachmentType").IMAGE?y=d("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(f):(k||(k=d("I64"))).to_int32(z.attachmentType)===c("MessagingAttachmentType").VIDEO&&(y=d("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(f))}z=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(l,m,function(){return(h||(h=b("Promise"))).resolve({openEb:y,pluginType:y?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):s})}));var A=z.openEb;z=z.pluginType;var B=r[0];B=d("MessagingLoggingUtils").convertI64ToAttachmentType(B.attachmentType);var C=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(r,o),D=!0;for(var E=0;E<C.length;E++)if(!p||!u||E===0&&p&&!q){var F=C[E],G=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(c("LSFactory")(l),{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray(F.map(d("LSShape").ofRecord)),ephemeral_duration_in_sec:a,external_attachment_url:void 0,initiating_source:n,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:z,reply_source_id:m==null?void 0:m.messageId,reply_source_type:m!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:m!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:w}),senderId:g,threadKey:f.threadKey,threadType:f.threadType}));G=G[0];E===0&&(v(G),x.addAnnotationBoolean("is_instamadillo_ttlc",y&&A===!0),d("sendToSentQPLLogger").addSendToSentAnnotations(t,{bool:{is_instamadillo_ttlc:y&&A===!0}}));yield l.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:n,markThreadRead:!1,messageId:void 0,offlineThreadingId:G,openEb:A,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(k||(k=d("I64"))).of_string(G),threadAttributionSource:w,threadKey:f.threadKey});e==null?void 0:e({TAG:2,numberOfAttachments:F.length,offlineThreadingId:G});if(z!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(z)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield c("issueSendInstamadilloMediaMessage")(l,F,G);else{var H=(yield c("issueLSMediaSendJobs")(l,f.threadKey,G,F,r));D=D&&H.sentWithAllFilesUploaded}d("MWPSendMessageLogger").log(i,f.threadKey,f.threadType,g,G,F.map(function(a){return a.attachment_fbid}),w,B,m!=null,z,y,a)}H=(k||(k=d("I64"))).to_string(f.threadKey);G=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[H,null]:[null,H];var I=G[0],J=G[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:D?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:J,thread_fbid:I}})});return function(a,b){return i.apply(this,arguments)}}(),[m,o,f,a,n,g,e])}g["default"]=a}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.tables.attachments).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,b,c,d,e,f,g,h,i,k,l){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,j,k,l,m,n,o,p,q){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:m.attachment_type,inMessageIndex:(h||(h=d("I64"))).zero,isSecure:!1,offlineAttachmentId:k,offlineThreadingId:l,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=function(a,g){if(g==null||g.length===0)return;var n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingletonLazyWrapper")());return a.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(h||(h=d("I64"))).of_string(g),offlineAttachmentId:k});yield d("MWPOpenComposerUtils").resumeSendJob(b,l,j);i(m.playable_url,g,a,e)});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":99")});return function(){return a.apply(this,arguments)}}();c("promiseDone")(n(),function(){p==null?void 0:p(a)})};var r=function(a,b){q==null?void 0:q((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)};yield d("MWPComposerMediaUploadUtil").startUpload(o,void 0,a,r,!0,[n.file],[k],void 0,void 0,n.waveformData,void 0,h.to_string(g))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","Promise","asyncToGeneratorRuntime","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function a(a){var e=a.ephemeralDurationInSec,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,i=a.onUploadStart,n=a.onUploadSuccess,o=a.sendMessageLogger,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,l){var v=l.dataTraceId,w=l.pluginType,x=l.s2sInstanceKey,y=l.setupS2SLogging,z=l.source,A=l.traceSendMessageAPI,B=l.transaction;l=l.voiceClip;var C=c("LSFactory")(B),D=d("OfflineThreadingId").createOfflineThreadingID(),E=d("MWPComposerMediaUploadUtil").getAudioAttachment(D,l.file,l.duration,l.waveformData);yield m(B,v,(k||(k=d("I64"))).one,2);var F=(yield B.threads.get(q)),G=d("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(F);F=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(B,t,function(){return(h||(h=b("Promise"))).resolve({openEb:G,pluginType:G?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):w})}));var H=F.openEb;F=F.pluginType;C=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(C,{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray([d("LSShape").ofRecord(E)]),ephemeral_duration_in_sec:e,external_attachment_url:void 0,initiating_source:u,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:F,reply_source_id:t==null?void 0:t.messageId,reply_source_type:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:z}),senderId:s,threadKey:q,threadType:r}));C=C[0];y(C);A.addAnnotationBoolean("is_instamadillo_ttlc",G&&H===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(x,{bool:{is_instamadillo_ttlc:G&&H===!0}});yield B.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:u,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,openEb:H,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:k.of_string(C),threadAttributionSource:z,threadKey:q});f!=null&&f({TAG:1,offlineThreadingId:C});F!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(F)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield c("issueSendInstamadilloMediaMessage")(B,[E],C):yield c("issueLSAudioMediaSendJob")(B,q,s,v,D,C,E,l,i,n,g);o(a,{actor:s,attachmentFbids:[E.attachment_fbid],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(E.attachment_type),hasReply:t!=null,isInstamadilloTTLC:H,key:q,offlineThreadingId:C,pluginType:F,source:z,type:r})});return function(b,c){return a.apply(this,arguments)}}(),[q,e,u,t,s,r,p,f,o,i,n,g])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,i=a.skipUrlPreviewGen;a=a.thread;var j=d("Int64Hooks").useCallbackInt64(function(a,c){var e=c.actor,f=c.attachmentFbids,g=c.attachmentType,h=c.hasReply,i=c.isInstamadilloTTLC,j=c.key,k=c.offlineThreadingId,l=c.pluginType,m=c.source;c=c.type;e!=null&&d("MWPSendMessageLogger").log(a,j,c,e,k,f,m,g,h,l,i,b)},[b]);return c("useMWV2SendOpenVoiceClipImplShared")({ephemeralDurationInSec:b,onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,sendMessageLogger:j,skipUrlPreviewGen:i,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","gkx","hasDefaultThreadOneToOneCapability","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a){var e=a.disableMarkRead,g=a.ephemeralDurationInSec,h=a.onOptimisticMessageCreation,l=a.onUploadFailure,m=a.onUploadStart,n=a.onUploadSuccess,o=a.pluginType,p=a.skipUrlPreviewGen,q=a.thread,r=c("useAsyncReStore")();a=k(d("MWPReplyContext.react").MWPReplyContext);var s=a.reply;a=c("useLSMessagingInitiatingSource")();var t=c("useMWLSDefaultThreadSource")(),u=c("useMWV2SendOpenVoiceClip")({ephemeralDurationInSec:g,onOptimisticMessageCreation:h,onUploadFailure:l,onUploadStart:m,onUploadSuccess:n,skipUrlPreviewGen:p,thread:q}),v=c("useMWV2SendOpenStagedMedia")(g,h,q),w=c("useMWV2SendOpenMessageImpl")({disableMarkRead:(l=e)!=null?l:!1,ephemeralDurationInSec:g,onOptimisticMessageCreation:h,skipUrlPreviewGen:p,thread:q}),x=d("LSMessagingThreadTypeUtil").isMessageRequest(q);m=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var y=m.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,k,l,m,n,p,z,A,B,C,D,E,F,G,H,I){A===void 0&&(A=!1);B===void 0&&(B=!1);var J=!1;y==null?void 0:y(!0);function K(a){C.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(D,a)}var L=t(q.threadKey),M=c("LSGenerateTraceId")(),N={contents:1};E=q.eventStartTimestampMs!=null;G=q.threadType;var O=(yield r),P=c("MWV2SetupS2SLoggingShared")({db:O,isCommunityEvent:E,isMessageRequest:x,s2sInstanceKey:D,source:(i||(i=d("LSIntEnum"))).unwrapIntEnum(L),threadType:G,traceSendMessageAPI:C});if(c("gkx")("24121")){H=(yield c("hasDefaultThreadOneToOneCapability")(q.threadKey,O));H&&(K("invalid_send_to_default_e2ee"),d("sendToSentQPLLogger").addSendToSentAnnotations(D,{string:{invalid_send_to_default_e2ee_attribution:(j||(j=d("I64"))).to_string(L)}}))}E=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(O.tables.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,q.threadKey)})));var Q=d("MWSharedMsgLogUtils").getMessageTypeParams({externalAttachmentUrl:l,hotEmojiSize:h,mediaStagings:E,messageText:a,reply:s,stickerId:g,threadType:q.threadType,voiceClip:n}),R=(yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(q,Q,i.unwrapIntEnum(L))),S=(yield d("MultipleTabsLogger").hasMultipleTabs());return O.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(C,Q,q);d("sendToSentQPLLogger").addSendToSentAnnotations(D,R);if(n!=null){(A===!1||B===!0)&&(yield u(O,{dataTraceId:M,pluginType:o,s2sInstanceKey:D,setupS2SLogging:P,source:L,traceSendMessageAPI:C,transaction:b,voiceClip:n}));return}var c=Q.hasGif,f=Q.hasHotEmoji,i=Q.hasSticker,r=Q.hasText;i||f?N.contents=4:c&&(N.contents=6);var s=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;K("create_optimistic_message_start");if(r||i||f||c){J=!0;if(A===!1||B===!0){yield w(O,{afterSend:z,attributionAppId:k,dataclassParams:I,dataTraceId:M,externalAttachmentUrl:l,hotEmojiSize:h,logSendPoint:K,mentionData:s,messageText:a,messageTypeParams:Q,multitabEnv:S,optimisticAttachmentPreview:m,platformToken:p,pluginType:o,profileRanges:e,richTextFormatType:F,s2sInstanceKey:D,setupS2SLogging:P,source:L,stickerID:g,traceSendMessageAPI:C,transaction:b});if(A===!0)return}}else z!=null&&(yield z(b));!i&&!c&&!f&&(yield v(O,{isFirstMessage:B,isFirstMessageText:J,mediaStagings:yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,q.threadKey)})),pluginType:o,s2sInstanceKey:D,sendFirstMessageSeparately:A,setupS2SLogging:P,source:L,traceSendMessageAPI:C,transaction:b}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":250")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return a.apply(this,arguments)}}(),[y,t,q,r,a,x,s,u,w,v,o])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.useMemo;function a(a){var e=a.afterSendMessage,f=a.checkWAStorageForLogging,g=a.disableMarkRead,h=a.ephemeralDurationInSec,m=a.isIGDW,n=a.onOptimisticMessageCreation,o=a.onUploadFailure,p=a.onUploadStart,q=a.onUploadSuccess,r=a.pluginType,s=a.skipUrlPreviewGen,t=a.thread,u=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var v=a.clearReply,w=t.threadSubtype,x=l(function(){return{is_community_event:(t.eventStartTimestampMs!=null).toString(),is_cutover:(!1).toString(),is_secure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(t.threadKey),thread_subtype:w&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(w)?(i||(i=d("I64"))).to_string(w):"",thread_type:i.to_string(t.threadType)}},[t,w]),y=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,x),z=c("useMWV2SendOpenMessage")({disableMarkRead:g,ephemeralDurationInSec:h,onOptimisticMessageCreation:n,onUploadFailure:o,onUploadStart:p,onUploadSuccess:q,pluginType:r,skipUrlPreviewGen:s,thread:t}),A=c("MessengerWebUXLogger").useInteractionLogger(),B=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=c("getInstamadilloLoggingExtraData")(t);return d("Int64Hooks").useCallbackInt64(function(a,g,h,k,l,n,o,p,q,r,s,w,D,E,F,G,H){s===void 0&&(s=!1);w===void 0&&(w=!1);m===!0&&(A==null?void 0:A({eventName:"send_message",extraData:C,flowInstanceId:B}));var I=d("LSMessagingThreadTypeUtil").isMessageRequest(t);return y(function(m){var y=d("sendToSentQPLLogger").markSendToSentStart(f);d("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:x});c("promiseDone")(z(a,g,h,k,l,n,o,p,q,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;r==null?void 0:r();if(!d("LSMessagingThreadTypeUtil").isOneToOne(t.threadType))return;b=(b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(t.threadKey),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,u)}))))==null?void 0:b[1];if(b==null)return;!(i||(i=d("I64"))).to_float(b.contactViewerRelationship)!==c("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield a.contacts.put(babelHelpers["extends"]({},b,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))});return function(b){return a.apply(this,arguments)}}(),s,w,m,y,void 0,E,F,G,H),function(){e(),v(t.threadKey,!1),I&&d("MessageRequestsLog").logActionConfirmed(t,1)})})},[m,t,y,A,C,B,f,x,z,u,e,v])}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(b){return d[4]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[4]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("is_group_thread",a[1]),d[2].set("is_typing",a[2]),d[2].set("attribution",c.i64.cast([0,0])),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[4],c.i64.cast([0,3]),d[3])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.isGroupThread;d[2]=b.isTyping;return c("LSSendTypingIndicator").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","MWPActor.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))&&!(i||(i=d("I64"))).equal(b,f)){var g;b=(yield (g=d("ReQL")).firstAsync(g.mergeJoin(g.fromTableAscending(a.tables.participants).getKeyRange(b),g.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(i||(i=d("I64"))).equal(b.contactId,f)})));return b!=null}else return!c("mwCMIsAnyCMThread")(e)});return l.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(h){if(!(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(k(b,a.threadKey,a.threadType,e).then(function(e){if(e){g==null?void 0:g({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(b),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:h,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":116")}}))},[a.authorityLevel,a.threadKey,a.threadType,b,e,g])}g["default"]=a}),98);
__d("IGDComposer.react",["DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDComposerEditContainer.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEqualityUtils","IGDInstamadilloUtils","IGDLinkPreviewRoot.react","IGDSupportedFileTypes","LSIntEnum","LSPendingTasksPluginType","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-forget-runtime","useIGDMediaMangerUploadFailedToast","useMAWEditMessageData","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;b.useCallback;b.useContext;b.useMemo;var l=b.c;function m(a){var b=l(34),e=a.onSendMessage;a=a.thread;var f=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,n);f=f.reply;var g=c("useMAWEditMessageData")(),h=c("useIGDMediaMangerUploadFailedToast")(),i;b[0]!==h||b[1]!==a?(i={showUploadFailureToast:h,thread:a},b[0]=h,b[1]=a,b[2]=i):i=b[2];h=d("MWMediaManager").useMediaManager(i);i=h.handleFileSelect;var j=c("useOnTypingStateChanged")(a),m=a.threadSubtype,o;b[3]!==m?(o=d("IGDAiAgentsUtils").isAiThread(m),b[3]=m,b[4]=o):o=b[4];m=o;c("useMWV2FileDropzoneRegisterHandler")(i);b[5]!==h.mediaStaging||b[6]!==e||b[7]!==j||b[8]!==a.threadKey?(o={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:h.mediaStaging,onSendMessage:e,onTypingStateChanged:j,threadKey:a.threadKey},b[5]=h.mediaStaging,b[6]=e,b[7]=j,b[8]=a.threadKey,b[9]=o):o=b[9];h=c("useMWPComposerEditor")(o);var p=h.editor;j=h.editorElementRef;o=h.hasStuffToSend;h=h.sendMessage;var q;b[10]!==e||b[11]!==p?(q=function(){for(var b=arguments.length,a=new Array(b),c=0;c<b;c++)a[c]=arguments[c];var d=a;e.apply(void 0,d);p.focus(function(){})},b[10]=e,b[11]=p,b[12]=q):q=b[12];q=q;var r;b[13]!==f||b[14]!==a?(r=f!=null?k.jsx(c("IGDComposerReplyView.react"),{messageId:f.messageId,messageTimestamp:f.timestampMs,thread:a}):null,b[13]=f,b[14]=a,b[15]=r):r=b[15];var s;b[16]!==g||b[17]!==a?(s=g!=null&&k.jsx(c("IGDComposerEditContainer.react"),{editMessageData:g,thread:a}),b[16]=g,b[17]=a,b[18]=s):s=b[18];var t;b[19]!==g||b[20]!==f||b[21]!==p||b[22]!==a||b[23]!==m||b[24]!==j||b[25]!==o||b[26]!==i||b[27]!==q||b[28]!==h?(t=g==null?k.jsx(c("IGDComposerView.react"),{attachmentsSupported:f==null,composerLinkPreview:k.jsx(c("IGDLinkPreviewRoot.react"),{editor:p,thread:a}),editor:p,editorElementRef:j,emojisSupported:!d("PolarisUA").isMobile()&&!m,hasStuffToSend:o,onAttachmentsAdded:i,onSendMessage:q,policyProduct:"messaging_lightswitch",sendMessage:h,supportedFileTypes:d("IGDSupportedFileTypes").getIGDSupportedFileTypes(d("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,b[19]=g,b[20]=f,b[21]=p,b[22]=a,b[23]=m,b[24]=j,b[25]=o,b[26]=i,b[27]=q,b[28]=h,b[29]=t):t=b[29];b[30]!==r||b[31]!==s||b[32]!==t?(g=k.jsxs("div",{children:[r,s,t]}),b[30]=r,b[31]=s,b[32]=t,b[33]=g):g=b[33];return g}function n(a){return[a.reply]}function a(a){var b=l(18),e=a.afterSendMessage;a=a.thread;var f=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("IGDDMModeContextProvider").IGDDMModeContext,o),g=f.dmMode;f=f.lastSetTtlSec;var h;b[0]!==a?(h=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,b[0]=a,b[1]=h):h=b[1];h=h;var n;b[2]!==g||b[3]!==f?(n=g===c("DisappearingMessagesMode").ON&&f!=null?(j||(j=d("I64"))).of_int32(f):void 0,b[2]=g,b[3]=f,b[4]=n):n=b[4];g=p(a,e,h,n);b[5]!==a.authorityLevel||b[6]!==a.capabilities||b[7]!==a.capabilities2||b[8]!==a.capabilities3||b[9]!==a.capabilities4||b[10]!==a.consistentThreadFbid||b[11]!==a.threadKey||b[12]!==a.threadSubtype||b[13]!==a.threadType?(f={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},b[5]=a.authorityLevel,b[6]=a.capabilities,b[7]=a.capabilities2,b[8]=a.capabilities3,b[9]=a.capabilities4,b[10]=a.consistentThreadFbid,b[11]=a.threadKey,b[12]=a.threadSubtype,b[13]=a.threadType,b[14]=f):f=b[14];e=d("useStableValue").useStableValue(f,d("IGDEqualityUtils").shallowEqualI64);b[15]!==g||b[16]!==e?(h=k.jsx(m,{onSendMessage:g,thread:e}),b[15]=g,b[16]=e,b[17]=h):h=b[17];n=h;return n}function o(a){return[a.dmMode,a.lastSetTtlSec]}function p(a,b,d,e){var f=l(5),g;f[0]!==b||f[1]!==e||f[2]!==d||f[3]!==a?(g={afterSendMessage:b,ephemeralDurationInSec:e,isIGDW:!0,pluginType:d,skipUrlPreviewGen:!1,thread:a},f[0]=b,f[1]=e,f[2]=d,f[3]=a,f[4]=g):g=f[4];b=c("useMWV2OnSendOpenMessage")(g);return c("useStableCallback")(b)}g["default"]=a}),98);
__d("IGDDisappearingMessagesBlockedComposer.react",["fbt","MWXComposerBanner.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7),d=a.extraLoggingData;a=a.loggingEventName;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__HYBQYSVaqer__JHASH__"),b[0]=e):e=b[0];e=e;var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__Iv_ZxhLNItG__JHASH__"),b[1]=f):f=b[1];f=f;var g;b[2]!==a||b[3]!==d?(g={eventName:a,extraData:d},b[2]=a,b[3]=d,b[4]=g):g=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(g);b[5]!==a?(d=k.jsx(c("MWXComposerBanner.react"),{bodyText:f,headerText:e,ref:a}),b[5]=a,b[6]=d):d=b[6];return d}g["default"]=a}),226);
__d("IGDInviteModelUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("1244")===!0};b=function(){return c("qex")._("1245")===!0};g.shouldUseInviteModelWithoutExposure=a;g.shouldUseInviteModelWithExposure=b}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).c,m=k;function a(a){var b=l(12),e=a.loggingEventName,g=a.threadKey,k=(i||(i=c("useReStore")))(),n=d("MWPActor.react").useActor();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,n)}),d("ReQL").fromTableAscending(k.tables.contacts))},[k.tables.contacts,k.tables.participants,g,n],f.id+":35"))!=null?a:[null,null];a[0];a=a[1];var o;b[0]!==e?(o={eventName:e},b[0]=e,b[1]=o):o=b[1];e=c("MessengerWebUXLogger").useImpressionLoggerRef(o);if(a==null){c("FBLogger")("igd_web_on_msgr").mustfix("Contact data is null in IGDReachableInviteBanner");return null}if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){o=(o=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null?void 0:(o=o.setProtocol("https"))==null?void 0:o.toString();b[2]=o}else o=b[2];o=o;var p;b[3]!==a.name||b[4]!==a.secondaryName?(p=h._("__JHASH__VAB8HOi8pL6__JHASH__",[h._param("name",a.name),h._param("secondaryName",a.secondaryName)]),b[3]=a.name,b[4]=a.secondaryName,b[5]=p):p=b[5];a=p;b[6]!==o?(p=h._("__JHASH__pAAhQpP4V9i__JHASH__",[h._param("link",m.jsx(c("Link.react"),{href:o,children:"Community Guidelines"}))]),b[6]=o,b[7]=p):p=b[7];o=p;b[8]!==o||b[9]!==a||b[10]!==e?(p=m.jsx(c("MWXComposerBanner.react"),{bodyText:o,headerText:a,ref:e}),b[8]=o,b[9]=a,b[10]=e,b[11]=p):p=b[11];return p}g["default"]=a}),226);
__d("IGDTLCBlockedComposer.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWXComposerBanner.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(8),e=a.extraLoggingData;a=a.loggingEventName;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__WSxsd-683e3__JHASH__"),b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__Iv_ZxhLNItG__JHASH__"),b[1]=g):g=b[1];g=g;var i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;b[2]!==a||b[3]!==e||b[4]!==i?(l={eventName:a,extraData:e,flowInstanceId:i},b[2]=a,b[3]=e,b[4]=i,b[5]=l):l=b[5];a=c("MessengerWebUXLogger").useImpressionLoggerRef(l);b[6]!==a?(e=k.jsx(c("MWXComposerBanner.react"),{bodyText:g,headerText:f,ref:a}),b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),226);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11,REACHABLE_INVITE_MODEL_TEXT_ONLY:12});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("MWPartnershipThreadUnavailableComposer.react",["fbt","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__XeF0QDXHg_1__JHASH__");function a(){return j.jsx(c("MWXComposerBanner.react"),{bodyText:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno",children:j.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c,k=!1;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];i(l,b)}function l(){if(k)return;k=!0;c("URLMatcher").compilePermissiveHostPathMatcher()}g["default"]=a}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","IGDComposer.react","IGDDisappearingMessagesBlockedComposer.react","IGDInstamadilloUtils","IGDInviteModelUtils","IGDReachableInviteBanner.react","IGDTLCBlockedComposer.react","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWCMThreadTypes.react","MWPActor.react","MWPartnershipThreadUnavailableComposer.react","MWV2ErrorComposer.react","ReQL","ReQLSuspense","RecoverableViolation.react","ThreadStatus","WebUXLoggingSurfaceContextProvider","getInstamadilloLoggingExtraData","isFeatureLimitEnabled","lazyLoadComponent","qex","react","useIsReadOnlyFeatureLimited","usePrecompileURLMatcher","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).c,m=i,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposer.react").__setRef("IGDComposerCommon.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("IGDComposerCommon.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("IGDComposerCommon.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDComposerRestricted.react").__setRef("IGDComposerCommon.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockedUserComposer.react").__setRef("IGDComposerCommon.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDChannelEndedComposer.react").__setRef("IGDComposerCommon.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function v(a){var b=l(3);a=a.height;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=m.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function w(a){var b=l(9),e=a.afterSendMessage,f=a.showReachableInviteBanner;a=a.thread;var g;b[0]!==f||b[1]!==a?(g=f&&m.jsx(c("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:a.threadKey}),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==a?(f=m.jsx(c("IGDComposer.react"),{afterSendMessage:e,thread:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];b[6]!==g||b[7]!==f?(e=m.jsx(c("CometErrorBoundary.react"),{fallback:x,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[g,f]})})}),b[6]=g,b[7]=f,b[8]=e):e=b[8];return e}function x(){return m.jsx(c("MWV2ErrorComposer.react"),{})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=l(8),e=a.afterSendMessage;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed"||a.cannotReplyReason==="read_only",g=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),h=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),i=a.cannotReplyReason==="partnership_thread_disabled_for_creator";if(f){b[0]!==a?(f=m.jsx(o,{thread:a}),b[0]=a,b[1]=f):f=b[1];return f}else if(h&&g){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(t,{}),b[2]=f):f=b[2];return f}else if(i){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(c("MWPartnershipThreadUnavailableComposer.react"),{}),b[3]=h):h=b[3];return h}else if(a.cannotReplyReason!=null){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(p,{}),b[4]=g):g=b[4];return g}b[5]!==e||b[6]!==a?(f=m.jsx(w,{afterSendMessage:e,showReachableInviteBanner:!1,thread:a}),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}function z(a){var b=l(27),e=a.afterSendMessage,f=a.otherUser;a=a.thread;var g=!(j||(j=d("I64"))).equal(f.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),h=d("LSContactBitOffset").has(0,f),i=d("LSContactBitOffset").has(1,f);h=!h||!i;i=f.blockedSinceTimestampMs!=null?!1:h;h=f.contactReachabilityStatusType;var n;b[0]!==h?(n=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER),h):!1,b[0]=h,b[1]=n):n=b[1];n=n;var o=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK),h):!1;h=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE),h)||n||o:!0;var p=d("LSContactBitOffset").has(66,f),t=d("IGDInstamadilloUtils").isInstamadilloCutover(a),x=d("IGDInstamadilloUtils").isDMHardblockedEnabled(a);t=t&&c("qex")._("426")===!0;var y;b[2]!==a?(y=c("getInstamadilloLoggingExtraData")(a),b[2]=a,b[3]=y):y=b[3];y=y;if(h)if(g){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(v,{height:189}),b[4]=h):h=b[4];b[5]!==f||b[6]!==a?(g=m.jsx(c("CometPlaceholder.react"),{fallback:h,children:m.jsx(s,{contact:f,thread:a})}),b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}else if(p){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(v,{height:128}),b[8]=h):h=b[8];b[9]!==f||b[10]!==a?(g=m.jsx(c("CometPlaceholder.react"),{fallback:h,children:m.jsx(q,{contact:f,thread:a})}),b[9]=f,b[10]=a,b[11]=g):g=b[11];return g}else if(i){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p=m.jsx(r,{}),b[12]=p):p=b[12];return p}else if(t){b[13]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(v,{height:128}),b[13]=h):h=b[13];b[14]!==y?(f=m.jsx(c("CometPlaceholder.react"),{fallback:h,children:m.jsx(c("IGDTLCBlockedComposer.react"),{extraLoggingData:y,loggingEventName:"igd_fallback_thread_disabled"})}),b[14]=y,b[15]=f):f=b[15];return f}else if(x){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(v,{height:128}),b[16]=g):g=b[16];b[17]!==y?(i=m.jsx(c("CometPlaceholder.react"),{fallback:g,children:m.jsx(c("IGDDisappearingMessagesBlockedComposer.react"),{extraLoggingData:y,loggingEventName:"igd_fallback_thread_disabled"})}),b[17]=y,b[18]=i):i=b[18];return i}else if(o&&d("IGDInviteModelUtils").shouldUseInviteModelWithExposure()){b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=m.jsx(u,{loggingEventName:"igd_invite_model_invite_sent"}),b[19]=p):p=b[19];return p}else{b[20]!==n?(t=n&&d("IGDInviteModelUtils").shouldUseInviteModelWithoutExposure(),b[20]=n,b[21]=t):t=b[21];b[22]!==e||b[23]!==t||b[24]!==a?(h=m.jsx(w,{afterSendMessage:e,showReachableInviteBanner:t,thread:a}),b[22]=e,b[23]=t,b[24]=a,b[25]=h):h=b[25];return h}else{b[26]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(r,{}),b[26]=f):f=b[26];return f}}function A(a){var b=l(34),e=a.afterSendMessage,g=a.hasActivity,i=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();b[0]!==o.tables.thread_nullstate||b[1]!==i.threadKey?(a=function(){return d("ReQL").fromTableAscending(o.tables.thread_nullstate).getKeyRange(i.threadKey)},b[0]=o.tables.thread_nullstate,b[1]=i.threadKey,b[2]=a):a=b[2];var q;b[3]!==o||b[4]!==i.threadKey?(q=[o,i.threadKey],b[3]=o,b[4]=i.threadKey,b[5]=q):q=b[5];a=d("ReQLSuspense").useFirst(a,q,f.id+":419");b[6]!==a?(q=a!=null?(j||(j=d("I64"))).equal(a.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED)):!1,b[6]=a,b[7]=q):q=b[7];a=q;q=g;b[8]!==o.tables.participants||b[9]!==o.tables.contacts||b[10]!==i.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(o.tables.participants,[]).getKeyRange(i.threadKey),d("ReQL").fromTableAscending(o.tables.contacts,["id","name","secondaryName","blockedByViewerStatus","capabilities","capabilities2","blockedSinceTimestampMs","contactTypeExact","contactReachabilityStatusType"]))},b[8]=o.tables.participants,b[9]=o.tables.contacts,b[10]=i.threadKey,b[11]=g):g=b[11];var r;b[12]!==o||b[13]!==i.threadKey?(r=[o,i.threadKey],b[12]=o,b[13]=i.threadKey,b[14]=r):r=b[14];var s=d("ReQLSuspense").useArray(g,r,f.id+":436");b[15]!==s||b[16]!==p?(g=function(){if(s.length===1){var a=s[0];a=a[1].id;return(j||(j=d("I64"))).equal(p,a)}return!1},r=[p,s],b[15]=s,b[16]=p,b[17]=g,b[18]=r):(g=b[17],r=b[18]);var t=d("Int64Hooks").useMemoInt64(g,r);b[19]!==i.threadType||b[20]!==s||b[21]!==t||b[22]!==p?(g=function(){if(!d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType))return;if(s.length===1){var a=s[0];if(t)return a}return s.find(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,p)})},r=[p,t,s,i.threadType],b[19]=i.threadType,b[20]=s,b[21]=t,b[22]=p,b[23]=g,b[24]=r):(g=b[23],r=b[24]);g=d("Int64Hooks").useMemoInt64(g,r);r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType);r=c("useIsReadOnlyFeatureLimited")()&&(!r||c("isFeatureLimitEnabled")());var u;b[25]!==a||b[26]!==q||b[27]!==r||b[28]!==i||b[29]!==g||b[30]!==e?(u=a&&!q?null:r?m.jsx(n,{}):d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?g!=null?m.jsx(z,{afterSendMessage:e,otherUser:g[1],thread:i}):m.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):m.jsx(y,{afterSendMessage:e,thread:i}),b[25]=a,b[26]=q,b[27]=r,b[28]=i,b[29]=g,b[30]=e,b[31]=u):u=b[31];b[32]!==u?(a=m.jsx(m.Fragment,{children:u}),b[32]=u,b[33]=a):a=b[33];return a}function a(a){var b=l(10),e=a.afterSendMessage,g=a.thread,i=(h||(h=c("useReStore")))();c("usePrecompileURLMatcher")();b[0]!==i.tables.threads||b[1]!==g.threadKey?(a=function(){return d("ReQL").fromTableAscending(i.tables.threads,["lastActivityTimestampMs"]).getKeyRange(g.threadKey).map(function(a){return a.lastActivityTimestampMs})},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g.threadKey?(k=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":546");k=a!=null?!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero):!0;b[6]!==e||b[7]!==k||b[8]!==g?(a=m.jsx(c("CometErrorBoundary.react"),{fallback:B,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(A,{afterSendMessage:e,hasActivity:k,thread:g})})}),b[6]=e,b[7]=k,b[8]=g,b[9]=a):a=b[9];return a}function B(){return m.jsx(c("MWV2ErrorComposer.react"),{})}B.displayName=B.name+" [from "+f.id+"]";g.IGDComposerCommonPlaceholder=v;g.IGDComposerCommon=a}),98);
__d("IGDDeleteOpenThreadComposerBannerButton.react",["FBLogger","IGDConfirmDeleteOpenMessageRequestLogger","IGDDeleteThreadComposerBannerButton.react","IGDOpenDeleteOpenMessageRequestDialogLogger","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MWLSThread","MWPBumpEntityKey","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","useAsyncReStore","useIGDDeleteOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var e=i(25),f=a.thread;e[0]!==f?(a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f),e[0]=f,e[1]=a):a=e[1];var g=a,h=c("useIGDDeleteOpenThread")(f.threadKey),k=c("useAsyncReStore")(),l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[2]!==f?(a=c("getInstamadilloLoggingExtraData")(f),e[2]=f,e[3]=a):a=e[3];var n=a,o;e[4]!==k||e[5]!==f.threadKey||e[6]!==l||e[7]!==n||e[8]!==g||e[9]!==m?(a=function(){c("promiseDone")(k.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","delete_thread");a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDOpenDeleteOpenMessageRequestDialogLogger").logOpenDeleteOpenMessageRequestDialog(a):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log");l==null?void 0:l({eventName:"thread_delete_attempt",extraData:babelHelpers["extends"]({},n,{is_request:String(g)}),flowInstanceId:m})});return function(b){return a.apply(this,arguments)}}()))},o=[k,f.threadKey,l,n,g,m],e[4]=k,e[5]=f.threadKey,e[6]=l,e[7]=n,e[8]=g,e[9]=m,e[10]=a,e[11]=o):(a=e[10],o=e[11]);a=d("Int64Hooks").useCallbackInt64(a,o);var p;e[12]!==k||e[13]!==h||e[14]!==f.threadKey||e[15]!==l||e[16]!==n||e[17]!==g||e[18]!==m?(o=function(){c("promiseDone")(k.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h();a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDConfirmDeleteOpenMessageRequestLogger").logConfirmDeleteOpenMessageRequest(a):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}())),l==null?void 0:l({eventName:"thread_delete_confirmed",extraData:babelHelpers["extends"]({},n,{is_request:String(g)}),flowInstanceId:m})},p=[k,h,m,n,g,l,f.threadKey],e[12]=k,e[13]=h,e[14]=f.threadKey,e[15]=l,e[16]=n,e[17]=g,e[18]=m,e[19]=o,e[20]=p):(o=e[19],p=e[20]);o=d("Int64Hooks").useCallbackInt64(o,p);e[21]!==a||e[22]!==o||e[23]!==f?(p=j.jsx(c("IGDDeleteThreadComposerBannerButton.react"),{onClick:a,onDelete:o,thread:f}),e[21]=a,e[22]=o,e[23]=f,e[24]=p):p=e[24];return p}g["default"]=a}),98);
__d("IGDGoToProfileMessageRequestComposerBannerButton.react",["IGDSButton.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.link;var e;b[0]!==a?(e=j.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,href:a,label:d("PolarisDirectStrings").RESTRICTED_THREAD_GO_TO_PROFILE_CTA,role:"link",variant:"secondary_link"}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","LSContactTypeExact","LSIntEnum","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.blockedByViewerStatus,e=a.contactTypeExact,f=a.id;a=a.secondaryName;if((h||(h=d("I64"))).to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)))return;b=d("MWLSContactTypeExactUtils").isIgContact(e);return a!=null&&b?"https://www.instagram.com/"+a:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(h||(h=d("I64"))).to_string(f)}).toString()}g["default"]=a}),98);
__d("IGDComposerRestricted.react",["fbt","IGDBlockUserComposerBannerButton.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDGoToProfileMessageRequestComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDSText.react","PolarisDirectStrings","getLSContactHref","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:d("PolarisDirectStrings").RESTRICTED_THREAD_ACTION_BODY}),a[0]=b):b=a[0];return b}function a(a){var b=j(19),d=a.contact;a=a.thread;var e=d.name,f;b[0]!==e?(f=e!==""?h._("__JHASH__e1WPpZR1NHV__JHASH__",[h._param("user_name",e)]):h._("__JHASH__QgLNzcvbkaC__JHASH__"),b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==d?(f=c("getLSContactHref")(d),b[2]=d,b[3]=f):f=b[3];f=f;var g;b[4]!==f?(g=f!=null?k.jsx(c("IGDGoToProfileMessageRequestComposerBannerButton.react"),{link:f}):null,b[4]=f,b[5]=g):g=b[5];b[6]!==d||b[7]!==a?(f=k.jsx(c("IGDBlockUserComposerBannerButton.react"),{contact:d,thread:a}),b[6]=d,b[7]=a,b[8]=f):f=b[8];b[9]!==a?(d=k.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{thread:a}),b[9]=a,b[10]=d):d=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(l,{}),b[11]=a):a=b[11];var i;b[12]!==e?(i=k.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",weight:"normal",children:e}),b[12]=e,b[13]=i):i=b[13];b[14]!==g||b[15]!==f||b[16]!==d||b[17]!==i?(e=k.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:g,messageRequestBlockLeave:f,messageRequestDelete:d,messageRequestFootnote:a,messageRequestHeader:i}),b[14]=g,b[15]=f,b[16]=d,b[17]=i,b[18]=e):e=b[18];return e}g["default"]=a}),226);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__vs4VWaH-KyB__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":54");return m.jsx(n,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDConnectionStatusCard.react",["CometPlaceholder.react","IGDSText.react","MWPChatConnectionStatusCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){return j.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",children:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:k})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("IGDDefaultNullState.react",["fbt","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDEntryPoints","IGDSButton.react","IGDSDialogPlaceholder.react","IGDThreadListNewMessageDialogEntrypointProvider.react","JSResourceForInteraction","react","useIGDSLazyDialog","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function l(){var a=k(9),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDDefaultNullState.react"),a[0]=b):b=a[0];b=b;var e=c("useOpenOrCreateThreadFromIGDCandidate")(),f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__k5xqarxwV_N__JHASH__"),a[1]=f):f=a[1];f=f;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__vR4AzoRQQ7a__JHASH__"),a[2]=g):g=a[2];g=g;b=c("useIGDSLazyDialog")(b,m);var i=b[0];a[3]!==i||a[4]!==e?(b=function(){var a=c("uuidv4")();i({flowInstanceId:a,onSubmit:e})},a[3]=i,a[4]=e,a[5]=b):b=a[5];b=b;var l=d("IGDEntryPoints").IGDEntryPoints.PRIMARY_FOLDER_NULL_STATE,n;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._("__JHASH__KWQ3qsJPYJB__JHASH__"),a[6]=n):n=a[6];a[7]!==b?(g=j.jsx(c("IGDBaseNullState.react"),{descriptionText:g,titleText:f,children:j.jsx(d("IGDThreadListNewMessageDialogEntrypointProvider.react").IGDThreadListNewMessageDialogEntrypointProvider,{entrypoint:l,children:j.jsx(c("IGDSButton.react"),{display:"block",label:n,onClick:b})})}),a[7]=b,a[8]=g):g=a[8];return g}function m(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}m.displayName=m.name+" [from "+f.id+"]";function a(){var a=k(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(l,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("IGDEBRestoreMessageById",["FBLogger","IGDEBMessageProtobuf","IGDEBRestoreLogging","IGDEBRestoreUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=c("qex")._("670");if(!Boolean(g))return;yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(yield a.e2ee_ebMessageRestoreTasks.get(e));if(f==null)return;b=(b=f.backupPayloads)==null?void 0:b.toplevelBackupPayload.payload;b=b!=null?d("IGDEBRestoreUtils").isMessageSupportedForEBRestore(b):!0;if(!b)return;b=(yield a.e2ee_igMessageAuxiliaryInfo.get(e));b=b==null?void 0:b.openEb;if(!Boolean(b)){var g=(yield d("IGDEBMessageProtobuf").isEBClientSetup(a));if(!g)return}if(f.restorable)return;try{g=d("IGDEBRestoreLogging").IGDEBRestoreLogging(e,!0);g.annotate({bool:{onDemandRestore:!0,openEb:Boolean(b)},"int":{tryCount:f.tryCount}});f.backupPayloads&&g.annotateMessagePayloads(f.backupPayloads)}catch(a){c("FBLogger")("igd_web_on_msgr").catching(a).mustfix("restore logging failed to start before on-demand restore")}yield a.e2ee_ebMessageRestoreTasks.put(babelHelpers["extends"]({},f,{restorable:!0}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":30")});return h.apply(this,arguments)}g["default"]=a}),98);
__d("IGDSCirclePlayPanoIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5 13.3-6.8 3.9c-.2.1-.5.2-.8.2s-.4-.1-.6-.2c-.5-.3-.8-.7-.8-1.3V8.1c0-.5.3-1 .8-1.3.5-.3 1-.3 1.5 0l6.8 3.9c.5.3.8.8.8 1.3s-.4 1-.9 1.3z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","I64","LSIntEnum","MWXMessageBubble.react","MWXPressable.react","MessagingAttachmentType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=h._("__JHASH__wwWALtSTrAJ__JHASH__"),n=h._("__JHASH__6AjB8pge-ih__JHASH__"),o=h._("__JHASH__4zpYeMebeaQ__JHASH__"),p=h._("__JHASH__FLEPIyrCx7D__JHASH__"),q=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),r=h._("__JHASH__TfJs-614iIk__JHASH__"),s={pill:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",$$css:!0}};function t(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children;a=a.disabled;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:(j||(j=d("I64"))).to_string(e.threadKey)});return l.jsx(c("MWXPressable.react"),{"aria-label":b,children:g,disabled:a,linkProps:{url:f},overlayRadius:"inherit",testid:void 0,xstyle:s.pill})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.buildURL,f=a.connectBottom,g=a.connectTop,h=a.disabled,i=a.outgoing;a=a.renderContent;var j=null;switch((k||(k=d("LSIntEnum"))).toNumber(b.attachmentType)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:j=h?p:m;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:j=h?q:n;break;default:j=h?r:o;break}return l.jsx(t,{ariaLabel:j,attachment:b,buildURL:e,disabled:h,children:l.jsx(c("MWXMessageBubble.react"),{align:i?"right":"left",color:"incoming",connectBottom:f,connectTop:g,children:a(j)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("XPolarisDirectEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/direct/ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("IGDEphemeralButton.react",["IGDSBox.react","IGDSCirclePlayPanoIcon.react","IGDSText.react","LSIntEnum","MWPChatEphemeralButton.react","RavenMessagingState","XPolarisDirectEphemeralMediaControllerRouteBuilder","isRavenAttachmentViewable","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a){var b=j(12),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.disabled;a=a.outgoing;if(e.ephemeralMediaState==null)return null;var l;b[0]!==e.ephemeralMediaState?(l=(i||(i=d("LSIntEnum"))).unwrapIntEnum(e.ephemeralMediaState),b[0]=e.ephemeralMediaState,b[1]=l):l=b[1];var m=l,n=!c("isRavenAttachmentViewable")(e)||a||h===!0;b[2]!==n||b[3]!==m?(l=function(a){var b="ig-primary-text";n?b="ig-stroke":m===c("RavenMessagingState").UNSEEN&&(b="ig-primary-button");return k.jsxs(c("IGDSBox.react"),{direction:"row",children:[k.jsx(c("IGDSBox.react"),{marginEnd:2,children:k.jsx(c("IGDSCirclePlayPanoIcon.react"),{alt:a,color:b,size:16})}),k.jsx(c("IGDSBox.react"),{justifyContent:"center",children:k.jsx(c("IGDSText.react"),{color:n?"tertiaryText":"primaryText",size:"body",weight:"semibold",children:a})})]})},b[2]=n,b[3]=m,b[4]=l):l=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==n||b[9]!==a||b[10]!==l?(h=k.jsx(c("MWPChatEphemeralButton.react"),{attachment:e,buildURL:c("XPolarisDirectEphemeralMediaControllerRouteBuilder").buildURL,connectBottom:f,connectTop:g,disabled:n,outgoing:a,renderContent:l}),b[5]=e,b[6]=f,b[7]=g,b[8]=n,b[9]=a,b[10]=l,b[11]=h):h=b[11];return h}g["default"]=a}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("mwpMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(o(r))return h._("__JHASH__INRUrq18hhv__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(r!=null)if(e!=null)if(n(r))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(o(r))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else if(n(r))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(o(r))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),226);
__d("IGDForwardedContent.react",["IGDSText.react","MWPForwardedContent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={container:{paddingTop:"x889kno",$$css:!0},textIncoming:{paddingStart:"x1ye3gou",$$css:!0},textOutgoing:{paddingEnd:"xsyo7zv",$$css:!0}};function a(a){var b=j(7),e=a.message;a=a.outgoing;e=d("MWPForwardedContent").useTitle(e,a);a=a?l.textOutgoing:l.textIncoming;var f;b[0]!==a?(f=(h||(h=c("stylex")))(l.container,a),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==f||b[5]!==a?(e=k.jsx("div",{className:f,children:a}),b[4]=f,b[5]=a,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return[];a=d("PolarisIGHashtagRegex").matchHashtags(a);return a.map(function(a){var b=a.endIndex,c=a.hashtag;a=a.startIndex;return{entity:{__typename:"Hashtag",uri:d("PolarisLinkBuilder").buildTagLink(c)},length:b-a,offset:a}})}g.getHashtagRanges=a}),98);
__d("IGDHiddenMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSEyeOffOutlineIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__gRXjMzOh6Kl__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__7D5_k8OTQ2Q__JHASH__"),a[1]=d):d=a[1];d=d;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("IGDBaseNullState.react"),{descriptionText:d,icon:k.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x1qim8zg x13oubkp x1g8yoln",children:k.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:b}),a[2]=d):d=a[2];return d}g["default"]=a}),226);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSHeartPanoFilledIcon.react"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("IGDInboxAvatarWrapper.react",["IGDAvatar.react","react","useMWPPresenceStatesForThread","useMWPThreadHasActiveUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(4),d=a.isMobile;a=a.thread;var e=c("useMWPPresenceStatesForThread")(a);e=c("useMWPThreadHasActiveUser")(e);d=d?"tiny":"medium";var f;b[0]!==e||b[1]!==d||b[2]!==a?(f=i.jsx(c("IGDAvatar.react"),{isActive:e,size:d,thread:a}),b[0]=e,b[1]=d,b[2]=a,b[3]=f):f=b[3];e=f;return e}g["default"]=a}),98);
__d("IGDSGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M12.54 7c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3ZM8.5 23a1 1 0 0 1-.912-.59l-1.707-3.793a.992.992 0 0 0-.498-.498L1.59 16.412a1 1 0 0 1 0-1.824l3.793-1.707a.994.994 0 0 0 .498-.498L7.588 8.59a1 1 0 0 1 1.824 0l1.707 3.793a.99.99 0 0 0 .498.498l3.793 1.707a1 1 0 0 1 0 1.824l-3.793 1.707a.988.988 0 0 0-.498.498L9.412 22.41A1 1 0 0 1 8.5 23Zm13.344-9.572a1.15 1.15 0 0 1-.34-.052l-6.192-1.921a1.156 1.156 0 0 1-.441-1.95l4.76-4.402V5.1a1.157 1.157 0 0 1 1.909.594l1.432 6.323c.09.401-.04.824-.342 1.103a1.16 1.16 0 0 1-.786.306Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{marginStart:1,children:k.jsx(c("IGDSGenAiPanoFilled24Icon.react"),{alt:h._("__JHASH__CKs_EskqOFs__JHASH__"),color:"ig-secondary-icon",size:12})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("IGDProfileLinkOrFragment.react",["IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWPThreadCapabilitiesContext","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={threadTextWidth:{display:"xjp7ctv",width:"xeq5yr9",$$css:!0}};function a(a){var b=j(25),e=a.children,g=a.thread,i=(h||(h=c("useReStore")))(),m=g.threadKey;a=g.threadType;var n;b[0]!==i.tables.mi_act_mapping_table||b[1]!==m?(n=function(){return d("ReQL").fromTableAscending(i.tables.mi_act_mapping_table,["jid"]).getKeyRange(m).map(function(a){return a.jid})},b[0]=i.tables.mi_act_mapping_table,b[1]=m,b[2]=n):n=b[2];var o;b[3]!==i||b[4]!==m?(o=[i,m],b[3]=i,b[4]=m,b[5]=o):o=b[5];n=d("ReQLSuspense").useFirst(n,o,f.id+":44");var p=(o=n)!=null?o:m;b[6]!==i.tables.contacts||b[7]!==p?(n=function(){return d("ReQL").fromTableAscending(i.tables.contacts,["secondaryName"]).getKeyRange(p)},b[6]=i.tables.contacts,b[7]=p,b[8]=n):n=b[8];b[9]!==i||b[10]!==p?(o=[i,p],b[9]=i,b[10]=p,b[11]=o):o=b[11];n=d("ReQLSuspense").useFirst(n,o,f.id+":52");o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.hasLSThreadBitOffset;var q;b[12]!==a||b[13]!==o?(q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)||o(41),b[12]=a,b[13]=o,b[14]=q):q=b[14];a=q;q=(o=n==null?void 0:n.secondaryName)!=null?o:"";b[15]!==q?(o=d("PolarisLinkBuilder").buildUserLink(q),b[15]=q,b[16]=o):o=b[16];q=o;var r=c("MessengerWebUXLogger").useInteractionLogger(),s=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[17]!==a||b[18]!==n||b[19]!==r||b[20]!==g||b[21]!==s||b[22]!==q||b[23]!==e?(o=a&&(n==null?void 0:n.secondaryName)!=null?k.jsx(c("PolarisFastLink.react"),{href:q,onClick:function(){r==null?void 0:r({eventName:"open_profile",extraData:c("getInstamadilloLoggingExtraData")(g),flowInstanceId:s})},xstyle:l.threadTextWidth,children:e}):k.jsx(k.Fragment,{children:e}),b[17]=a,b[18]=n,b[19]=r,b[20]=g,b[21]=s,b[22]=q,b[23]=e,b[24]=o):o=b[24];return o}g["default"]=a}),98);
__d("IGDPresenceTextForThreadWrapper.react",["IGDPresenceTextForThread.react","IGDSBox.react","IGDSText.react","MWVerticalRhythm","react","useMWPPresenceStatesForThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d=a.isMobile;a=a.thread;a=c("useMWPPresenceStatesForThread")(a);var e;b[0]!==d?(e=!d&&j.jsx(c("MWVerticalRhythm"),{height:4}),b[0]=d,b[1]=e):e=b[1];b[2]!==a?(d=j.jsx(c("IGDSBox.react"),{marginTop:1,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:j.jsx(c("IGDPresenceTextForThread.react"),{presenceState:a})})}),b[2]=a,b[3]=d):d=b[3];b[4]!==e||b[5]!==d?(a=j.jsxs(j.Fragment,{children:[e,d]}),b[4]=e,b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("IGDThreadHeaderGenAISubtitle.react",["fbt","IGDInboxGenAIStarIcon.react","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7);a=a.nullstateDescriptionText;if(b[0]!==a){var d;d=(d=a)!=null?d:h._("__JHASH__6Hge9pFZXAs__JHASH__");b[0]=a;b[1]=d}else d=b[1];b[2]!==d?(a=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:d}),b[2]=d,b[3]=a):a=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("IGDInboxGenAIStarIcon.react"),{}),b[4]=d):d=b[4];b[5]!==a?(d=k.jsxs(c("IGDSBox.react"),{alignSelf:"start",direction:"row",marginTop:1,children:[a,d]}),b[5]=a,b[6]=d):d=b[6];return d}g["default"]=a}),226);
__d("IGDThreadSubTitle.react",["I64","IGDBroadcastChannelThreadHeader.react","IGDPresenceTextForThreadWrapper.react","IGDSText.react","IGDThreadHeaderGenAISubtitle.react","LSIntEnum","MWCMThreadTypes.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(11),e=a.isMobile;a=a.thread;var f=a.threadSubtype!=null?d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype):!1,g=(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(201));if(f){b[0]!==a.memberCount?(f=a.memberCount!=null?(i||(i=d("I64"))).to_int32(a.memberCount):0,b[0]=a.memberCount,b[1]=f):f=b[1];f=f;var h;b[2]!==e||b[3]!==f||b[4]!==a.pauseThreadTimestamp?(h=l.jsx(c("IGDBroadcastChannelThreadHeader.react"),{isMobile:e,memberCount:f,pauseThreadTimestamp:a.pauseThreadTimestamp}),b[2]=e,b[3]=f,b[4]=a.pauseThreadTimestamp,b[5]=h):h=b[5];return h}if(g){b[6]!==a.nullstateDescriptionText1?(f=l.jsx(c("IGDThreadHeaderGenAISubtitle.react"),{nullstateDescriptionText:a.nullstateDescriptionText1}),b[6]=a.nullstateDescriptionText1,b[7]=f):f=b[7];return f}b[8]!==e||b[9]!==a?(h=l.jsx(c("IGDSText.react"),{color:"secondaryText",children:l.jsx(c("IGDPresenceTextForThreadWrapper.react"),{isMobile:e,thread:a})}),b[8]=e,b[9]=a,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("IGDThreadTitleAndPresence.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadSubTitle.react","LSThreadTitle.react","LSVerificationBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}};function a(a){var b=i(15),d=a.isMobile;a=a.thread;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"label",weight:"semibold",children:j.jsx(c("LSThreadTitle.react"),{thread:a,transforms:e})}),b[1]=a,b[2]=e):e=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[3]=f):f=b[3];b[4]!==a.threadKey?(f=j.jsx(c("LSVerificationBadge.react"),{icon:f,threadKey:a.threadKey}),b[4]=a.threadKey,b[5]=f):f=b[5];var g;b[6]!==e||b[7]!==f?(g=j.jsxs(c("IGDSBox.react"),{alignItems:"end",direction:"row",children:[e,f]}),b[6]=e,b[7]=f,b[8]=g):g=b[8];b[9]!==d||b[10]!==a?(e=j.jsx(c("IGDThreadSubTitle.react"),{isMobile:d,thread:a}),b[9]=d,b[10]=a,b[11]=e):e=b[11];b[12]!==g||b[13]!==e?(f=j.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:k.threadTextWidth,children:[g,e]}),b[12]=g,b[13]=e,b[14]=f):f=b[14];return f}g["default"]=a}),98);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},n={4:{paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",$$css:!0},8:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},12:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",$$css:!0},16:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0},20:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},p={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},q={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},r={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},s={4:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",$$css:!0},8:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",$$css:!0},12:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",$$css:!0},16:{marginStart:"x1d52u69",marginLeft:null,marginRight:null,marginEnd:"xktsk01",$$css:!0},20:{marginStart:"xmn8rco",marginLeft:null,marginRight:null,marginEnd:"x1h5jrl4",$$css:!0}},t=j.forwardRef(a);function a(a,b){var d,e,f,g;a=babelHelpers["extends"]({},a);d=(d=k(c("MDSColumnContext")))!=null?d:{};var i=a.align;e=i===void 0?(e=d.align)!=null?e:"stretch":i;i=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;f=w===void 0?(f=d.paddingHorizontal)!=null?f:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=k(c("MDSColumnItemContext")),C=B.isFirst;B=B.isLast;var D=(h||(h=c("stylex"))).compose(a.xstyle);g=j.jsxs(j.Fragment,{children:[d.hasDividers===!0&&j.jsx(c("BaseView.react"),{role:"separator",xstyle:[l.divider,s[(g=d.paddingHorizontal)!=null?g:0],C&&l.firstChildDisplay]}),j.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:b,xstyle:[l.root,u&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],e!=="stretch"&&m[e],z!=="top"&&r[z],n[f],p[x],w!=null&&o[w],d.spacing!=null&&[q[d.spacing],D.marginTop==null&&C&&l.firstChildMargin,D.marginBottom==null&&B&&l.lastChildMargin],a.xstyle],children:j.jsx(c("MDSColumnContext").Provider,{value:null,children:i})}))]});if(v!==void 0){a.fallback;var E=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?g=j.jsx(c("CometErrorBoundary.react"),{children:g}):g=j.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return j.jsx(t,babelHelpers["extends"]({},E,{ref:b,children:typeof v==="function"?v(a,c):v}))},children:g})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=j.jsx(c("CometPlaceholder.react"),{fallback:y!=null?j.jsx(t,babelHelpers["extends"]({},A,{ref:b,children:y})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";b=t;g["default"]=b}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}},m=i.forwardRef(a);function a(a,b){var d;a=babelHelpers["extends"]({},a);d=(d=j(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,h=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return i.jsx(c("CometPlaceholder.react"),{fallback:g!=null?i.jsx(m,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:i.jsx(m,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))}):i.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return i.jsx(m,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))})}return i.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},h,{ref:b,useDeprecatedStyles:h.useDeprecatedStyles,xstyle:[k[e],l[d],h.xstyle],children:i.jsx(c("MDSRowContext").Provider,{value:null,children:h.children})}))}a.displayName=a.name+" [from "+f.id+"]";b=m;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={0:{$$css:!0},4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},o={0:{$$css:!0},4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},p={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d;a=babelHelpers["extends"]({},a);var e=j(c("MDSColumnContext")),f=j(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,h=(e==null?void 0:e.spacing)!=null?0:16,q=a.children,r=a.paddingHorizontal;g=r===void 0?g:r;r=a.paddingVertical;r=r===void 0?0:r;var s=a.paddingTop;d=s===void 0?(d=a.paddingVertical)!=null?d:h:s;h=a.spacing;s=h===void 0?12:h;h=a.spacingHorizontal;var t=h===void 0?s:h;h=a.spacingVertical;var u=h===void 0?s:h;s=a.xstyle;h=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=k(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=i.jsx(c("BaseRow.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:[l[g],n[r],d!=null&&m[d],o[t],p[u],s],children:i.jsx(c("MDSRowContext").Provider,{value:a,children:q})}));if(f!=null)return i.jsx(c("MDSRowItem.react"),{expanding:h.expanding,children:b});return e!=null?i.jsx(c("MDSColumnItem.react"),{expanding:h.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("IGDInboxHeader.react",["fbt","CometPressable.react","IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react","IGDEqualityUtils","IGDInboxAvatarWrapper.react","IGDMobileNavigationButton.react","IGDNavigation","IGDProfileLinkOrFragment.react","IGDSIconButton.react","IGDSInfoFilledIcon.react","IGDSInfoOutlineIcon.react","IGDSectionHeader.react","IGDThreadListNewMessageLoggingDataContext","IGDThreadTitleAndPresence.react","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWPBumpEntityKey","MessengerWebUXLogger","PolarisCallGatingHelpers","PolarisUA","WebUXLoggingSurfaceContextProvider","getInstamadilloLoggingExtraData","gkx","react","useIsReadOnlyFeatureLimited","useRoutePassthroughProps","useStableValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;e=b.memo;b.useMemo;var k=b.c,l={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}},m=h._("__JHASH__YAMsEplqqD7__JHASH__");function n(a){var b=k(51),e=a.info,f=a.setInfo;a=a.thread;var g=d("IGDNavigation").useIGDNavigation(),i;b[0]!==a.threadType?(i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=i):i=b[1];i=i;var n;b[2]!==a.threadType?(n=!d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&c("gkx")("24013"),b[2]=a.threadType,b[3]=n):n=b[3];n=n;var o=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey),p;b[4]!==a.threadSubtype?(p=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),b[4]=a.threadSubtype,b[5]=p):p=b[5];p=p;var q=c("useRoutePassthroughProps")(),r=q!=null&&q.entryPoint==="pendingRequests",s=q!=null&&q.entryPoint==="inboxSpam";b[6]!==a.threadType?(q=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType),b[6]=a.threadType,b[7]=q):q=b[7];q=q;var t=c("useIsReadOnlyFeatureLimited")(),u;b[8]!==t||b[9]!==n||b[10]!==i||b[11]!==a?(u=d("PolarisCallGatingHelpers").isWebCallingEnabled()&&!t&&(n||!i)&&!d("LSMessagingThreadTypeUtil").isPartnership(a.threadSubtype),b[8]=t,b[9]=n,b[10]=i,b[11]=a,b[12]=u):u=b[12];t=u;var v=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),w=c("MessengerWebUXLogger").useInteractionLogger();b[13]!==a?(n=c("getInstamadilloLoggingExtraData")(a),b[13]=a,b[14]=n):n=b[14];var x=n;b[15]!==w||b[16]!==x||b[17]!==v||b[18]!==f||b[19]!==e?(i=function(){w==null?void 0:w({eventName:"open_thread_info",extraData:x,flowInstanceId:v});f(!e);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},u=[v,e,x,w,f],b[15]=w,b[16]=x,b[17]=v,b[18]=f,b[19]=e,b[20]=i,b[21]=u):(i=b[20],u=b[21]);n=d("Int64Hooks").useCallbackInt64(i,u);b[22]!==o||b[23]!==t||b[24]!==a||b[25]!==e||b[26]!==n?(i=o?null:j.jsxs(j.Fragment,{children:[t?j.jsx(c("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"),{thread:a}):null,j.jsx("div",{className:"x78zum5 x4uap5 xurb0ha",children:j.jsx(c("IGDSIconButton.react"),{onClick:n,padding:0,children:e?j.jsx(c("IGDSInfoFilledIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0}):j.jsx(c("IGDSInfoOutlineIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0})})})]}),b[22]=o,b[23]=t,b[24]=a,b[25]=e,b[26]=n,b[27]=i):i=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("PolarisUA").isMobile(),b[28]=u):u=b[28];b[29]!==r||b[30]!==g||b[31]!==s?(o=d("PolarisUA").isMobile()?j.jsx(c("IGDMobileNavigationButton.react"),{onClick:function(){if(r)return g.openPendingInbox();return s?g.openHiddenRequests():g.goToNullState()}}):null,b[29]=r,b[30]=g,b[31]=s,b[32]=o):o=b[32];b[33]!==q||b[34]!==a||b[35]!==p||b[36]!==f||b[37]!==e?(t=j.jsx(c("MDSRowItem.react"),{children:q?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:a,children:j.jsx(c("IGDInboxAvatarWrapper.react"),{isMobile:d("PolarisUA").isMobile(),thread:a})}):j.jsx(c("CometPressable.react"),{"aria-label":p?h._("__JHASH__GzYxmRVjA0o__JHASH__"):h._("__JHASH__EtZPWoRxaAi__JHASH__"),onPress:function(){f(!e);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},overlayDisabled:!0,children:j.jsx(c("IGDInboxAvatarWrapper.react"),{isMobile:d("PolarisUA").isMobile(),thread:a})})}),b[33]=q,b[34]=a,b[35]=p,b[36]=f,b[37]=e,b[38]=t):t=b[38];b[39]!==q||b[40]!==a||b[41]!==f||b[42]!==e?(n=j.jsx(c("MDSRowItem.react"),{expanding:!0,children:q?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:a,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:d("PolarisUA").isMobile(),thread:a})}):j.jsx(c("CometPressable.react"),{onPress:function(){f(!e);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},overlayDisabled:!0,xstyle:l.threadTextWidth,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:d("PolarisUA").isMobile(),thread:a})})}),b[39]=q,b[40]=a,b[41]=f,b[42]=e,b[43]=n):n=b[43];b[44]!==t||b[45]!==n?(p=j.jsxs(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[t,n]}),b[44]=t,b[45]=n,b[46]=p):p=b[46];b[47]!==i||b[48]!==o||b[49]!==p?(q=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"inbox_header",children:j.jsx(c("IGDSectionHeader.react"),{endAdornment:i,isMobile:u,startAdornment:o,children:p})}),b[47]=i,b[48]=o,b[49]=p,b[50]=q):q=b[50];return q}function a(a){var b=k(20),c=a.info,e=a.setInfo;a=a.thread;var f;b[0]!==a.capabilities||b[1]!==a.capabilities2||b[2]!==a.capabilities3||b[3]!==a.capabilities4||b[4]!==a.memberCount||b[5]!==a.nullstateDescriptionText1||b[6]!==a.parentThreadKey||b[7]!==a.pauseThreadTimestamp||b[8]!==a.threadKey||b[9]!==a.threadName||b[10]!==a.threadPictureUrl||b[11]!==a.threadPictureUrlExpirationTimestampMs||b[12]!==a.threadPictureUrlFallback||b[13]!==a.threadSubtype||b[14]!==a.threadType?(f={capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,memberCount:a.memberCount,nullstateDescriptionText1:a.nullstateDescriptionText1,parentThreadKey:a.parentThreadKey,pauseThreadTimestamp:a.pauseThreadTimestamp,threadKey:a.threadKey,threadName:a.threadName,threadPictureUrl:a.threadPictureUrl,threadPictureUrlExpirationTimestampMs:a.threadPictureUrlExpirationTimestampMs,threadPictureUrlFallback:a.threadPictureUrlFallback,threadSubtype:a.threadSubtype,threadType:a.threadType},b[0]=a.capabilities,b[1]=a.capabilities2,b[2]=a.capabilities3,b[3]=a.capabilities4,b[4]=a.memberCount,b[5]=a.nullstateDescriptionText1,b[6]=a.parentThreadKey,b[7]=a.pauseThreadTimestamp,b[8]=a.threadKey,b[9]=a.threadName,b[10]=a.threadPictureUrl,b[11]=a.threadPictureUrlExpirationTimestampMs,b[12]=a.threadPictureUrlFallback,b[13]=a.threadSubtype,b[14]=a.threadType,b[15]=f):f=b[15];a=d("useStableValue").useStableValue(f,d("IGDEqualityUtils").shallowEqualI64);b[16]!==c||b[17]!==e||b[18]!==a?(f=j.jsx(n,{info:c,setInfo:e,thread:a}),b[16]=c,b[17]=e,b[18]=a,b[19]=f):f=b[19];c=f;return c}f=e(a);g["default"]=f}),226);
__d("IGDInboxInfoPlaceholder.react",["IGDListCellPlaceholder.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={action:{width:"xifkd7f",$$css:!0},option:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xmix8c7",marginBottom:"xvl6max",marginStart:"xmupa6y",marginLeft:null,marginRight:null,marginEnd:"xqmxbcd",marginTop:"xqui205",$$css:!0}};function a(){var a=i(6),b,d,e,f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1r8uery x1iyjqo2 xs83m0k x11408do",d=j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k.option}),e=j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k.option}),f=j.jsx("div",{className:"x14ler8 x1pdq3kb",children:j.jsx(c("IGDListCellPlaceholder.react"),{})}),a[0]=b,a[1]=d,a[2]=e,a[3]=f):(b=a[0],d=a[1],e=a[2],f=a[3]);var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:[k.action,k.option]}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs("div",{className:b,children:[d,e,f,g,j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:[k.action,k.option]})]}),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("IGDInstamadilloLockIcon.react",["I64","IGDSIconButton.react","JSResourceForInteraction","ReQL","ReQLSuspense","gkx","react","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c,m=h||(h=c("react"));function a(a){var b=l(11),d=a.children,e=a.isSecure,f=a.message;a=a.outgoing;if(!e||!c("gkx")("24015"))return d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 x1q0g3np",b[0]=e):e=b[0];var g;b[1]!==a||b[2]!==f?(g=a?m.jsx(n,{message:f,outgoing:a}):null,b[1]=a,b[2]=f,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==f?(h=a?null:m.jsx(n,{message:f,outgoing:a}),b[4]=a,b[5]=f,b[6]=h):h=b[6];b[7]!==g||b[8]!==d||b[9]!==h?(a=m.jsxs("div",{className:e,children:[g,d,h]}),b[7]=g,b[8]=d,b[9]=h,b[10]=a):a=b[10];return a}function n(a){var b=l(32),e=a.message;a=a.outgoing;var g=(j||(j=c("useReStore")))(),h;b[0]!==g.tables.e2ee_igMessageAuxiliaryInfo||b[1]!==e.messageId?(h=function(){return d("ReQL").fromTableAscending(g.tables.e2ee_igMessageAuxiliaryInfo).getKeyRange(e.messageId)},b[0]=g.tables.e2ee_igMessageAuxiliaryInfo,b[1]=e.messageId,b[2]=h):h=b[2];var k;b[3]!==g||b[4]!==e.messageId?(k=[g,e.messageId],b[3]=g,b[4]=e.messageId,b[5]=k):k=b[5];h=d("ReQLSuspense").useFirst(h,k,f.id+":72");b[6]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("JSResourceForInteraction")("IGDMessageInspectMessageDialog.react").__setRef("IGDInstamadilloLockIcon.react"),b[6]=k):k=b[6];k=c("useIGDSLazyDialog")(k);var n=k[0];b[7]!==n||b[8]!==e?(k=function(){n({message:e})},b[7]=n,b[8]=e,b[9]=k):k=b[9];k=k;if(h==null){var o=a?0:"4px",p=a?"4px":0,q;b[10]!==o||b[11]!==p?(q=m.jsx("div",{style:{paddingLeft:o,paddingRight:p},children:"\u2753"}),b[10]=o,b[11]=p,b[12]=q):q=b[12];b[13]!==k||b[14]!==q?(o=m.jsx(c("IGDSIconButton.react"),{onClick:k,padding:0,children:q}),b[13]=k,b[14]=q,b[15]=o):o=b[15];return o}p=(i||(i=d("I64"))).to_int32(e.displayedContentTypes)===131072;q=i.to_int32(e.displayedContentTypes)===0;b[16]!==h["final"]||b[17]!==p||b[18]!==q?(o=h["final"]||p||q?void 0:"x1q3qbx4 xa4qsjk xau8ic4",b[16]=h["final"],b[17]=p,b[18]=q,b[19]=o):o=b[19];p=a?0:"4px";q=a?"4px":0;b[20]!==p||b[21]!==q?(a={paddingLeft:p,paddingRight:q},b[20]=p,b[21]=q,b[22]=a):a=b[22];b[23]!==h.openEb?(p=Boolean(h.openEb)?m.jsx(m.Fragment,{children:"\ud83d\udd13"}):m.jsx(m.Fragment,{children:"\ud83d\udd0f"}),b[23]=h.openEb,b[24]=p):p=b[24];b[25]!==o||b[26]!==a||b[27]!==p?(q=m.jsx("div",{className:o,style:a,children:p}),b[25]=o,b[26]=a,b[27]=p,b[28]=q):q=b[28];b[29]!==k||b[30]!==q?(h=m.jsx(c("IGDSIconButton.react"),{onClick:k,padding:0,children:q}),b[29]=k,b[30]=q,b[31]=h):h=b[31];return h}g["default"]=a}),98);
__d("IGDLeaveGroupComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","MWPBumpEntityKey","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(7);a=a.thread;var e=a;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDChatSettingsLeaveThreadDialog.react").__setRef("IGDLeaveGroupComposerBannerButton.react"),b[0]=a):a=b[0];a=c("useIGDSLazyDialog")(a);var f=a[0];b[1]!==f||b[2]!==e?(a=function(){f({thread:e},function(){});return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","leave_chat")},b[1]=f,b[2]=e,b[3]=a):a=b[3];a=a;var g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__W6x1n43ujW0__JHASH__"),b[4]=g):g=b[4];b[5]!==a?(g=j.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:g,onClick:a,role:"button",variant:"destructive_link_deprecated"}),b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),226);
__d("IGDMessageSendErrorStatus.react",["fbt","IGDSCircleXOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWLSThread","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(9);a=a.threadKey;var e=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("MWLSThread").useThread(a);var f;b[0]!==a?(f=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=f):f=b[1];b[2]!==f||b[3]!==e?(a={eventName:"message_send_error_status",extraData:f,flowInstanceId:e},b[2]=f,b[3]=e,b[4]=a):a=b[4];f=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 xdt5ytf x13a6bvl x1k2j06m x1n2onr6",b[5]=e):e=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:h._("__JHASH__3lAzcCmpfEs__JHASH__"),color:"ig-error-or-destructive","data-testid":void 0,size:12}),b[6]=a):a=b[6];b[7]!==f?(e=k.jsx("div",{className:e,ref:f,children:a}),b[7]=f,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("IGDMessageSendingStatus.react",["fbt","CometScreenReaderText.react","IGDSDirectPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(3),b,d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1n2onr6",d=k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:"IGD message sending status icon",color:"ig-secondary-text","data-testid":void 0,size:12}),a[0]=b,a[1]=d):(b=a[0],d=a[1]);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs("div",{className:b,children:[d,k.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__MuPLBp1vro6__JHASH__")})]}),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(6);a=a.message;var e=a.sendStatusV2,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 x1iyjqo2 xs83m0k x1kky2od",b[0]=f):f=b[0];var g;b[1]!==e||b[2]!==a?(g=(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))?l.jsx(c("IGDMessageSendingStatus.react"),{}):(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(4))?l.jsx(c("IGDMessageSendErrorStatus.react"),{threadKey:a.threadKey}):null,b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==g?(e=l.jsx("div",{className:f,children:g}),b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.createContext,l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var p=k(e);function a(a){a=a.children;var b=o(),e=b[0],g=b[1],i=(h||(h=c("useReStore")))(),k=e==null?void 0:e.messageOtid,l=e==null?void 0:e.messageId,q=(b=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(i.tables.messages.index("optimistic")).getKeyRange(k):d("ReQL").empty()},[i,k],f.id+":63"))==null?void 0:b.messageId;m(function(){q!=null&&l==null&&g(function(a){return a==null?null:babelHelpers["extends"]({},a,{messageId:q})})},[g,l,q]);b=n(function(){return{setVisibleMessage:g,visibleMessage:e}},[e,g]);return j.jsx(p.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return l(p)}g.MWPVisibleMessageContext=p;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MessageProfileRangeTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),c=d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});b=b.concat(c).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var e={contents:0},f={contents:0};c=b.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return k.test(c)===!1});b=e.contents!==a.length&&!k.test(a.substring(f.contents));if(c)return!1;else return!b}function b(a,b){b===void 0&&(b=!1);var e=c("getURLRanges")(a),f=[];a=d("MWChatTextFormatting").getFormattingRanges(a,b);e.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};f.push(a)});return f.concat(a)}function l(a){if(c("gkx")("23433"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":115")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeTypeUtils").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["AdsAIMessengerUtils","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a,b){if(b.length===0)return a;var c=0,d="";b.forEach(function(b){var e=b.offset;b=b.length;d+=a.substring(c,e);b=e+b;d+="\u2066"+a.substring(e,b)+"\u2069";c=b});c<a.length&&(d+=a.substring(c));return d}function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function b(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage,i=d("AdsAIMessengerUtils").isMessageFromAdsAIBot(b)&&c("justknobx")._("2986");return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a,i)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g,i])}g.getRTLOMitigatedText=a;g.useRanges=b}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.outgoing,e=a.text,f=a.xstyle,g=a.ranges,h=a.renderers;a=a.transforms;return e==null?null:i.jsx(c("MWXText.react"),{color:b?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.regular,b?j.outgoing:j.incoming,f],children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:g,renderers:h,text:e,transforms:(b=a)!=null?b:d("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.message,e=a.xstyleForForwarded,f=a.xstyleForText,g=a.outgoing,h=a.ranges,l=a.renderers,m=a.text;a=a.transforms;if(m==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));l=k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:g,ranges:h,renderers:l,text:m,transforms:(h=a)!=null?h:d("MWChatTextTransform").textTransforms,xstyle:f});return b?k.jsx(c("MWXMessageBlockQuote.react"),{outgoing:g,xstyle:e,children:l}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._("__JHASH__dr5LK8JTLfs__JHASH__"),o=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),226);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle_DEPRECATED:g,children:a})})})}}g["default"]=a}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("24165")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","PolarisUA","react","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},l=["Ai",function(a){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}];function a(a,b,e,f){var g=j(18);b=c("useMWPLinkRendererFactory")(b);f=e&&f?k.textPrecedesXMA:e?k.regularOutgoing:k.regularIncoming;var h=d("PolarisUA").isMobile()?"_self":"_blank",i;g[0]!==b?(i=b([k.link],"ig_chat_message_regular_link","Link",h),g[0]=b,g[1]=i):i=g[1];var m;g[2]!==f||g[3]!==b?(m=b([k.bold,f],"ig_profile_link","Profile",h),g[2]=f,g[3]=b,g[4]=m):m=g[4];g[5]!==f||g[6]!==b?(h=b([k.bold,f],"ig_chat_message_regular_hashtag","Hashtag",h),g[5]=f,g[6]=b,g[7]=h):h=g[7];g[8]!==i||g[9]!==m||g[10]!==h?(f=[i,m,h,l],g[8]=i,g[9]=m,g[10]=h,g[11]=f):f=g[11];b=f;i=c("useMWPCombineTextRenderers")(b);if(g[12]!==i||g[13]!==a||g[14]!==e){m=babelHelpers["extends"]({},i);if(a===!0){h=e?d("MWChatTextFormatting").messageRenderer:d("MWChatTextFormatting").messageIncomingRenderer;g[16]!==h?(f=[h],g[16]=h,g[17]=f):f=g[17];m.MessengerTextFormatting=f}g[12]=i;g[13]=a;g[14]=e;g[15]=m}else m=g[15];b=m;return b}g["default"]=a}),98);
__d("IGDMessageListText.react",["IGDGetHashtagRanges.react","MWV2ChatTextUtils","MWXMessageListText.react","react","useIGDTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),e=a.enableMessengerTextFormatting,f=a.isSecureMessage,g=a.message,h=a.outgoing;a=a.precedesXMA;e=c("useIGDTextRenderers")(e,f,h,a);f=d("IGDGetHashtagRanges.react").getHashtagRanges(g.text);f=d("MWV2ChatTextUtils").useRanges(g.text,g).concat(f);a=a?!1:h;b[0]!==g||b[1]!==a||b[2]!==f||b[3]!==e?(h=j.jsx(c("MWXMessageListText.react"),{message:g,outgoing:a,ranges:f,renderers:e,text:g.text}),b[0]=g,b[1]=a,b[2]=f,b[3]=e,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",{className:(h||(h=c("stylex")))(l.container,a),role:"none",children:[b.map(function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(l.items,d),role:"none",children:a},""+b)}),e?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure";e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.reactionFbid;d[3]=b.nextPageCursor;return c("LSIssueReactionsV2DetailsUsersListFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWXDialogLoadingState.react",["cr:9909","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9909")}),98);
__d("useMWXLazyDialog",["MWXDialogLoadingState.react","react","tracePolicyFromResource","useBaseLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=function(a){return i.jsx(c("MWXDialogLoadingState.react"),{onClose:a})};function a(a,b,d){var e=c("tracePolicyFromResource")("mwp.dialog",a);return c("useBaseLazyDialog")(a,(a=b)!=null?a:j,e,d)}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=(i||(i=c("useReStore")))(),e=p(d("ReQLSuspense").useArray(function(){if(a==null)return d("ReQL").empty();var c=a.messageId,e=a.threadKey;return d("ReQL").fromTableAscending(b.tables.reactions).getKeyRange(e,c).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[a,b.tables.reactions],f.id+":65"));return e}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e)},[b,g,e],f.id+":92");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":106");return a}function u(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function v(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function w(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,w=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E=d("MWLSThread").useThread(w,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(w),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,w]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":225");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,w,t,p],f.id+":219");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,w);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?v(E):v(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=u(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:w}}},[g,w]),M=n(function(){y(function(){return!1}),x(function(){return!0})},[x,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null?void 0:h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:w};return D||!G?b(K,E,k,g,w,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,w,O,!1,c("emptyFunction"))})}w.displayName=w.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=w}),226);
__d("useIGDBroadcastChannelReactionsFooterButtonClickLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a,b){var e=i(3),f=d("MWLSThread").useThread(a,j);f=f!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f);var g=c("useIGDBroadcastChannelLogger")(a);e[0]!==g||e[1]!==b?(a=function(){c("promiseDone")(g(babelHelpers["extends"]({},d("IGDBroadcastChannelLoggingShapes").REACTIONS_FOOTER_BUTTON_CLICK_SHAPE,{extra:{mid:b}})))},e[0]=g,e[1]=b,e[2]=a):a=e[2];e=a;return f?e:c("emptyFunction")}function j(a){return a.threadSubtype}g["default"]=a}),98);
__d("IGDMessageRowFooter.react",["IGDSEmoji.react","IGDSingleAvatar.react","JSResourceForInteraction","MWPActor.react","MWPMessageFooter.react","MWPMessageReactions.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","intlSummarizeNumber","promiseDone","react","requireDeferred","stylex","useIGDBroadcastChannelReactionsFooterButtonClickLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageRowFooter.react"),n=c("JSResourceForInteraction")("IGDBroadcastChannelReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),o=c("JSResourceForInteraction")("IGDReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),p={footerContainer:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},footerContainerOutgoing:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0},reactionPillEmoji:{alignItems:"x6s0dn4",display:"x78zum5",fontSize:"x1pg5gke",height:"x1v9usgg",justifyContent:"xl56j7k",marginStart:"x12mruv9",marginEnd:"xfs2ol5",textAlign:"x2b8uid",width:"x6jxa94",$$css:!0},singleReaction:{marginEnd:"xfs2ol5",$$css:!0},translate:{transform:"x1wx64ow",$$css:!0},translateReset:{transform:"x1c1b4dv",$$css:!0}};function q(a){var b=k(11),e=a.reaction,g=(h||(h=c("useReStore")))();b[0]!==g.tables.contacts||b[1]!==e.actorId?(a=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e.actorId)},b[0]=g.tables.contacts,b[1]=e.actorId,b[2]=a):a=b[2];var i;b[3]!==g||b[4]!==e.actorId?(i=[g,e.actorId],b[3]=g,b[4]=e.actorId,b[5]=i):i=b[5];a=d("ReQLSuspense").useFirst(a,i,f.id+":100");b[6]!==a?(i=a!=null?c("getLSMediaContactProfilePictureUrl")(a):"/images/chat/webrtc/no_profile_pic.png",b[6]=a,b[7]=i):i=b[7];i=i;if(a!=null){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a="x12mruv9 xfs2ol5",b[8]=a):a=b[8];b[9]!==i?(a=l.jsx("div",{className:a,role:"none",children:l.jsx(c("IGDSingleAvatar.react"),{size:"micro",src:i})}),b[9]=i,b[10]=a):a=b[10];return a}else return null}function r(a){var b=k(18),d=a.count,e=a.emojis,f=a.reactions,g=a.shouldShowAvatarForSingleReaction,h=f.length===1;if(b[0]!==h||b[1]!==g||b[2]!==e){b[4]!==h||b[5]!==g?(a=function(a,b){return l.jsx("span",{className:(i||(i=c("stylex")))([p.reactionPillEmoji,h&&!g?p.singleReaction:!1]),children:l.jsx(c("IGDSEmoji.react"),{emoji:a.join("")})},String(b))},b[4]=h,b[5]=g,b[6]=a):a=b[6];a=e.map(a);b[0]=h;b[1]=g;b[2]=e;b[3]=a}else a=b[3];e=a;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 x19g9edo x1yhmmig xeqyd3i xyb01ml xdn568n x13zp6kq x1mcfq15 xrosliz x1wb7cse x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1gnnqk1 x9f619 x78zum5 x1q0g3np x17rw0jw xl56j7k xo5v014 x16hj40l xsyo7zv",b[7]=a):a=b[7];var j;b[8]!==h||b[9]!==g||b[10]!==f?(j=h&&g?l.jsx(q,{reaction:f[0]}):null,b[8]=h,b[9]=g,b[10]=f,b[11]=j):j=b[11];b[12]!==d?(f=d>1?l.jsx("div",{className:"x5n08af x1f6kntn x12mruv9 xfs2ol5",role:"none",children:c("intlSummarizeNumber")(d)}):null,b[12]=d,b[13]=f):f=b[13];b[14]!==e||b[15]!==j||b[16]!==f?(d=l.jsxs("div",{className:a,role:"none",children:[e,j,f]}),b[14]=e,b[15]=j,b[16]=f,b[17]=d):d=b[17];return d}function a(a){var b=k(16),e=a.hasReactions,f=a.isGroupThread,g=a.message,i=a.outgoing,j=a.reactions,q=a.reactionsV2;a=a.resetReactionTranslateStyle;var s=d("MWPActor.react").useActor(),t=(h||(h=c("useReStore")))(),u=q!=null&&q.length>0,v=c("useIGDBroadcastChannelReactionsFooterButtonClickLogger")(g.threadKey,g.messageId);a=a===!0?p.translateReset:p.translate;var w=i?p.footerContainerOutgoing:p.footerContainer,x;b[0]!==e||b[1]!==u||b[2]!==t||b[3]!==g||b[4]!==s||b[5]!==v||b[6]!==q||b[7]!==f||b[8]!==i||b[9]!==j?(x=e?l.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{dialogResource:u?n:o,message:g,onPress:function(){m.onReady(function(a){return c("promiseDone")(a.log(t,g.messageId,g.threadKey,"direct_click","view_message_reactions",void 0,void 0,void 0,g.senderId,void 0,s))}),v()},outgoing:i,reactions:j,reactionsV2:u?q:void 0,shouldUseVariant16ForReactionsV2:u,children:function(a,b,c){return l.jsx(r,{count:b,emojis:a,reactions:c,shouldShowAvatarForSingleReaction:u?!1:f})}}):null,b[0]=e,b[1]=u,b[2]=t,b[3]=g,b[4]=s,b[5]=v,b[6]=q,b[7]=f,b[8]=i,b[9]=j,b[10]=x):x=b[10];b[11]!==a||b[12]!==i||b[13]!==w||b[14]!==x?(e=l.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{itemsXstyle:a,outgoing:i,xstyle:w,children:x}),b[11]=a,b[12]=i,b[13]=w,b[14]=x,b[15]=e):e=b[15];return e}g["default"]=a}),98);
__d("IGDRepliedEphemeralMessage.react",["EphemeralMediaViewMode","IGDChatImage.react","IGDChatVideo.react","LSIntEnum","MessagingAttachmentType","cr:3336","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l=340*.6,m=236*.6;function a(a){var e=j(10),f=a.attachment,g=a.message;a=a.outgoing;if(f.ephemeralMediaViewMode!=null){var h=(i||(i=d("LSIntEnum"))).unwrapIntEnum(f.ephemeralMediaViewMode);if(h===c("EphemeralMediaViewMode").PERMANENT)switch((i||(i=d("LSIntEnum"))).toNumber(f.attachmentType)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:e[0]!==f||e[1]!==g||e[2]!==a?(h=k.jsx(c("IGDChatImage.react"),{attachment:f,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:l,maxWidth:m,mediaRenderQpl:null,message:g,outgoing:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:e[4]!==f||e[5]!==g||e[6]!==a?(h=k.jsx(c("IGDChatVideo.react"),{attachment:f,connectTop:!1,maxHeight:l,maxWidth:m,mediaRenderQpl:null,message:g,outgoing:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=h):h=e[7];return h}}e[8]!==f?(g=k.jsx(b("cr:3336"),{attachment:f,connectBottom:!1,connectTop:!1,outgoing:!0}),e[8]=f,e[9]=g):g=e[9];return g}g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrlAttachment","MWPBaseXMAAttachment.react","MWPXMAIconParser","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.c,m={card:{backgroundColor:"x19g9edo",$$css:!0},container:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",zIndex:"x1vjfegm",$$css:!0},headerImage:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginTop:"x9otpla",marginBottom:"x1wsgfga",marginEnd:"x1w0mnb",marginStart:"x139jcc6",objectFit:"xl1xv1r",$$css:!0},preview:{position:"x1n2onr6",$$css:!0},previewHeader:{end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};e={"mwp-xma-message-bubble-max-width":"200px"};var n={dark:e,light:e,type:"VARIABLES"};f={"mwp-xma-message-bubble-max-width":"100px"};var o={dark:f,light:f,type:"VARIABLES"};function p(a){return k(function(){var b=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(a));b=typeof b==="string"?b:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function q(a){var b=l(2),c=d("LSMediaUrlAttachment").previewUrl(a);a=d("LSMediaUrlAttachment").playableUrl(a);c=c!=null||a!=null;a=r;b[0]!==c?(a={getPreviewImageUrlXMA:a,hasPreview:c},b[0]=c,b[1]=a):a=b[1];return a}function r(a,b){return d("LSMediaUrlAttachment").previewUrl(a)}function a(a){var b=l(15),d=a.attachment,e=a.mediaRenderQpl,f=c("useXMAPreviewIconDecorator.react")(d.previewImageDecorationType),g=p(d);a=q(d);var i=a.getPreviewImageUrlXMA,k=a.hasPreview,r=f!=null,s=g!=null&&!k;a=s?n:o;var t;b[0]!==k||b[1]!==s||b[2]!==r||b[3]!==g||b[4]!==f||b[5]!==d||b[6]!==i||b[7]!==e?(t=function(a){switch(a.layoutType){case"vertical":return j.jsxs("div",{className:(h||(h=c("stylex")))([m.container,m.card,k&&m.preview]),children:[(s||r)&&j.jsx("div",{className:(h||(h=c("stylex")))([m.header,k&&m.previewHeader]),children:s&&j.jsxs(j.Fragment,{children:[(g==null?void 0:g.imageUrl)!=null&&j.jsx(c("BaseImage.react"),{height:20,src:g.imageUrl,width:20,xstyle:m.headerImage}),(g==null?void 0:g.title)!=null&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:g.title})]})}),j.jsx("div",{className:"x1ey2m1c xds687c x17qophe xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x1vjfegm",children:f}),k&&a.preview!=null&&j.jsxs(j.Fragment,{children:[j.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:d,attachmentItem:a.preview,getPreviewImageUrlXMA:i,mediaRenderQpl:e,size:"small"}),r&&j.jsx("div",{className:"xnp7tpx x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"})]})]});case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}},b[0]=k,b[1]=s,b[2]=r,b[3]=g,b[4]=f,b[5]=d,b[6]=i,b[7]=e,b[8]=t):t=b[8];var u;b[9]!==d||b[10]!==t?(u=j.jsx(c("MWPBaseXMAAttachment.react"),{attachment:d,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:t}),b[9]=d,b[10]=t,b[11]=u):u=b[11];b[12]!==a||b[13]!==u?(t=j.jsx(c("BaseTheme.react"),{config:a,children:u}),b[12]=a,b[13]=u,b[14]=t):t=b[14];return t}g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.children,d=a.fontStyle;d=d===void 0?"normal":d;a=a.outgoing;return k.jsxs(c("MWXMessageBubble.react"),{align:a?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[k.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",{className:(i||(i=c("stylex")))(l.content,d==="italic"&&l.italic),"data-testid":void 0,children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon.react","MWXMessageReplyBubble.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;l(function(){b==null?void 0:b.addPoint("render-replies-attachment")},[b]);var e=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:k.jsxs("div",{className:"x6s0dn4 x78zum5",children:[e,k.jsx("span",{className:"x1lliihq x1i64zmx",children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedEphemeralMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function a(a){var b=a.isSecureMessage,e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var k=(h||(h=c("useReStore")))(),m=g==null?void 0:g.replySourceId,n=g==null?void 0:g.threadKey,o=d("ReQLSuspense").useArray(function(){return m!=null&&n!=null?d("ReQL").fromTableAscending(k.tables.attachments).getKeyRange(n,m):d("ReQL").empty()},[k,m,n],f.id+":46").sort(d("IGDRepliedUtils").orderByUserSelection),p=o.length;if(p===0||g==null)return null;else if(p>1)return l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:b,mediaRenderQpl:e,message:g,outgoing:a});else{p=o[0];if((i||(i=d("I64"))).equal(p.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(p))return l.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,outgoing:a});else if(p.playableUrlMimeType==="image/gif")return l.jsx(c("IGDSticker.react"),{attachment:p});else return l.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:p,mediaRenderQpl:e});else if((i||(i=d("I64"))).equal(p.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(p.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)))return l.jsx(c("IGDRepliedEphemeralMessage.react"),{attachment:p,message:g,outgoing:a});else return l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:b,mediaRenderQpl:null,message:g,outgoing:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWPSolidMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(j||(j=d("react"))).c,m=j,n={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=l(13),e=a.children,f=a.message;a=a.xstyle;var g=f.replyToUserId,j;b[0]!==g||b[1]!==f?(j=g!=null?(k||(k=d("I64"))).equal(f.senderId,g):!1,b[0]=g,b[1]=f,b[2]=j):j=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={backgroundColor:"rgb(var(--ig-highlight-background))"},b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__shPgdhtmHCq__JHASH__")}),b[4]=f):f=b[4];var o;b[5]!==a?(o=(i||(i=c("stylex")))(n.content,a),b[5]=a,b[6]=o):o=b[6];b[7]!==o||b[8]!==e?(a=m.jsx("div",{className:o,children:e}),b[7]=o,b[8]=e,b[9]=a):a=b[9];b[10]!==j||b[11]!==a?(o=m.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:j,precedesXMA:!1,style:g,children:[f,a]}),b[10]=j,b[11]=a,b[12]=o):o=b[12];return o}g["default"]=a}),226);
__d("IGDRepliedCollection.react",["fbt","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDRepliedMessageBubble.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=h._("__JHASH__537swtEPUOQ__JHASH__"),n={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=k(14),e=a.message,g=a.outgoing,h=e.replySourceId,j=e.threadKey,o=(i||(i=c("useReStore")))();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={eventName:"media_collection_replied_rendered"},b[0]=a):a=b[0];a=c("MessengerWebUXLogger").useImpressionLoggerRef(a);var p;b[1]!==h||b[2]!==j||b[3]!==o.tables.attachments?(p=function(){return h!=null&&j!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(j,h):d("ReQL").empty()},b[1]=h,b[2]=j,b[3]=o.tables.attachments,b[4]=p):p=b[4];var q;b[5]!==o||b[6]!==h||b[7]!==j?(q=[o,h,j],b[5]=o,b[6]=h,b[7]=j,b[8]=q):q=b[8];p=d("ReQLSuspense").useArray(p,q,f.id+":51");b[9]!==p||b[10]!==e||b[11]!==g||b[12]!==a?(q=p!=null?l.jsx(c("IGDMediaGrid.react"),{attachments:p,connectBottom:!1,connectTop:!1,logImpressionEventRef:a,onRenderMedia:function(a){if(d("IGDAttachmentUtil").isImageAttachment(a))return l.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:e,outgoing:g});return d("IGDAttachmentUtil").isVideoAttachment(a)?l.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:e,outgoing:g}):null},outgoing:g}):l.jsx(c("IGDRepliedMessageBubble.react"),{message:e,xstyle:n.italic,children:m}),b[9]=p,b[10]=e,b[11]=g,b[12]=a,b[13]=q):q=b[13];return q}g["default"]=a}),226);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).c,m=k,n=h._("__JHASH__ZBYp1F66CjG__JHASH__"),o={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=l(14),e=a.message;a=a.outgoing;var g=e.replyAttachmentId,h=e.replySourceId,k=e.threadKey,p=(i||(i=c("useReStore")))(),q;b[0]!==h||b[1]!==g||b[2]!==p.tables.attachments||b[3]!==k?(q=function(){return h!=null&&g!=null?d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(k,h,(j||(j=d("I64"))).to_string(g)):d("ReQL").empty()},b[0]=h,b[1]=g,b[2]=p.tables.attachments,b[3]=k,b[4]=q):q=b[4];var r;b[5]!==p||b[6]!==k||b[7]!==h||b[8]!==g?(r=[p,k,h,g],b[5]=p,b[6]=k,b[7]=h,b[8]=g,b[9]=r):r=b[9];q=d("ReQLSuspense").useFirst(q,r,f.id+":45");b[10]!==q||b[11]!==e||b[12]!==a?(r=q!=null?m.jsx(c("IGDChatImage.react"),{attachment:q,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:204,maxWidth:141.6,mediaRenderQpl:null,message:e,outgoing:a}):m.jsx(c("IGDRepliedMessageBubble.react"),{message:e,xstyle:o.italic,children:n}),b[10]=q,b[11]=e,b[12]=a,b[13]=r):r=b[13];return r}g["default"]=a}),226);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMediaUrlAttachment","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._("__JHASH__ZBYp1F66CjG__JHASH__"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h=(i||(i=c("useReStore")))(),j=g.replySourceId,n=g.threadKey,o=d("ReQLSuspense").useArray(function(){return j!=null?d("ReQL").fromTableAscending(h.tables.attachments).getKeyRange(n,j):d("ReQL").empty()},[h,j,n],f.id+":53").sort(d("IGDRepliedUtils").orderByUserSelection),p=o.length;if(p===0)return null;else if(p>1)return k.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:b,mediaRenderQpl:e,message:g,outgoing:a});p=o[0];return p!=null?k.jsx(c("IGDXMAAttachment.react"),{attachment:p,connectBottom:!1,connectTop:!1,getFaviconUrlXMA:function(a){return d("LSMediaUrlAttachment").faviconUrl(a)},getHeaderImageUrlXMA:function(a){return d("LSMediaUrlAttachment").headerImageUrl(a)},getPreviewImageUrlXMA:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:e,message:g,outgoing:a}):k.jsx(c("IGDRepliedMessageBubble.react"),{message:g,xstyle:m.italic,children:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedSticker.react",["fbt","CometPlaceholder.react","I64","IGDSticker.react","MWRepliesAttachment.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).c,m=k;function a(a){var b=l(21),e=a.isSecureMessage,g=a.mediaRenderQpl,k=a.message;a=a.outgoing;e=e===void 0?!1:e;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._("__JHASH__7nu6v4CDF6l__JHASH__"),b[0]=n):n=b[0];n=n;var o=(i||(i=c("useReStore")))(),p;b[1]!==k.replyAttachmentId||b[2]!==k.replySourceId||b[3]!==k.threadKey||b[4]!==o.tables.attachments?(p=function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(k.threadKey,b,(j||(j=d("I64"))).to_string(a)):d("ReQL").empty()},b[1]=k.replyAttachmentId,b[2]=k.replySourceId,b[3]=k.threadKey,b[4]=o.tables.attachments,b[5]=p):p=b[5];var q;b[6]!==o||b[7]!==k?(q=[o,k],b[6]=o,b[7]=k,b[8]=q):q=b[8];p=d("ReQLSuspense").useFirst(p,q,f.id+":41");if(p==null){b[9]!==a?(q=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:n}),b[9]=a,b[10]=q):q=b[10];return q}b[11]!==e||b[12]!==g||b[13]!==k||b[14]!==a?(n=m.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:k,outgoing:a}),b[11]=e,b[12]=g,b[13]=k,b[14]=a,b[15]=n):n=b[15];b[16]!==p?(q=m.jsx(c("IGDSticker.react"),{attachment:p}),b[16]=p,b[17]=q):q=b[17];b[18]!==n||b[19]!==q?(e=m.jsx(c("CometPlaceholder.react"),{fallback:n,children:q}),b[18]=n,b[19]=q,b[20]=e):e=b[20];return e}g["default"]=a}),226);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","cr:2472","mwv2MessageIsEmojiOnly","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var e=i(6),f=a.message;a=a.text;var g;e[0]!==a?(g=b("cr:2472")==null?a:b("cr:2472").unvault(a),e[0]=a,e[1]=g):g=e[1];g=g;var h;e[2]!==a||e[3]!==g||e[4]!==f?(h=c("mwv2MessageIsEmojiOnly")(a,!1)?j.jsx(c("IGDChatEmoji.react"),{text:a}):j.jsx(c("IGDRepliedMessageBubble.react"),{message:f,children:j.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:g,transforms:d("MWChatTextTransform").textTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})}),e[2]=a,e[3]=g,e[4]=f,e[5]=h):h=e[5];return h}g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(16),e=a.isSecureMessage,g=a.mediaRenderQpl,j=a.message;a=a.outgoing;e=e===void 0?!1:e;var m=j.replyAttachmentId,n=j.replySourceId,o=j.threadKey,p=(h||(h=c("useReStore")))(),q;b[0]!==n||b[1]!==m||b[2]!==p.tables.attachments||b[3]!==o?(q=function(){return n!=null&&m!=null?d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(o,n,(i||(i=d("I64"))).to_string(m)):d("ReQL").empty()},b[0]=n,b[1]=m,b[2]=p.tables.attachments,b[3]=o,b[4]=q):q=b[4];var r;b[5]!==p||b[6]!==m||b[7]!==n||b[8]!==o?(r=[p,m,n,o],b[5]=p,b[6]=m,b[7]=n,b[8]=o,b[9]=r):r=b[9];q=d("ReQLSuspense").useFirst(q,r,f.id+":38");b[10]!==q||b[11]!==g||b[12]!==j||b[13]!==e||b[14]!==a?(r=q!=null?l.jsx(c("IGDChatVideo.react"),{attachment:q,connectTop:!1,maxHeight:204,maxWidth:141.6,mediaRenderQpl:g,message:j,outgoing:!1}):l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:j,outgoing:a}),b[10]=q,b[11]=g,b[12]=j,b[13]=e,b[14]=a,b[15]=r):r=b[15];return r}g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction").set(b,g);e!=null&&((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",(h||(h=d("I64"))).to_string(f));return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return i(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger").startHeroInteractionTrace(g,b,f,d("MWVersion").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogContainer.react",["CometHideLayerOnEscape.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xcrg951 x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6",ref:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconDots3Vertical",["MWXSvgIcon","SVGIcon","cr:9121","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9121")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogFallback.react",["fbt","MWChannelPromptContributionsDialogContainer.react","MWXCircleButton.react","MWXGlimmer.react","MWXIconCross","MWXIconDots3Vertical","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={promptTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};function a(a){a=a.onClose;return j.jsx(c("MWChannelPromptContributionsDialogContainer.react"),{onClose:a,children:j.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._("__JHASH__l-5nlfLCheV__JHASH__"),onPress:a,size:24})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.promptTitle})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{disabled:!0,icon:c("MWXIconDots3Vertical"),label:h._("__JHASH__yyf5QdHy0uw__JHASH__"),size:24})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,h=g===void 0?!1:g;g=a.paddingHorizontal;var p=g===void 0?null:g;g=a.paddingTop;var q=a.paddingVertical;q=q===void 0?0:q;var r=a.spacing,s=r===void 0?null:r;r=a.verticalAlign;r=r===void 0?"top":r;var u=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]);var v=j(c("MDSColumnContext")),w=k(function(){return{align:e,hasDividers:h,paddingHorizontal:p,spacing:s}},[e,h,p,s]);a=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[l.root,f===!0&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],n[q],g!=null&&m[g],u],children:i.jsx(c("BaseView.react"),{xstyle:[l.inner,r!=="top"&&o[r]],children:i.jsx(c("MDSColumnContext").Provider,{value:w,children:t(d)})})}));if(v!=null){return i.jsx(c("MDSColumnItem.react"),{expanding:(b=f)!=null?b:void 0,children:a})}return a}a.displayName=a.name+" [from "+f.id+"]";d=e;var p={isFirst:!0,isLast:!1},q={isFirst:!1,isLast:!0},r={isFirst:!0,isLast:!0},s={isFirst:!1,isLast:!1};function t(a){return i.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?r:e?p:d?q:s;return i.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=d}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);var d=c("useCurrentDisplayMode")();return i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:[d==="dark"?j.dark:j.light,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWChannelPromptContributionsDialogFallback.react","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","gkx","mwCMIsAnyCMThread","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1],r=c("usePrevious")(b),s=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var t=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChannelPromptContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWChannelPromptContributionsDialogFallback.react"),{onClose:a})});var u=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var v=a[0],w=o(),x=d("MWLSThread").useThread(b,function(a){return c("mwCMIsAnyCMThread")(a.threadType)});m(function(){if(x!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&r!==b&&s!==f){d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",x?"cm_thread":"friends_family_thread","open_viewer");d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux();var a=c("gkx")("6355")?u:t;a({ctaType:p,rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)});c("promiseDone")(w(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&v({asCreator:!1,rendererStrategy:a})})}},[x,s,r,f,u,b,h,w,v,p,t]);return l(function(a,b,c,d){e(b),g(a),i(c),q(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","gkx","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message,m=a.outgoing,n=a.renderAttachment,o=a.renderCollection,p=a.renderExpiredMessage,q=a.renderGIF,r=a.renderMedia,s=a.renderPost,t=a.renderRaven,u=a.renderRemovedMessage,v=a.renderRollcallContribution,w=a.renderSticker,x=a.renderStory,y=a.renderTextMessage,z=a.renderUnavailableMessage;a=a.renderVideo;var A=h.replyAttachmentId,B=h.replyAttachmentType,C=h.replyMessageText,D=A!=null||h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY));B!=null&&D&&(!e||h.replyStatus!=null&&!(i||(i=d("I64"))).equal(h.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))?((i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))?D=k.jsx(x,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):A!=null?(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?r!=null?D=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?v!=null?D=k.jsx(v,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?c("gkx")("2982")&&o!=null?D=k.jsx(o,{message:h,outgoing:m}):r!=null?D=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?D=k.jsx(a,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?q!=null?D=k.jsx(q,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))?w!=null?D=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))?D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):s!=null?D=k.jsx(s,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(B),"messenger_comet"):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&w!=null?D=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&n!=null?C!=null&&C!==""?D=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:C}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=null:A!=null?h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&C!=null&&C!==""?D=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:C}):r!=null?D=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):B!=null&&(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&t!=null?D=k.jsx(t,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):h.replyStatus!=null&&(i||(i=d("I64"))).equal(h.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?u!=null?D=k.jsx(u,{outgoing:m}):D=null:h.replyStatus!=null&&(i||(i=d("I64"))).equal(h.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?p!=null?D=k.jsx(p,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=null:h.replyStatus!=null&&(i||(i=d("I64"))).equal(h.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?z!=null?D=k.jsx(z,{outgoing:m}):D=null:C!=null&&h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?C!==""?D=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:C}):D=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D=null;e=k.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:D});var E=h.replySourceTimestampMs,F=h.replySourceId,G=c("useMWJumpToMessage")("Pinned");x=B!=null&&((i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(B,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var H=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();v=c("useIsRollcallEnabled")(h.threadKey);if(F!=null&&E!=null&&b){o=function(){G(F,E)};if(x&&v){var I=(i||(i=d("I64"))).of_string((a=h.replyAttachmentExtra)!=null?a:"0"),J=h.threadKey,K=(q=h.replySourceId)!=null?q:null;o=function(){H(I,J,K,null)}}return k.jsx(c("MWXPressable.react"),{onPress:o,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:e})}else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;k(function(){b==null?void 0:b.addPoint("render-replies-expired"),b==null?void 0:b.endSuccess()},[b]);var d=h._("__JHASH__LRWYiWT4b63__JHASH__");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="ChatTab";return{maxHeight:100,maxWidth:a?180:300}}g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWPThreadCapabilitiesContext","MWXMessageImage.react","cr:4509","gkx","react","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback,l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.imageAlt;f=f===void 0?"":f;var g=a.isSticker;g=g===void 0?!1:g;var h=a.mediaRenderQpl,m=a.outgoing,n=a.src;a=a.width;var o=c("useMWRepliesImageGetMaxDimensions")(),p=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();p=p.blurMediaEnabled;p=c("gkx")("24098")&&p;m=g?!1:m?l.outgoing:l.incoming;var q=k(function(){h==null?void 0:h.endFail("load-image-error")},[h]),r=k(function(){h==null?void 0:h.endSuccess()},[h]);f=j.jsx(c("MWXMessageImage.react"),{alt:f,height:e!=null?(i||(i=d("I64"))).to_float(e):void 0,maxHeight:o.maxHeight,maxWidth:o.maxWidth,onError:q,onLoad:r,src:n,width:a!=null?(i||(i=d("I64"))).to_float(a):void 0,xstyle:[l.root,g&&l.rootHasSticker,m]});return b("cr:4509")!=null&&p&&!g?j.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:n,xstyle:[l.root,m],children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MWMediaRenderQplUtils","MWRepliesImage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useEffect;function a(a){var b=babelHelpers["extends"]({},a);m(function(){var a;(a=b.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-story")},[b.mediaRenderQpl]);return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(n,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.mediaRenderQpl,g=a.message;a=a.outgoing;var i=g.replySourceId;i=i!=null?e?i:(i=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+i),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(i=i.setProtocol("https"))==null?void 0:i.toString():void 0;d("Int64Hooks").useEffectInt64(function(){f==null?void 0:f.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:g.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:g.replyAttachmentPlaintextHash!=null,has_reply_mime_type:g.replyMediaUrlMimeType!=null,has_reply_source_id:g.replySourceId!=null}}),f==null?void 0:f.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},[f,g.replyAttachmentId,g.replyAttachmentPlaintextHash,g.replyMediaUrlMimeType,g.replySourceId]);e=b("cr:9765")!=null&&e?function(a){if(c("gkx")("6417")){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesStory",f):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",f):null}:c("getLSMediaMessageReplyMediaUrl");var n=e(g);m(function(){n==null&&(f==null?void 0:f.endFail("missing-reply-media",{bool:{has_plaintexthash:g.replyAttachmentPlaintextHash!=null}}))},[f,g.replyAttachmentPlaintextHash,n]);return n==null?null:l.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:i!=null?{url:i}:void 0,overlayDisabled:!0,children:l.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:f,outgoing:a,src:n})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedCollection.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedSticker.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.react","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesStory.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d=a.isSecureMessage,e=a.message;a=a.outgoing;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f=j.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:d,mediaRenderQpl:null,message:e,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderCollection:c("IGDRepliedCollection.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("IGDRepliedMedia.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("IGDRepliedSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")}),b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(d=j.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:f}),b[4]=a,b[5]=f,b[6]=d):d=b[6];return d}g["default"]=a}),98);
__d("MWMessageEditContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=c.useState,m={setShowEdits:function(){},showEdits:!1},n=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?m:a;a=l((a=a==null?void 0:a.showEdits)!=null?a:!1);var c=a[0],d=a[1];a=k(function(){return{setShowEdits:d,showEdits:c}},[c]);return i.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(n)}g.MWMessageEditContextProvider=a;g.useMWMessageEditContext=b}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.hasPadding;a=a.separatorStyle;var e=c("MessengerWebUXLogger").useInteractionLogger(),f=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},g=f.setShowEdits,i=f.showEdits;function k(){i||(c("QPLUserFlow").start(c("qpl")._(1056849214,"1777")),e==null?void 0:e({eventName:"edit_message_history"})),g(!i)}f=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var l=i?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__3fxL6sM27ni__JHASH__"),m=i?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__0I22sJ_f1hm__JHASH__");return j.jsxs(j.Fragment,{children:[a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:m,position:"above",tooltip:m,children:j.jsx(c("MWXLink.react"),{"aria-label":l,color_DEPRECATED:d("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:k,ref:f,style:babelHelpers["extends"]({color:"var(--mwp-primary-theme-color)"},b===!0&&{paddingTop:6}),weight_DEPRECATED:"medium",children:j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:l})})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.enableEditHistory;b=b===void 0?!0:b;var d=a.hasPadding;a=a.separatorStyle;return b?j.jsx(k,{hasPadding:d,separatorStyle:a}):j.jsx(c("MWEditedEyebrowLabel.react"),{separatorStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=k;g.MWEditedEyebrow=a}),226);
__d("IGDReplySnippet.react",["IGDSText.react","MWEditedEyebrow.react","isMWEditedMessage","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={container:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x889kno",$$css:!0},containerIncoming:{paddingStart:"xurb0ha",$$css:!0},containerOutgoing:{paddingEnd:"x1sxyh0",$$css:!0},separator:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=j(12),e=a.message;a=a.outgoing;var f=e.replySnippet,g;b[0]!==e?(g=c("isMWEditedMessage")(e),b[0]=e,b[1]=g):g=b[1];e=g;if(f!=null){g=a?l.containerOutgoing:l.containerIncoming;b[2]!==g?(a=(h||(h=c("stylex")))(l.container,g),b[2]=g,b[3]=a):a=b[3];b[4]!==e?(g=e&&k.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{separatorStyle:l.separator}),b[4]=e,b[5]=g):g=b[5];b[6]!==f||b[7]!==g?(e=k.jsxs(c("IGDSText.react").Footnote,{color:"secondaryText",children:[f,g]}),b[6]=f,b[7]=g,b[8]=e):e=b[8];b[9]!==a||b[10]!==e?(f=k.jsx("div",{className:a,children:e}),b[9]=a,b[10]=e,b[11]=f):f=b[11];return f}else return null}g["default"]=a}),98);
__d("MWAttachmentContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a([]);g["default"]=b}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={root:{marginStart:"x16n37ib",$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;var h=b.attachmentCta1Id;b=b.attachmentCta2Id;var m=c("useMWPGetAttachmentCTA")(h);h=c("useMWPGetAttachmentCTA")(a?h:b);var n=d("MWSearchPluginUtils").useSearchPluginSources(h==null?void 0:h.nativeUrl);b=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var o=f[0];f=b?"highlight":"blueLink";b=b?"bodyLink4":"body4";var p=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),q=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},p)),r=c("MessengerWebUXLogger").useInteractionLogger(),s=j(function(){r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},p))},[r,p]),t=j(function(){n!=null&&(r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},p)),o({botResponseId:e,sources:n}))},[e,p,r,o,n]);return i.jsxs(c("BaseView.react"),{ref:q,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),a?i.jsx("div",{className:"x78zum5 x1q0g3np",children:i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})}):i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:m==null?void 0:m.actionUrl},onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:m!=null&&m.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})]}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState,m=d({addMessageId:c("emptyFunction"),findMessageId:c("emptyFunction").thatReturnsFalse});function a(a){a=a.children;var b=l([]),c=b[0],d=b[1];b=k(function(){return{addMessageId:function(a){d([a].concat(c))},findMessageId:function(a){return c.find(function(b){return b===a})!=null}}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWBlockingProtectionContext.react","MWPContactContext.react","ReQL","ReQLSuspense","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=(k||(k=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["threadType"]).getKeyRange(a).map(function(a){return a.threadType})},[b,a],f.id+":32");return e==null?!1:(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(18))}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function m(a,b){var e=(k||(k=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":71");b=l(b);return b&&g?!(i||(i=d("I64"))).equal(g.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a){var b=m(a.senderId,a.threadKey),d=c("MWBlockingProtectionContext.react").useHook();d=d.findMessageId;var e=l(a.threadKey);return e&&b&&!d(a.messageId)}function e(a,b){var e,g=(k||(k=c("useReStore")))(),l=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)},[g,a],f.id+":110"))==null?void 0:e.senderId;e=d("ReQLSuspense").useFirst(function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(l):d("ReQL").empty()},[g,l],f.id+":114");var m=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&m))return null;m=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(m==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}return h._("__JHASH__rZMtLmsbvnM__JHASH__",[h._param("blocked contact's name",m)]).toString()}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=m;g.useMWShouldHideReply=b}),226);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","gkx","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256].concat(c("gkx")("4809")?[65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864]:[],[4096,512]).filter(Boolean);function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||b.isExpired||a.isExpired||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,k=a.isNextMessagePinned,l=a.isSearchPluginAttachment,m=a.mediaRenderQpl,n=a.message,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.shouldRenderMessageContent;a=a.xmaLayout;var v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.disableLinks;var w=c("MWPMessageIsReply")(n),x=c("isMWEditedMessage")(n),y=o!=null&&c("isMWEditedMessage")(o),z=d("MWPMessageParsingUtils").hasText(n),A=c("MWPMessageHasXMA")(n),B=d("MWPMessageReactions.react").useReactions(n);B=B.length>0;var C=d("MWPMessageReactions.react").useReactions(q);C=C.length>0;var D=c("gkx")("24165")&&v&&A&&n.textHasLinks;j(function(){m==null?void 0:m.addAnnotations({bool:{message_type_supports_attachment:c("mwpMessageHasAttachment")(n)}}),c("mwpMessageHasAttachment")(n)&&!D&&(m==null?void 0:m.addPoint("base-message-render-attachment"))},[m,n,D]);v=c("isMWBumpMessage")(n);v=!v&&A&&b==="below"&&!D&&!l;A=b==="below"?!w&&!f&&!h&&!x&&!C:!1;l=!g&&!k&&!y&&!B||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?v:!1);u?f=n.text!=null?e?w?i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)}):w?null:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[A?i.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)})]}):n.text!==""?i.jsxs(i.Fragment,{children:[A||b==="above"?i.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,i.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[p?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!w,children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t(n,A,l,v,p),p?null:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!w,children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var E;c("mwpMessageHasAttachment")(n)&&!D&&(E=r(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(n,q,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(n,o,b),z));return i.jsxs(i.Fragment,{children:[b==="above"?E:null,f,b==="below"?E:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDeferredValue;function a(a){var b=(h||(h=c("useReStore")))(),e=!!d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.tables.msg_pinned_messages_v2).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a],f.id+":29"),g=!!d("ReQLSuspense").useFirst(function(){return a!=null&&!a.isUnsent?d("ReQL").fromTableAscending(b.tables.client_web_pinned_messages).getKeyRange(a.threadKey,a.offlineThreadingId):d("ReQL").empty()},[b,a],f.id+":39");return j(e||g&&c("gkx")("4552"))}g["default"]=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.mediaRenderQpl,l=a.message,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.shouldRenderMessageContent,t=a.xmaLayout,u=c("useMWPIsMessagePinned")(l),v=c("useMWPIsMessagePinned")(m);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:u,isNextMessagePinned:v,isSearchPluginAttachment:h,mediaRenderQpl:k,message:l,nextMessage:m,outgoing:n,prevMessage:o,renderAttachment:p,renderEmoji:q,renderMessageBubble:r,shouldRenderMessageContent:s,xmaLayout:t})},[b,e,f,g,u,v,h,k,l,m,n,o,p,q,r,s,t])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPIsMessageUnsupported",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).zero)&&b.length===0}g["default"]=a}),98);
__d("MAWMediaDownloadStatusUIStateType",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return!1;switch(a){case"non_retryable_error":case"non_retryable_error_with_preview":case"retryable_error":case"retryable_error_with_preview":return!0;default:return!1}}function b(a){if(a==null)return!1;switch(a){case"retryable_error":case"retryable_error_with_preview":return!0;default:return!1}}f.isErrorState=a;f.isRetryableErrorState=b}),66);
__d("isReceiverFetchSticker",["I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.attachmentType;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER));a=a.receiverFetchId;return b&&a!=null}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatus",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWMediaDownloadStatus","MAWStateContext.react","MessagingAttachmentType","WAHashUtils","isReceiverFetchSticker","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useContext,l=b.useEffect,m=b.useMemo,n=new Set();function a(a){var b=d("MAWStateContext.react").useMAWSelector(function(a){return a.mediaDownloadStatus}),e=d("MAWStateContext.react").useMAWSelector(function(a){return a.mediaDownloadRetryCount}),f=m(function(){return a.map(function(a,f){var g=a.attachment;a=a.mediaRenderQpl;var h=c("isReceiverFetchSticker")(g),k=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)),l=h?g.messageId:g.attachmentFbid,m=Object.prototype.hasOwnProperty.call(b,l),n=g.transportKey==="FBBroker"||g.transportKey==="FBLegacyBroker";g=!n&&(i||(i=d("I64"))).to_int32(g.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;var o=g?{mainMediaStatus:c("MAWMediaDownloadStatus").SUCCESS,mainMediaStatusDetails:"optimistic_secure_upload",previewMediaStatus:c("MAWMediaDownloadStatus").SUCCESS,previewMediaStatusDetails:"optimistic_secure_upload"}:m?b[l]:null;return{attachmentsData:{hasStatus:m,isOpenThreadAttachment:n,isOptimisticSecureUpload:g,isReceiverFetch:h,isXMA:k,retryCount:(m=e[l])!=null?m:0,status:o,statusKey:l},index:f,mediaRenderQpl:a}})},[a,e,b]);o(f);return f.map(function(a){a=a.attachmentsData;return a})}function o(a){var b=k(d("MAWStateContext.react").MAWStateContext),e=b.dispatch;l(function(){a.forEach(function(a){var b=a.attachmentsData,f=a.index,g=a.mediaRenderQpl;a=b.hasStatus;var h=b.isOpenThreadAttachment,i=b.isOptimisticSecureUpload,j=b.isReceiverFetch,k=b.isXMA,l=b.statusKey;if(k||i||h||j||l==null||a||n.has(l))return;n.add(l);var m=isNaN(l);g==null?void 0:g.addPoint("fetch-initial-download-status-"+f+"-start",{string:{fetch_by:m?"plaintext_hash":"media_id"}});b=m?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByPlaintextHash",{plaintextHash:d("WAHashUtils").stringToPlaintextHash(l),qplInstanceKey:g==null?void 0:g.getInstanceKey()}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(parseInt(l,10)),qplInstanceKey:g==null?void 0:g.getInstanceKey()});c("promiseDone")(b.then(function(a){g==null?void 0:g.addPoint("fetch-initial-download-status-"+f+"-end",{bool:{has_result:a!=null},string:{fetch_by:m?"plaintext_hash":"media_id",main_media_status:p(a==null?void 0:a.mainMediaStatus),preview_media_status:p(a==null?void 0:a.previewMediaStatus)}}),a!=null&&e({tag:"SetMediaDownloadStatusState",value:{key:m?d("WAHashUtils").stringToPlaintextHash(l):d("MAWDbMedia").convertNumberToMediaId(parseInt(l,10)),newMediaDownloadState:a}})}))})},[e,a])}function p(a){if(a==null)return"UNKNOWN";switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case c("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE"}}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatusUIState",["I64","LSIntEnum","LSMediaUrlUtils","MAWLoggerUtils","MAWMediaDownloadStatus","MessagingAttachmentType","WATagsLogger","react","useMAWBulkMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["useMAWMediaDownloadStatusUIState: unexpected download status"]);k=function(){return a};return a}var l=(h||d("react")).useMemo,m=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.MediaDownload]),n=5;function a(a){var b=c("useMAWBulkMediaDownloadStatus")(a);return l(function(){return b.map(function(b,e){var f,g=b.retryCount;b=b.status;f=(f=b)!=null?f:{};var h=f.mainMediaStatus;f=f.previewMediaStatus;e=a[e].attachment;if(e.receiverFetchId!=null&&d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(e.previewUrl,e.previewUrlExpirationTimestampMs))return"downloaded";g=g>=n;var i=b==null||h===c("MAWMediaDownloadStatus").DOWNLOADING||h===c("MAWMediaDownloadStatus").MISSING_FILE,j=h===c("MAWMediaDownloadStatus").SUCCESS,l=h===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,p=l&&g;h=h===c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;b=b==null||f===c("MAWMediaDownloadStatus").DOWNLOADING||f===c("MAWMediaDownloadStatus").MISSING_FILE||f===void 0&&i;var q=f===c("MAWMediaDownloadStatus").SUCCESS,r=f===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE||f===void 0&&l;g=r&&g;f=f===c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE||f===void 0&&h;e=o(e);if(e&&!b){if(q||j){if(h||p)return"non_retryable_error_with_preview";else if(l)return"retryable_error_with_preview";return"downloaded"}else if(f||g)return"non_retryable_error";else if(r)return"retryable_error"}else if(j)return"downloaded";else if(h||p)return"non_retryable_error";else if(l)return"retryable_error";else if(i)return"loading";m.WARN(k());return"loading"})},[a,b])}function o(a){if(a==null)return!1;a=a.attachmentType;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))}g["default"]=a}),98);
__d("useGetMediaGroupInformation",["I64","MAWGetIsMediaDownloadStatusEnabled","MAWMediaDownloadStatusUIStateType","ReQL","ReQLSuspense","gkx","react","useMAWBulkMediaDownloadStatusUIState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g,j,k,m=(h||(h=c("useReStore")))(),n=a.groupId,o=a.threadKey;g=(i||(i=d("I64"))).to_int32((g=a.groupIndex)!=null?g:(i||(i=d("I64"))).zero);j=i.to_int32((j=a.groupSize)!=null?j:(i||(i=d("I64"))).zero);var p=b&&c("gkx")("5318")===!0&&n!=null&&a.groupIndex!=null&&a.groupSize!=null&&j>1;b=p?4:0;p&&j<4&&(b=j);var q=d("ReQLSuspense").useArray(function(){return p&&n!=null?d("ReQL").fromTableDescending(m.tables.messages.index("messageGroupId")).getKeyRange(n).map(function(a){var b;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(m.tables.attachments).getKeyRange(o,a.messageId),f.id+":95"))!=null?b:null;return{attachment:b,message:a}}):d("ReQL").empty()},[m,n,o,p],f.id+":87").sort(function(a,b){return(i||(i=d("I64"))).to_int32((a=a.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)-i.to_int32((a=b.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)}),r=p&&q.length>=1?(a=q[0])==null?void 0:a.message:null;a=d("ReQLSuspense").useFirst(function(){return p&&r!=null?d("ReQL").fromTableAscending(m.tables.messages.index("messageDisplayOrder")).getKeyRange(r.threadKey).bounds({gte:d("ReQL").key(r.primarySortKey)}).filter(function(a){return a.groupId!==r.groupId}).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[m,r,p],f.id+":119");e=l(q,p,e);var s=e.attachmentsToRetryDownload,t=e.mediaDownloadErrorsCount;e=e.mediaDownloadStatuses;if(p!==!0)return null;k=q.length>=1?(i||(i=d("I64"))).to_int32((k=(k=q[0])==null?void 0:(k=k.message)==null?void 0:k.groupIndex)!=null?k:(i||(i=d("I64"))).zero):0;k=g===k;var u=new Array(b),v=function(a){var b=q.findIndex(function(b){return b.message.groupIndex!=null&&(i||(i=d("I64"))).to_int32(b.message.groupIndex)===a});b===-1?u[a]={attachment:null,message:null}:u[a]={attachment:q[b].attachment,message:q[b].message}};for(var w=0;w<b&&w<b;++w)v(w);return{attachmentsToRetryDownload:s,groupId:n,groupIndex:g,groupSize:j,groupsLastMessage:q!=null&&q.length>0?q[q.length-1].message:null,groupsNextMessage:(v=a)!=null?v:null,hasAllMessagesSent:q.every(function(a){return(i||(i=d("I64"))).equal(a.message.sendStatusV2,i.of_int32(2))}),hasMissingMedia:q.some(function(a){return a.attachment==null}),hasMissingMessages:q.length!==j,isFirstMediaMessageInGroup:k,isMediaGroupLastMessage:a==null,mediaDownloadErrorsCount:t,mediaDownloadStatuses:e,messagesAndAttachments:q,messagesAndAttachmentsShownInGroup:u,tileSize:b}}function l(a,b,e){var f=k(function(){return!b||d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()!==!0?[]:a.map(function(a){a=a.attachment;return a}).filter(Boolean).map(function(a){return{attachment:a,mediaRenderQpl:e}})},[a,b,e]),g=c("useMAWBulkMediaDownloadStatusUIState")(f),h=k(function(){return g!=null?g:[]},[g]),i=k(function(){return h.filter(function(a){return d("MAWMediaDownloadStatusUIStateType").isErrorState(a)})},[h]),j=k(function(){return f.filter(function(a,b){return d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(h[b])}).map(function(a){a=a.attachment;return a})},[f,h]);i=i.length;return{attachmentsToRetryDownload:j,mediaDownloadErrorsCount:i,mediaDownloadStatuses:h}}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWAttachmentContext","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPIsMessageUnsupported","MWPMessageListColumn.react","MessengerWebUXLogger","mwv2MessageIsEmojiOnly","react","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext,l={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingEnd:"x1pi30zi",$$css:!0},footerForGroupedImageTile:{paddingEnd:"x1tyevoi",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(a,b){if(d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("mwv2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment;h=h===void 0?!1:h;var i=a.isSecureMessage,n=a.mediaRenderQpl,o=a.message,p=a.nextMessage,q=a.outgoing,r=a.prevMessage,s=a.reactions;a.reactionsV2;var t=a.renderAttachment,u=a.renderEmoji,v=a.renderMessageBubble,w=a.renderMessageContainer,x=a.renderMessageFooter,y=a.renderMessageFromBlockee,z=a.renderUnsentMessage,A=a.renderUnsupportedMessage,B=a.shouldRenderMessageContent;B=B===void 0?!0:B;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var C=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),D=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(o.threadKey),E=c("MWBlockingProtectionContext.react").useHook(),F=E.addMessageId;E=E.findMessageId;i=c("useGetMediaGroupInformation")(o,(i=i)!=null?i:!1,n);var G=k(c("MWAttachmentContext"));G=c("MWPIsMessageUnsupported")(o,G);if(o.isUnsent)if(z!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:z()});else return null;if(G)if(A!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:A()});else return null;if(!E(o.messageId)&&D&&y!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:y(function(){F(o.messageId)})});z=m(o,e);G=j.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:z,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:h,mediaRenderQpl:n,message:o,nextMessage:p,outgoing:q,prevMessage:r,renderAttachment:t,renderEmoji:u,renderMessageBubble:v,shouldRenderMessageContent:B,xmaLayout:a});return j.jsxs(j.Fragment,{children:[j.jsxs(d("react-strict-dom").html.div,{ref:C,role:"none",style:l.row_container,children:[q?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,w!=null?w(G,[l.container,q?l.outgoing:!1]):j.jsx(d("react-strict-dom").html.div,{style:[l.container,q?l.outgoing:!1],children:G}),q?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),j.jsxs(j.Fragment,{children:[z&&s.length>0?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("react-strict-dom").html.div,{style:[i!=null&&i.groupSize>=4&&l.footerForGroupedImageStack,!q&&i!=null&&i.groupSize<4&&l.footerForGroupedImageTile],children:x()})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("getMessengerPreciseTimestamp",["$InternalEnum","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["TODAY","WEEK_AGO","CURRENT_YEAR","OTHER_YEAR"]);d=864e5;var i=6*d;function j(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return h.TODAY;if(b.getTime()-i<a.getTime())return h.WEEK_AGO;return b.getFullYear()===a.getFullYear()?h.CURRENT_YEAR:h.OTHER_YEAR}function k(a){a=j(a);switch(a){case h.TODAY:return"g:ia";case h.WEEK_AGO:return"l g:ia";case h.CURRENT_YEAR:return"F jS, g:ia";case h.OTHER_YEAR:return"F j, Y g:i a"}}function a(a){return c("formatDate")(new Date(a),k(a))}g["default"]=a}),98);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),226);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=m(function(){return o(e,b)});var g=a[0],i=a[1];a=n(g);var j=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec),g===0&&(f==null?void 0:f())},[g,e,f]);return g>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.handleMessageExpired;return i.jsx("div",{"aria-hidden":b,className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x1e558r4 x150jy0e x1vjfegm",children:i.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e,handleMessageExpired:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubbleRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOn:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0},bubble:{minWidth:"xeuugli",zIndex:"x1vjfegm",$$css:!0},container:{display:"x78zum5",$$css:!0},containerRight:{flexDirection:"x15zctf7",$$css:!0},opaque:{backgroundColor:"x1eb86dx",$$css:!0},paddingBottom:function(a){return[{paddingBottom:"x9q6w0x",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},paddingEnd:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return[{paddingEnd:"xd5rl1",paddingLeft:null,paddingRight:null,$$css:!0},{"--paddingEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]}),paddingStart:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return[{paddingStart:"xfzia1k",paddingLeft:null,paddingRight:null,$$css:!0},{"--paddingStart":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]}),spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}},k={bottom:{alignSelf:"xpvyfi4",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},l={left:{end:j.paddingStart,start:j.paddingEnd},right:{end:j.paddingEnd,start:j.paddingStart}};function m(a){var b=a.children,c=a.gap,e=a.paddingBottom,f=a.rowAlign,g=a.testid;g=a.type;a=a.verticalAlign;return b!=null?i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.opaque,j.addOn,e!=null&&j.paddingBottom(e),c!=null&&l[f][g](c)],children:i.jsx(d("react-strict-dom").html.div,{style:[j.container,f==="right"&&j.containerRight,k[a]],children:b})}):null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.addOnEnd,c=a.addOnEndGap;c=c===void 0?0:c;var e=a.addOnEndVerticalAlign;e=e===void 0?"center":e;var f=a.addOnPaddingBottom;f=f===void 0?0:f;var g=a.addOnStart,h=a.addOnStartGap;h=h===void 0?0:h;var k=a.addOnStartVerticalAlign;k=k===void 0?"center":k;var l=a.align;l=l===void 0?"right":l;var n=a.children,o=a.opaque;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;return i.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,l==="right"&&j.containerRight,o&&j.opaque,p],children:[i.jsx(m,{gap:h,paddingBottom:f,rowAlign:l,testid:void 0,type:"start",verticalAlign:k,children:g}),n!=null?i.jsx(d("react-strict-dom").html.div,{style:j.bubble,children:n}):null,i.jsx(m,{gap:c,paddingBottom:f,rowAlign:l,type:"end",verticalAlign:e,children:b}),i.jsx(d("react-strict-dom").html.div,{style:[j.opaque,j.spacer]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","cr:8668","react","stylex","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo,p=(m=b("cr:8668"))!=null?m:c("useEmptyFunction");function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function q(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var r={container:{display:"x78zum5",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0}};function e(a){var b,e=a.children,f=a.handleMessageExpired,g=a.hasMessageEmphasisRing,i=a.hasReactions,j=a.message,k=a.outgoing,m=a.renderGutterItem,n=a.renderMessageActions,o=a.renderMultiReactions;a=a.renderProfile;var s=c("MWPMessageIsReply")(j),t=j.ephemeralExpirationTs,u=j.ephemeralDurationInSec,v=j.isUnsent,w=d("MWMessageDeliveryStatus").getFromSendStatus(j.sendStatusV2).type==="Sending";b=(b=p(j.threadKey))!=null?b:!1;b=b;o=o&&o();var x=o!=null;j=l.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:q(j)?l.jsxs(l.Fragment,{children:[t!=null&&!v?l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:u,expirationTimestamp:t,handleMessageExpired:f}):null,n(w)]}):l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),addOnEndVerticalAlign:b?"bottom":"center",addOnPaddingBottom:i?18:0,addOnStart:k?m():l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:a()}),addOnStartVerticalAlign:"bottom",align:k?"right":"left",opaque:!k||s||g===!0,testid:void 0,children:e});return x?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[j,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(r.container,r.multiReact,k?r.multiReactOutgoing:r.multiReactIncoming),children:o})})]}):j}e.displayName=e.name+" [from "+f.id+"]";function s(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}s.displayName=s.name+" [from "+f.id+"]";b={"mwp-reply-background-color":"var(--comment-footer-background)"};m={"mwp-reply-background-color":"var(--comment-footer-background)"};var t={dark:m,light:b,type:"VARIABLES"};function u(a){var b=a.children,e=a.domElementRef;a.message;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?t:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(t,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}u.displayName=u.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=e;g.MWPBaseMessageListRowFooter=s;g.MWPBaseMessageListRow=u}),98);
__d("MWMessageListDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=i.createContext("standard");function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(l);return k(function(){return{isPinnedMessageList:a==="pinnedMessages",isReportMessageList:a==="reportMessages",isStandardMessageList:a==="standard"}},[a])}g.MWMessageListDisplayContextProvider=a;g.useMWMessageListDisplayContext=b}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b.getTime()-h<a.getTime())return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];var e=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&j.jsx(d("react-strict-dom").html.span,{style:k.visuallyHidden,children:c!=null&&!a?c:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseHovercardTrigger.react")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityAdminModerationActionsFetchStoredProcedure";e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.fbGroupId;d[1]=b.targetUserId;d[2]=b.source;d[3]=b.threadId;d[4]=b.requestId;return c("LSIssueCommunityAdminModerationActionsFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("useMWCMIsSenderAdModOrChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MWCMGetValidId","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g){var j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var i=function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWCMGetValidId").MWCMHasValidFbGroupId(a)&&(yield j.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:g,threadId:e})},"readwrite",void 0,void 0,f.id+":47"))});return function(){return i.apply(this,arguments)}}();c("promiseDone")(i())},[j,a,g,e]);var k=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(j.tables.community_members.index("communityContact")).getKeyRange(a,g,c("pageID")):d("ReQL").empty()},[j,a,g],f.id+":66"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin,m=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;k=k!=null?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,k):!1;return{isAdmin:l,isChatHost:k,isModerator:m}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","BaseMiddot.react","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;b=c("useMWCMIsSenderAdModOrChatHost")(b,a,e);e=b.isAdmin;var g=b.isChatHost;b=b.isModerator;var i=h._("__JHASH__l4xCpI5VHpV__JHASH__"),k=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=j.jsx(c("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return j.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return j.jsx(j.Fragment,{children:f&&(e||b||g)&&j.jsxs(j.Fragment,{children:[j.jsx(c("BaseMiddot.react"),{}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:e?i:b?k:a})]})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return!d("MWCMGetValidId").MWCMHasValidFbGroupId(b,!1)?null:j.jsx(k,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:9003","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9003")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:9019","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9019")),c("gkx")("23219"));g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","ReQL","ReQLSuspense","isMWEditedMessage","react","react-strict-dom","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingStart:"x1e558r4",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx(d("react-strict-dom").html.div,{style:[n.container,a?n.alignEnd:n.alignStart],children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,g=a.message,l=a.outgoing,p=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderTextWrapper;a=a.shouldRenderSenderName;var s=d("MWPMessageAuthor.react").useAuthorName();s=s[0];var t=d("MWPContactContext.react").useMWPContactStableContext(),u=t.contact;t=t.nickname;var v=d("Actor").useActor();v=v[0];var w=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),x=w.isReportMessageList,y=(i||(i=c("useReStore")))(),z=d("MWLSThread").useThread(g.threadKey,function(a){return a.parentThreadKey}),A=d("ReQLSuspense").useFirst(function(){return z?d("ReQL").fromTableAscending(y.tables.community_folders).getKeyRange(z).map(function(a){return a.folderId}):d("ReQL").empty()},[y,z],f.id+":110"),B=c("isMWEditedMessage")(g);w=d("MWPThreadIsPage.react").useIsPage();var C=d("MWLSThread").useThread(g.threadKey,function(a){return a.threadType});C=C!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(C);var D=u?!(j||(j=d("I64"))).equal(u.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;w=w&&!(j||(j=d("I64"))).equal(g.senderId,g.threadKey)&&!l;var E=a||w&&!C,F=u?d("LSContactBitOffset").has(77,u):!1,G=u?d("LSContactBitOffset").has(84,u):!1,H=c("useMWPIsMessagePinned")(g);a=c("usePinnedTextAnimation")(H);var I=a.mountAnimation,J=a.unmountAnimation,K=g.isPaidPartnership===!0;w=E||H||B||K;u=(C=t)!=null?C:h._("__JHASH__4LwiFWKMkVy__JHASH__");a=v===(j||(j=d("I64"))).to_string(g.senderId);t=a?u.toString():s==null?void 0:s.toString();var L=e&&b;C=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!w)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:g,outgoing:l});v=function(a){var e=E&&a!=null||H||D;a=m.jsx(o,{outgoing:l,children:r(m.jsxs(d("react-strict-dom").html.span,{style:n.color,children:[(E||D)&&a!=null&&m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:A,message:g,shouldRenderSenderName:E}),H&&!D&&m.jsx(d("react-strict-dom").html.span,{style:H?I:J,children:q(g,E)}),D&&m.jsxs(m.Fragment,{children:[m.jsx(d("react-strict-dom").html.span,{children:m.jsx(c("BaseMiddot.react"),{})}),m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:h._("__JHASH__3kkmPi45q6Z__JHASH__")})]}),B&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!L&&!b,separatorStyle:e?n.separator:null}),F===!0?m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconBot"),size:12})}):null,G&&m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"primaryAccent",icon:c("MWXIconBadgeCheckmark"),size:12})}),K&&p!=null&&p(g)]}))});return x?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return g.takedownState!=null?v(C.toString()):v(t)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.isLastMessageInGroup,j=a.message,n=a.outgoing,o=a.renderForwardSnippet,p=a.renderMessageEyebrows,q=a.renderPaidPartnerShipText,r=a.renderPinnedText,s=a.renderReplySnippet,t=a.renderTextWrapper;a=a.renderTimestamp;var u=c("MWPMessageIsReply")(j);o=m(j,o,s,n);s=d("MWPContactContext.react").useMWPContactStableContext();s=s.nickname;var v=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();v=v.isReportMessageList;s=f&&s!=null&&e;e=b||g&&f&&!n&&!u||s;o!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,n?l.alignEnd:!1),role:"none",children:v?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:o}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:o})}):p!=null?b=p(j,n,t,e):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:j.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{isFirstMessageInGroup:f,isLastMessageInGroup:i,message:j,outgoing:n,renderPaidPartnerShipText:q,renderPinnedText:r,renderTextWrapper:t,shouldRenderSenderName:e})});g=o!=null?l.timestampWithSnippet:l.timestamp;u=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:j,renderText:t,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:n?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),u!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:u})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useRef,k=i.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=j(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return i.jsx(k,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.messageId;var b=c("useMAWEditMessageData")(),d=b!=null;a=a!=null&&a===(b==null?void 0:b.messageId);return!d||a?null:i.jsx("div",{className:"xyl4keb x5yr21d x17qophe x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowActionsContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext;e={current:c("emptyFunction")};var k={current:c("emptyFunction")},l={current:c("emptyFunction")};c={current:c("emptyFunction")};e={forwardMessage:e,openReactionsMenu:k,removeMessage:l,replyToMessage:c};var m=d(e);function a(){return j(m)}function b(a){var b=a.children;a=a.value;return i.jsx(m.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("cometGetKeyCommandConfig",["fbt","cr:2011405","cr:2011406","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i={command:null,description:h._("__JHASH__b304p5m3LLr__JHASH__"),handler:function(){return void 0},isHiddenCommand:!0};function j(a,b,d,e,f){if(e==null){c("recoverableViolation")(f,"comet_ax");return i}if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.prototype.hasOwnProperty.call(e[a].shortcuts,b)){c("recoverableViolation")("Missing default key command config for "+a+" and "+b,"comet_ax");return i}f=e[a].shortcuts[b];e=f.command;var g=f.description;return e!=null&&g!=null?{command:e,commandID:b,description:g,groupID:a,handler:d,isHiddenCommand:f.isHiddenCommand,singleCharDescription:f.singleCharDescription,triggerFromInputs:f.triggerFromInputs}:i}function a(a,c,d){return j(a,c,d,b("cr:2011405"),"getCometKeyCommandConfig should only be used in Comet")}function d(a,d,e){var f=c("gkx")("20836")?b("cr:2011406"):b("cr:2011405");return j(a,d,e,f,"Reached unreachable code")}g.getKeyCommandConfig=j;g.getCometKeyCommandConfig=a;g.getCometAndGeminiKeyCommandConfig=d}),226);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;b=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var e=b.forwardMessage,f=b.openReactionsMenu,g=b.removeMessage,h=b.replyToMessage,l=j(function(){return f.current()},[f]),m=j(function(){return h.current()},[h]),n=j(function(){return e.current()},[e]),o=j(function(){return g.current()},[g]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",m);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);b.push(c);return b},[l,m,n,o]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=d(c("emptyFunction"));function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2MessageListIsRowModalContext=k;g.MWV2MessageListIsRowModalContextProvider=a;g.useMWV2MessageListIsRowModal=b}),98);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;b=(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a&&!d("IGDWebUtils").isOnInstagramWeb();return b?j.deemphasize:null}g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","TimestampUtils","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.useCallback,n=e.useEffect,o=e.useId,p=e.useMemo,q=e.useRef,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._("__JHASH__U5V4JiyTDSI__JHASH__"),u=h._("__JHASH__GoIrDg5lzef__JHASH__"),v=h._("__JHASH__ctLNxPXr8we__JHASH__"),w=l.forwardRef(a);function a(a,b){var d=a.ariaLabel,e=a.focusable,f=a.onPress,g=a.text;a=a.xstyle;var h=c("useCometTheme")("invert"),i=h[0];h=h[1];return l.jsx(i,{children:l.jsx(c("MWXPressable.react"),{"aria-label":d,focusable:e,onPress:function(){return f()},ref:b,xstyle:[h,r.enterModalButton,a],children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"primary",level:4})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender,g=f===void 0?!1:f,j=a.isDialogOpened,x=a.isFocused,y=a.isModal,z=a.message,A=a.messageDomID;f=a.outgoing;var B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),G=q(null),H=o(),I=m(function(){F(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,z.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=d("TimestampUtils").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];f=f?h._("__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var M=o(),N=l.jsx(c("CometScreenReaderText.react"),{id:M,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",f)])}),O=o(),P=q(null),Q=c("gkx")("22803"),R=q(c("emptyFunction")),S=q(c("emptyFunction")),T=q(c("emptyFunction")),U=q(c("emptyFunction"));L=p(function(){return{isDialogOpened:j,setFocused:B,setIsDialogOpened:D}},[B,D,j]);K=p(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);var V=c("useMAWEditMessageData")()!=null;f=c("useMWPEditMessageDeemphasizer")(z.messageId);var W=function(a){if(x!==a){B(function(){return a});return F(function(){if((a||j)&&y)return z.messageId;else return""})}},X=function(a){x!==a&&B(function(){return a});var b=P.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};n(function(){if(g){var a;(a=G.current)==null?void 0:a.focus();(a=G.current)==null?void 0:a.scrollIntoView()}},[g]);return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:K,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:z,role:"row",setHovered:V?c("emptyFunction"):C,stopHoveringRef:E,theme:a,xstyle:[r.row,f],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:V?void 0:W,onFocusVisibleChange:V?void 0:X,children:function(a,e){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(r.cell,y?r.cellModal:!1,e?r.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:G,role:"gridcell",tabIndex:V?-1:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:y,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:y?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":M,id:O,role:"dialog",children:[b,y?N:null,l.jsx(w,{ariaLabel:u,focusable:!0,onPress:J,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOM").createPortal(l.jsx("div",{"aria-owns":O}),document.body)]}):b})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:y||V?void 0:I,onEscape:y?J:void 0,onSpace:y||V?void 0:I,children:Q?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(w,{ariaLabel:y?h._("__JHASH__7kFsaJ4_Q_k__JHASH__"):t,focusable:y,onPress:I,ref:P,text:y?h._("__JHASH__7kFsaJ4_Q_k__JHASH__"):v,xstyle:e&&!y?r.enterModalButtonVisible:r.visuallyHidden})})]})}})}),l.jsx(c("MWEditMessageOverlay.react"),{messageId:z.messageId})]})})})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);f=d("MWChatInteraction").get(f);e=(e=e)!=null?e:f;if(e==null)return j.jsx("div",{className:(h||(h=c("stylex")))(a),children:b});else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentUser","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAMediaQplHelper","gkx","justknobx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef;function a(a,b){return m(a,b,n,!1)}function b(a,b){return m(a,b,o,!0,{string:{reply_attachment_type:d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType)}})}function m(a,b,e,f,g){g===void 0&&(g={});var h=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),m=d("MWPActor.react").useActor(),n=i.equal(a.senderId,m),o=c("useLSMessagingInitiatingSource")(),p=c("useXMAPreviewsDisabledSetting")(),q=l(!1),r=d("Int64Hooks").useMemoInt64(function(){var j;if(!e(a,b))return null;var k=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,h,f),l=c("CurrentUser").getAppID();l={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_message_xma_receiver_fetch_params:a.xmaReceiverFetchParams!=null,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_expired:a.isExpired,is_forwarded:(j=a.isForwarded)!=null?j:!1,is_optimistic:h,is_outgoing:n,is_pdb:Boolean(c("gkx")("24032")),is_reply_to_media:f,is_unsent:a.isUnsent,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{app_id:(j=l)!=null?j:void 0,content_type:d("MWMediaRenderQplUtils").getMessageContentTypeString(a),entry_point:"thread_view",messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(o),mw_version:(i||(i=d("I64"))).to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};j=c("mergeDeep")(l,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,k,q,j),{addAttachmentAnnotations:function(a){var b;c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:p},string:{attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,xma_content_type:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType}},{instanceKey:k})}})},[h,a.displayedContentTypes]);m=c("usePartialViewImpression")({onImpressionEnd:function(){c("justknobx")._("3028")&&(q.current===!1&&(r==null?void 0:r.addPoint("message-row-hidden"),r==null?void 0:r.addAnnotations({bool:{message_row_is_hidden:!0}})))},onImpressionStart:function(){c("justknobx")._("3028")&&(q.current===!1&&(r==null?void 0:r.addPoint("message-row-visible"),r==null?void 0:r.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}})))}});k(function(){r==null?void 0:r.start();r==null?void 0:r.addPoint("message-row-mounted");return function(){q.current===!1&&(r==null?void 0:r.getInstanceKey())!=null&&(r==null?void 0:r.addPoint("message-row-unmounted"),r==null?void 0:r.endCancel(706))}},[r]);return{mediaRenderQpl:r,messageRowRef:m}}function n(a,b){if(p(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function o(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&!p(a)}function p(a){return a.isUnsent||a.isExpired}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.cta,e=a.message,g=(h||(h=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":29"))==null?void 0:a.threadType;a=a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);var i=e.text==null?null:d("MAWVault").unvault(e.text);a=(a=d("useStringWithSubstitutions").useStringWithSubstitutions(a?i:null,e.threadKey))!=null?a:i;if(a!=null)if(b!=null)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault})," ",b]});else return j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure";e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,h=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:h})},"readwrite",void 0,void 0,f.id+":55"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure";e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,g=(h||(h=c("useReStore")))(),k=(i||(i=d("I64"))).to_string(b.threadKey),n=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(k),userActionType:a})},"readwrite",void 0,void 0,f.id+":41"))},[g,k,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWXLink.react"),{href:d("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWSeparateReadsSelector",["cr:10512","cr:10513"],(function(a,b,c,d,e,f,g){"use strict";var h=3e3;function a(a,c,d,e){b("cr:10513")(a,c,d,h);return e?c:d}function c(a,c,d,e,f){b("cr:10512")(a,c,d,f,h);return e?c:d}g.useMAWSeparateReadsSelector=a;g.useMAWSeparateReadsArraySelector=c}),98);
__d("useAdminMessageCTATitleProvider",["cr:1374","qex","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f){a=b("cr:1374")(a,e);a=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",e.adminMsgCtaTitle,a,f&&((e=c("qex")._("62"))!=null?e:!1));return a}g["default"]=a}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","promiseDone","react","react-strict-dom","useAdminMessageCTATitleProvider","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react"),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":42");var g;a!=null?c("CurrentEnvironment").instagramdotcom?g=c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):g=d("MWInboxRouteBuilder").buildURL({thread_key:a}):(c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey))),g=d("MWInboxRouteBuilder").buildHomeURL());a=c("useAdminMessageCTATitleProvider")(e,b,!0);g=a!=null?l.jsx(d("react-strict-dom").html.div,{style:m.adminTextCta,children:l.jsx(c("MWXLink.react"),{href:g,target:"_self",children:a})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","useAdminMessageCTATitleProvider","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b;a=a.message;var d=(i||(i=c("useReStore")))();b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var e={},f=c("useMWXLazyDialog")(l),g=f[0];f=function(){return g(e)};d=c("useAdminMessageCTATitleProvider")(d,a,!0);b=d!=null?c("CurrentEnvironment").instagramdotcom?k.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:m}):k.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",children:d})}):null;return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:k.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),k.jsx(c("MWAdminTextLayout.react"),{cta:b,message:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/147596532316790";function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXLink.react"),{color_DEPRECATED:"blueLink",href:k,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")})}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":63");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.xstyle,d=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle","children"]);return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:"var(--mwp-primary-theme-color)"},weight_DEPRECATED:"bold",xstyle_DEPRECATED:b},a,{children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(k);var g=a[0],i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":35"),l=c("MessengerWebUXLogger").useInteractionLogger();a=function(){var a={eventName:"open_view_pinned_messages_dialog",threadKey:b.threadKey,threadType:i==null?void 0:i.threadType};l==null?void 0:l(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};var m=i!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(i==null?void 0:i.threadType);m=c("useAdminMessageCTATitleProvider")(e,b,m);a=m!=null?j.jsx(c("MWAdminMsgCtaLink.react"),{onClick:a,children:m}):null;return j.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2IsOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a===void 0&&(a=void 0);return b.openWatermark>Math.max.apply(Math,[b.closeWatermark,b.minimizeWatermark,b.clientForcedMinimizeWatermark].concat(typeof a==="number"?a:[]))}f.isOpen=a}),66);
__d("MWChatStateV2Logging",["MessengerWebEventsFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=j(a);i(function(){var a=Array.from(b.current.tabs.values()),d=function(a){return a.openWatermark>Math.max(a.closeWatermark,a.minimizeWatermark,a.clientForcedMinimizeWatermark)},e=a.filter(d);e.length>0&&c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"load_tab_from_cookie",extra_data:{tabNumber:String(e.length)}}})},[b])}g.useCookieLiftLogging=a}),98);
__d("MWThreadListNewMessageState.react",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useReducer;d={Reset:0,ResetIfEmpty:1};var m={SetIsActive:2},n={SetEntries:3},o=babelHelpers["extends"]({},d,m,n),p={entries:[],isActive:!1},q=j(p),r=j();function s(a,b){switch(b.type){case o.Reset:return p;case o.ResetIfEmpty:return a.entries.length===0?p:a;case o.SetIsActive:return babelHelpers["extends"]({},a,{isActive:b.isActive});case o.SetEntries:return babelHelpers["extends"]({},a,{entries:b.entries});default:return a}}function a(a){var b=a.children;a=a.defaultState;a=a===void 0?p:a;a=l(s,a);var c=a[0];a=a[1];var d=q.Provider,e=r.Provider;return i.jsx(d,{value:c,children:i.jsx(e,{value:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(r);if(a==null)throw c("unrecoverableViolation")("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)","messenger_web_messaging");return a}function e(){var a=k(r);if(a==null)return;return a}g.MWThreadListNewMessageStateActionType=o;g.context=q;g.MWThreadListNewMessageStateProvider=a;g.useDispatch=b;g.useDispatchIfStateExists=e}),98);
__d("MWV2CookieReader",["I64","LSIntEnum","MWChatStateV2Types","gkx","killswitch","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={cbj:(h||(h=d("LSIntEnum"))).ofNumber(23),cbu:h.ofNumber(24),cg:h.ofNumber(18),cgu:h.ofNumber(19),cphj:h.ofNumber(21),cphu:h.ofNumber(22),dp:h.ofNumber(150),dp2:h.ofNumber(154),dp2u:h.ofNumber(155),dpb:h.ofNumber(152),dpbu:h.ofNumber(153),dpu:h.ofNumber(151),g:h.ofNumber(2),sc:h.ofNumber(15),sg:h.ofNumber(16)};function k(a){a=a.split(".");if(a.length!==2)return;var b=a[0];a=a[1];if(/^-?[1-9]\d*$/.test(a)===!1||b==null)return;b=(b=j[b])!=null?b:(h||(h=d("LSIntEnum"))).ofNumber(1);return[(i||(i=d("I64"))).of_string(a),b]}function l(a){var b=a.map(function(a){a=a[0];return(i||(i=d("I64"))).to_string(a)});b=new Set(b);if(b.size!==a.length){c("recoverableViolation")("Duplicate thread in cookie (t3)","messenger_comet");return a.filter(function(a,b,c){var e=a[0];return!c.slice(b+1|0).some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,e)})})}else return a}function a(a){if(a==null)return d("MWChatStateV2Types").emptyMWChatState;if(c("killswitch")("MESSENGER_WEB_STOP_PERSISTING_CHAT_HEADS")||!c("gkx")("24038")||!a.startsWith("C"))return d("MWChatStateV2Types").emptyMWChatState;a=a.slice(1);try{a=JSON.parse(a)}catch(b){c("recoverableViolation")("Error parsing JSON string","messenger_comet"),a=null}if(a===null)return d("MWChatStateV2Types").emptyMWChatState;var b=[],e=new Set();a.t3.forEach(function(a){var c=a.i;c=k(c);if(c!=null){b.push(c);a.o===1&&e.add(c);return}});var f=l(b),g=new Map(),h={contents:0};f.forEach(function(b){var a=b[0];b=b[1];var c=e.has([a,b]);g.set(h.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:c?0:1,openFlyoutWatermark:0,openWatermark:c?1:0,tabId:h.contents,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:b},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}});h.contents=h.contents+1|0});a=a.lm3;if(a!=null){a=k(a);if(a!=null){var j=a[0];a=a[1];f.some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,j)})||g.set(h.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:2,tabId:h.contents,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:j,threadType:a},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}});h.contents=h.contents+1|0}}return{focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:h.contents,tabs:g}}g.read=a}),98);
__d("MWChatStateV2IsMinimized",["MWChatStateV2IsClosed","MWChatStateV2IsOpen"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a!=null)if(d("MWChatStateV2IsOpen").isOpen(a,b))return!1;else return!d("MWChatStateV2IsClosed").isClosed(b);else return Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark)>Math.max(b.openWatermark,b.closeWatermark)}g.isMinimized=a}),98);
__d("useMWChatStateV2CrossTabSync",["I64","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","MWChatStateV2Types","MWPActor.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useMemo;function l(a,b){a==null?void 0:a.postMessage(b)}function m(a,b){if(a==null)return function(){};var c=function(a){return b(a.data)};a.addEventListener("message",c);return function(){a.removeEventListener("message",c)}}function n(){var a=d("MWPActor.react").useActor();return k(function(){return window.BroadcastChannel?new BroadcastChannel("MWChatStateV2_"+(i||(i=d("I64"))).to_string(a)):null},[a])}function o(a){a=Array.from(a.tabs.values());var b=[];a.forEach(function(a){var c=a.tabType;if(c.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;c=c.threadKeyDescriptor;var e=c.threadKey;c=c.threadType;b.push({closeWatermark:a.closeWatermark,openWatermark:a.openWatermark,threadKey:(i||(i=d("I64"))).to_string(e),threadType:i.to_string(c)})});return b}function p(a,b,c){return[{inserter:function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}},tabConfig:{shouldFocus:!1},tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:b},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:function(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)?a:{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}}}]}function q(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(a){if(d("MWChatStateV2IsMinimized").isMinimized(void 0,a))return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType};else return a}}]}function a(a,b,e,f){var g=n();j(function(){if(e){f(function(){return!1});var b=o(a);l(g,b)}},[a,g,e,f]);j(function(){return m(g,function(a){try{a=a;a.forEach(function(a){var c=(i||(i=d("I64"))).of_string(a.threadKey),e=i.of_string(a.threadType),f=a.closeWatermark;a=a.openWatermark;if(a>f)return b(p(c,e,a));else return b(q(c,f))});return}catch(a){c("recoverableViolation")("Cross-tab sync error","messenger_comet")}})},[g,b])}g["default"]=a}),98);
__d("MWChatStateV2.react",["CometErrorBoundary.react","FBLogger","I64","MWChatInteraction","MWChatStateContext","MWChatStateV2IsClosed","MWChatStateV2IsOpen","MWChatStateV2Logging","MWChatStateV2Types","MWThreadListNewMessageState.react","MWV2CookieReader","MessengerWebPresenceCookieData","RecoverableViolationWithComponentStack.react","cr:101","emptyObject","err","react","useMWChatStateV2CrossTabSync"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.Fragment,m=k.createContext,n=k.useCallback,o=k.useContext,p=k.useReducer,q=k.useState;function r(a,b){return(a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab;else if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b.threadKeyDescriptor.threadKey)}))==null?void 0:a.tabId}function s(a,b){a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b==null;else if(b!=null)return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b);else return!1});if(a!=null)return a.tabId}function t(a,b,c){if(c)if(d("MWChatStateV2IsOpen").isOpen(void 0,b))return b.tabId;else return;c=a.focusedTabId;if(c!=null&&c===b.tabId&&!d("MWChatStateV2IsOpen").isOpen(void 0,b))return;else return a.focusedTabId}function u(a,b){return b.reduce(function(a,b){var e=b;while(!0){var f=e;switch(f.type){case d("MWChatStateV2Types").MWChatStateActionsType.UpdateState:return f.state(a);case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab:var g,h=f.tabId;if(h==null)return a;var j=a.tabs.get(h);if(j==null)return a;var k=f.updater(j);g=t(a,k,((g=b.tabConfig)==null?void 0:g.shouldFocus)||!1);if(k===j)return a;j=new Map(a.tabs);if(f.tabConfig.shouldClearOldHiddenTab===!0){f=r(a,k.tabType);if(f!=null&&f!==h){var l=j.get(f);l!=null&&d("MWChatStateV2IsClosed").isClosed(l)&&j["delete"](f)}}return A(g,a.mediaViewerOpenWatermark,a.nextTabId,new Map(j).set(h,k));case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey:l=s(a,b.threadKey);if(l==null||b.tabConfig==null||b.updater==null)return a;e={tabConfig:b.tabConfig,tabId:l,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue;case d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab:f=b.inserter;g=b.tabConfig;j=b.tabType;if(j==null)throw c("err")("tabType for MWChatStateActionsType.UpsertTab should always exist");if(f==null)throw c("err")("inserter for MWChatStateActionsType.UpsertTab should always exist");if(j.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){h=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(j.threadKeyDescriptor.threadKey));h==null?void 0:h.addMarkerPoint("MWChatStateUpdateOpenTab","AppTiming")}k=r(a,j);if(k!=null&&g!=null&&b.updater!=null){e={tabConfig:g,tabId:k,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue}l={clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:0,tabId:a.nextTabId,tabType:j};h=f(l);j=t(a,h,(k=g==null?void 0:g.shouldFocus)!=null?k:!1);return A(j,a.mediaViewerOpenWatermark,a.nextTabId+1,new Map(a.tabs).set(h.tabId,h))}}return a},a)}function v(){return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie)}var w=m();function a(){var a=o(w);if(a!=null)return a;else return function(){c("FBLogger")("messenger_web_product").warn("Tried to open a chat tab on Comet under the new chat state system, MWChatStateV2. But no MWChatStateV2 was found in react context. Wrap your component in MWChatStateV2? You are likely also be part of Blue on Comet. If so do ping our oncall")}}function x(a){a!=null?c("FBLogger")("messenger_browser_clients").catching(a).warn("Error loading MWChatStateV2"):c("FBLogger")("messenger_browser_clients").warn("Error loading MWChatStateV2")}function y(a){a=a.children;var b=p(u,d("MWChatStateV2Types").emptyMWChatState,v),e=b[0],f=b[1];b=q(!1);var g=b[0],h=b[1];b=n(function(b,a){a===void 0&&(a=!0);a&&h(function(){return!0});return f(b)},[f,h]);d("MWChatStateV2Logging").useCookieLiftLogging(e);c("useMWChatStateV2CrossTabSync")(e,f,g,h);g=o(w);if(g!=null)return j.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"You can't nest MWChatStateV2 in another MWChatStateV2.",projectName:"messenger_comet"});else return j.jsx(d("MWChatStateContext").ChatStateContextProvider,{value:e,children:j.jsx(w.Provider,{value:b,children:a})})}y.displayName=y.name+" [from "+f.id+"]";var z=(k=b("cr:101"))!=null?k:l;function A(a,b,d,e){return babelHelpers["extends"]({},a!=null?{focusedTabId:a}:c("emptyObject"),{mediaViewerOpenWatermark:b,nextTabId:d,tabs:e})}function e(a){a=a.children;a=a;return j.jsx(c("CometErrorBoundary.react"),{onError:x,children:j.jsx(z,{children:j.jsx(y,{children:j.jsx(d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateProvider,{children:a})})})})}e.displayName=e.name+" [from "+f.id+"]";Object.keys(d("MWChatStateContext")).forEach(function(a){if(a==="default"||a==="__esModule")return;g[a]=d("MWChatStateContext")[a]});g.getTabIdFromThreadKey=s;g.reducer=u;g.useDispatch=a;g.MWChatStateV2Provider=e}),98);
__d("MWChatStateActions",["MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2IsMinimized","MWChatStateV2Types"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[{state:function(b){var c=b.tabs.get(a);return c!=null&&b.focusedTabId!==a?{focusedTabId:a,mediaViewerOpenWatermark:b.mediaViewerOpenWatermark,nextTabId:b.nextTabId,tabs:b.tabs}:b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function b(a){return[{state:function(b){var c=d("MWChatStateV2.react").getTabIdFromThreadKey(b,a);if(c==null)return b;var e=b.tabs.get(c);return e!=null&&b.focusedTabId!==c?{focusedTabId:c,mediaViewerOpenWatermark:b.mediaViewerOpenWatermark,nextTabId:b.nextTabId,tabs:b.tabs}:b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function c(){return[{state:function(a){var b=a.focusedTabId;return b!=null?{focusedTabId:void 0,mediaViewerOpenWatermark:a.mediaViewerOpenWatermark,nextTabId:a.nextTabId,tabs:a.tabs}:a},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function e(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function f(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function h(a,b,c){var e=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c}};return[{inserter:e,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:e}]}function i(a,b){return[{tabConfig:{shouldFocus:!0},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:b.tabType}}}]}function j(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function k(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function l(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.clientForcedMinimizeWatermark?b:{clientForcedMinimizeWatermark:a,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function m(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function n(a,b){return[{tabConfig:{shouldClearOldHiddenTab:!1,shouldFocus:!0},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){return babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:b,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function o(a,b,c,e,f){f===void 0&&(f={shouldClearOldHiddenTab:!1});return[{tabConfig:{shouldClearOldHiddenTab:f.shouldClearOldHiddenTab,shouldFocus:!1},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){var f=a.tabType;return f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?a:babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:{clientThreadKey:c,threadKey:b,threadType:(a=e)!=null?a:f.threadKeyDescriptor.threadType},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function p(a,b,c){var e=function(b){if(d("MWChatStateV2IsClosed").isClosed(b))return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c};return d("MWChatStateV2IsMinimized").isMinimized(void 0,b)?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:a,openWatermark:b.openWatermark,tabId:b.tabId,tabType:c}:b},f=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c}};return[{inserter:f,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:e}]}function q(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a===b.openFlyoutWatermark?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:0,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}:b}}]}function r(a){return[{state:function(b){return{focusedTabId:b.focusedTabId,mediaViewerOpenWatermark:a,nextTabId:b.nextTabId,tabs:b.tabs}},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}g.focusTab=a;g.focusTabByThreadKey=b;g.blurTab=c;g.closeTab=e;g.closeTabByThreadKey=f;g.openTab=h;g.maximizeTab=i;g.minimizeTab=j;g.minimizeTabByThreadKey=k;g.forceMinimizeTab=l;g.notificationBringHeadToTop=m;g.lockInTab=n;g.updateThreadKeyDescriptor=o;g.openTabOrFlyout=p;g.closeFlyout=q;g.updateMediaViewerOpenWatermark=r}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.value;var c=j.Provider;return i.jsx(c,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";c=a;g.context=j;g.Provider=c}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("XCometGroupDiscussionControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/{?view}/{?post_id}/",Object.freeze({modal:!1,should_open_composer:!1,hoisted_section_header_type:"notifications",show_migration_preparation_dialog:!1,show_migration_onboarding_dialog:!1,show_review_some_onboarding:!1,show_share_event_to_group_composer:!1,show_admin_inactivity_dialog:!1,show_lightweight_onboarding_dialog:!1,should_open_welcome_member_composer:!1,community_chats_aa_upsell:!1,iv:!1}),void 0);b=a;g["default"]=b}),98);
__d("useCometFeedNoRoutingNavigationEventsLoggerImpl",["CometMetricsNavigationFalcoEvent","JSScheduler","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b,e){var f=j(function(d,f,g){if(b==null||b==="")return;var h=c("uuidv4")();c("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:g,event_trace_id:h,extra_fields:e,href:f,tn:a.join(""),ts:d.toString(),xt:b}})},[a,b,e]);return j(function(a,b,c){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f(a,b,c)})},[f])}g["default"]=a}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometTrackingCodeContext","CometTrackingNodesContext","react","useCometFeedNoRoutingNavigationEventsLoggerImpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("CometTrackingNodesContext")),d=i(c("CometTrackingCodeContext"));d=d.encrypted_tracking[0];var e=i(c("CometFeedLoggingExtraFieldsContext"));return c("useCometFeedNoRoutingNavigationEventsLoggerImpl")((a=a)!=null?a:b,d,e)}g["default"]=a}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWEBSwitch","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotationBoolean("is_secure",g);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.addSharedAnnotations=a}),98);
__d("MWCookieUtil",["I64","LSMessagingThreadTypeUtil","MWChatStateV2Types","MWV2CookieReader","MessengerWebPresenceCookieData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie)}function j(){var a=i();return a.tabs.size>0}function k(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)},!1)}function a(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)&&b.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.tabType.threadKeyDescriptor.threadType)},!1)}function l(){var a=i();if(j()&&k()){a=Array.from(a.tabs.values()).find(function(a){return a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&a.minimizeWatermark===0});if(a==null||a.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ChatTab)return;var b=a.tabType.threadKeyDescriptor.threadKey;a=a.tabType.threadKeyDescriptor.threadType;return{threadKey:b,threadType:a}}return}function b(a){var b=l();return!b?!1:(h||(h=d("I64"))).equal(b.threadKey,a)}g.getMWCookie=i;g.hasAutoOpenChatTabs=j;g.hasAtLeastOneUnminimizedChatTab=k;g.hasAtLeastOneUnminimizedSecureChatTab=a;g.getAutoChatTabFromCookie=l;g.isAutoChatTabFromCookie=b}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","I64","MAWEBSwitch","MAWMICSafe","MWChatInteraction","MWChatTabSharedQPLAnnotations","MWCookieUtil","gkx","justknobx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=!1,l=c("justknobx")._("2023");function m(a){var b=d("MWCookieUtil").isAutoChatTabFromCookie(a);if(!b)return!1;b=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));a=b==null?void 0:b.getTrace();return a!=null&&!a.completed}function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(b,e,f,g,h){if(m(g)&&l){var j=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(g));if(j!=null){b(j.getTraceId(),j);return}}a(function(a){var i=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addAnnotationBoolean("is_pdb",c("gkx")("24032"));var j=d("MAWMICSafe").duringMIC();j&&a.addAnnotationInt("startedDuringMIC",1);a.addMetadata("entrypoint",f);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addMetadata("hasBadge",h!=null?h.toString():"");d("MWChatTabSharedQPLAnnotations").addSharedAnnotations(a,e,g);a.onComplete(function(b){k?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),k=!0);var c=d("CometCurrentInitialLoadVC").getInitialLoadVC();c!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-c))});b(i,a)},void 0,void 0,void 0,(i||(i=d("I64"))).to_string(g))},[a])}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:6961","cr:9780","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useCallback,l=e.useContext,m=e.useMemo;function n(){var a=d("MWChatStateV2.react").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")();return k(function(c,f,g,h){b(Date.now(),"","messenger");return e(function(b,e){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(c.threadKey),b);e.addMarkerPoint("dispatch_open_chat_tab","AppTiming");(h==null?void 0:h.subEntrypoint)!=null&&e.addAnnotation("sub_entrypoint",h.subEntrypoint);return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:g!==!0},{threadKeyDescriptor:c,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(c.threadType),f,c.threadKey,c.isUnread)},[a,b,e])}function o(a,e,f,g,h){return function(j){j=(i||(i=d("I64"))).to_string(j);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:j});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({thread_key:j});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:j}):d("MWInboxRouteBuilder").buildE2EEThreadURL({search:h,thread_key:j});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({search:h,thread_key:j})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,j],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({link_hash:g,search:h,thread_key:j});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:j});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:j});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:j});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:j});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({thread_key:j});default:return d("MWInboxRouteBuilder").buildURL({link_hash:g,search:h,thread_key:j})}}}function p(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=l(d("MWNavigationContext").context),g=l(c("CometPassiveGetRouterStateContext")),h=n(),k=b("cr:6961")(),q=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),r=q.setVisibleMessage;return m(function(){var b=function(a,b,d,e){var h,i=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),j=i==null?void 0:i.entity_type;i=c("getGroupThreadViewParams")(i,g==null?void 0:g());h=(h=f)!=null?h:o(b,j,i,d,e);return h(a)},l=function(a,f){var g=a.isUnread,h=a.searchQuery,j=a.threadKey,k=a.threadLinkHash;a=a.threadType;if(e!=null){var l=d("MessengerWebEntryPointsUtil").cast(f),m=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k=b(j,a,k,h);m&&!k.includes("e2ee")&&c("FBLogger")("e2ee_thread_navigation").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&r(void 0);e.go(k,{traceParams:{TLTV:"true",entrypoint:l,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:m?"true":"false",thread_id:(i||(i=d("I64"))).to_string(j),thread_type:i.to_string(a)}})}};return{getUrlFromThreadKey:b,openInbox:function(a,b,c,e){c===void 0&&(c=(j||(j=d("LSIntEnum"))).ofNumber(54));p(a,b);return k({damagingActionsEntryPoint:c,onProceed:function(){l(a,b),e==null?void 0:e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,g,i){f===void 0&&(f=(j||(j=d("LSIntEnum"))).ofNumber(54));p(b,c);if(a())return k({damagingActionsEntryPoint:f,onProceed:function(){h(b,c,e,g),i==null?void 0:i()},threadKey:b.threadKey});else return k({damagingActionsEntryPoint:f,onProceed:function(){l(b,c),i==null?void 0:i()},threadKey:b.threadKey})}}},[g,f,e,r,k,a,h])}g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");a=c("useMWHasPollsVotingEnabled")(b.threadKey);var j=c("useMWChatPollXMAActionHandler")(),m=l(function(){j(g==null?void 0:g.targetId,g==null?void 0:g.targetTitle)},[g==null?void 0:g.targetId,g==null?void 0:g.targetTitle,j]);if(!c("justknobx")._("1987")||!a||g==null)return k.jsx(c("MWAdminTextLayout.react"),{message:b});a=g==null?void 0:g.title;m=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:m,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":26");var g=l(d("AdsMessengerContext.react").AdsMessengerContext),j=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;g=(g==null?void 0:g.messengerLinkColor)||"primary";g=j!=null&&a!=null?k.jsx(c("MWXLink.react"),{color_DEPRECATED:g,href:a,target:"_blank",children:j}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWICometProactiveChatOptInMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7358944124142177"}),null);
__d("LWICometProactiveChatOptInMutation.graphql",["LWICometProactiveChatOptInMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],e={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null},f=[e];e=[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:b("LWICometProactiveChatOptInMutation_facebookRelayOperation"),metadata:{},name:"LWICometProactiveChatOptInMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LWICometProactiveChatOptInMutation.react",["CometRelay","LWICometProactiveChatOptInMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometProactiveChatOptInMutation.graphql");function a(a){var b=a.entryPoint,c=a.environment,e=a.optInValue,f=a.setLoading,g=a.setOptedIn;d("CometRelay").commitMutation(c,{mutation:i,onCompleted:function(a,b){a=e;g(a);f(!1)},onError:function(){f(!1)},variables:{input:{entry_point:b,is_opted_in:e,topic:"ADVERTISER_GUIDANCE"}}})}g.commitProactiveChatOptInMutation=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","LWICometProactiveChatOptInMutation.react","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.opted_in,g=d("CometRelay").useRelayEnvironment(),j=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[j,b],f.id+":32");a=(a=a==null?void 0:a.title)!=null?a:"";var l=function(){return d("LWICometProactiveChatOptInMutation.react").commitProactiveChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:g,optInValue:e,setLoading:function(){},setOptedIn:function(){}})};l=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:l,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:l,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgICDC.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){if(a!=null)return a.isAdminMessage;else return!1}function l(a){var b=a.children,c=a.nextMessage;a=a.prevMessage;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k(a)?j.containerThatProceedsAdminMessage:!1,k(c)?j.containerThatPrecedesAdminMessage:!1],children:i.jsx(d("react-strict-dom").html.div,{style:j.content,children:b})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.message;a.nextMessage;a.prevMessage;switch(b.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return i.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:b});case"admin_msg_dual_thread_cutover":return i.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:b});case"admin_msg_web_url":return i.jsx(c("MWV2AdminMsgWebUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_in":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!0});case"admin_msg_sbg_proactive_chat_opt_out":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!1});case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("24144"))return i.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:b});else break;case"admin_notification_messages_opt_out":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:b});case"admin_notification_messages_opt_in":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:b});case"admin_msg_thread_level_cutover":return i.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:b});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return i.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:b});case"xmat_instant_game_bot_message_subscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return i.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:b});case"xmat_instant_game_custom_update_message_mute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return i.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:b});case"admin_msg_admod_post_msg_remove_actions":return i.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:b});case"admin_msg_poll_details":return i.jsx(c("MWV2AdminMsgViewPoll.react"),{message:b});case"admin_msg_icdc":return i.jsx(c("MWV2AdminMsgICDC.react"),{message:b});case"admin_msg_ig_dm_learn_more":return i.jsx(c("MWV2AdminMsgDMLearnMore.react"),{message:b})}return i.jsx(c("MWAdminTextLayout.react"),{message:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.nextMessage;a=a.prevMessage;return b.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(l,{nextMessage:e,prevMessage:a,children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx(d("react-strict-dom").html.div,{style:j.color,children:i.jsx(m,{message:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=k;g.MWV2ChatAdminMessageContainer=l;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2TombstonedMessage.react",["MWXMessageBubble.react","MWXMessageBubbleCornerStyles.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",opacity:"x1ks1olk",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},root:{borderTopColor:"x2z21go",borderEndColor:"x7glw7h",borderBottomColor:"xytfwv8",borderStartColor:"x1c7a9eh",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom;e=e===void 0?!1:e;var f=a.connectTop;f=f===void 0?!1:f;var g=a.isOutgoing;a=a.xstyle;e=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({connectBottom:e,connectTop:f});return c("gkx")("4809")?i.jsx(c("MWXMessageBubble.react"),{align:"right",children:i.jsx(c("MWXText.react"),{color:g?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.message,g?j.outgoing:j.incoming,a],children:b})}),color:g?"outgoing":"incoming",connectBottom:!1,connectTop:!1,testid:void 0,variant:"opaque"}):i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.root,e,a],children:i.jsx(c("MWXText.react"),{color:"disabled",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{style:j.message,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"x1eb86dx",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.isOutgoing;a=a.isReply;var e=!c("gkx")("4809");return j.jsxs(d("react-strict-dom").html.div,{style:a?k.withRepliedMessage:e&&k.withBackground,children:[a?null:j.jsx(d("react-strict-dom").html.div,{style:[k.vr,e&&k.withBackground]}),j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:b,xstyle:e&&k.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6825449144230575"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:930","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:930")!=null)return i.jsx(b("cr:930"),babelHelpers["extends"]({},a));return b("cr:1000")!=null?i.jsx(b("cr:1000"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:8878","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:8878")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","LSContactBitOffset","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;var k=d("MWPActor.react").useActor(),o=(i||(i=c("useReStore")))(),p=d("MWLSThread").useThread(a.threadKey),q=p==null?void 0:p.parentThreadKey;p=p==null?void 0:p.threadType;var r=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(o,(a=q)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[o,q],f.id+":72"),s=p?c("mwCMIsAnyCMThread")(p):!1;if(a.takedownState!=null)p=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIconStrict.react"),{alt:m,color:"secondary",icon:c("MWXIconAccount"),size:28})});else if(h!=null&&c("getLSMediaContactProfilePictureUrl")(h)!==""){var t,u;g=g!=null?g+" ("+h.name+")":h.name;t=(t=d("LSContactBitOffset").has(77,h))!=null?t:!1;u=(u=d("LSContactBitOffset").has(84,h))!=null?u:!1;u=!u&&!t;t=u&&s&&c("qex")._("20")===!0;var v=l.jsx(c("FDSImageCover.react"),{alt:h.name,src:c("getLSMediaContactProfilePictureUrl")(h),style:{borderRadius:"50%"}});p=l.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&(s&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"))},position:"start",tooltip:g,children:t?l.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((u=r)!=null?u:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(k)},otherProps:{isGroupThread:e,message:a},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,g,h){return l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:function(){s&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:h,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v})}}):v})}else p=l.jsx(c("MWXGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy",children:p})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.display;d=d===void 0?"visible":d;var e=a.isGroupThread;a=a.message;return i.jsx("div",{className:"xgd8bvy",children:d==="visible"&&i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,isGroupThread:e,message:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef;a=a.focusCellOnRender;var f=a===void 0?!1:a;a=c("useMAWEditMessageData")();var g=a!=null;a=c("useMWPEditMessageDeemphasizer")();var i=l(null);k(function(){if(f){var a;(a=i.current)==null?void 0:a.focus();(a=i.current)==null?void 0:a.scrollIntoView()}},[f]);return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:(h||(h=c("stylex")))(a),ref:e,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",{className:(h||(h=c("stylex")))(m.row,e?m.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:g?-1:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometPressable.react","E2EEMessagingLinkContext.react","I64","IGDAIStickerEyebrowText.react","IGDAiAgentsUtils","IGDAttachment.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDInstamadilloLockIcon.react","IGDInstamadilloUtils","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSHotEmojiSize","LSIntEnum","MWAttachmentContext","MWMessageEditContext.react","MWMessageSearchPluginMustache.react","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils","MWSearchPluginUtils","MWThreadViewMediaRenderQpl","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2ReplyError.react","PolarisDoubleTappable","asyncToGeneratorRuntime","deepEquals","deferredLoadComponent","isMWEditedMessage","lazyLoadComponent","promiseDone","react","requireDeferredForDisplay","stylex","useAsyncReStore","useIsReadOnlyFeatureLimited","useMWPGetAttachmentCTA","useMWPGetAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,aa,k,l=j||(j=d("react")),m=j,n=m.memo,ba=m.useEffect,ca=m.useId,da=m.useState,ea=m.c,fa=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("IGDMessageRow.react")),ga=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDEditedMessageActions.react").__setRef("IGDMessageRow.react")),ha={alignEnd:{alignItems:"xuk3077",$$css:!0},editedMessageIncoming:{paddingStart:"x17ax9c0",$$css:!0},editedMessageOutgoing:{paddingEnd:"x1pi30zi",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},ia=d("LSBitFlag").set((aa||(aa=d("LSIntEnum"))).ofNumber(1),d("LSBitFlag").set(aa.ofNumber(8),d("LSBitFlag").empty)),ja=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function ka(a){var b=ea(18),e=a.isGroupThread,f=a.isLastMessageInGroup;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),i=g.contact;g=g.contact;var j;b[0]!==g?(j=g===void 0?{secondaryName:void 0}:g,b[0]=g,b[1]=j):j=b[1];g=j;j=g.secondaryName;g=i!=null&&d("LSContactBitOffset").has(85,i);if(!g){i=f?"visible":"hidden";b[2]!==i||b[3]!==e||b[4]!==a?(g=l.jsx(c("MWV2MessageProfilePhoto.react"),{display:i,isGroupThread:e,message:a}),b[2]=i,b[3]=e,b[4]=a,b[5]=g):g=b[5];return g}b[6]!==j?(i=j!=null?{url:"/"+j}:void 0,b[6]=j,b[7]=i):i=b[7];g=i;b[8]!==j?(i=h._("__JHASH__q99c5lFvU7E__JHASH__",[h._param("name",j)]),b[8]=j,b[9]=i):i=b[9];j=i;i=f?"visible":"hidden";b[10]!==i||b[11]!==e||b[12]!==a?(f=l.jsx(c("MWV2MessageProfilePhoto.react"),{display:i,isGroupThread:e,message:a}),b[10]=i,b[11]=e,b[12]=a,b[13]=f):f=b[13];b[14]!==j||b[15]!==g||b[16]!==f?(i=l.jsx(c("CometPressable.react"),{"aria-label":j,linkProps:g,overlayDisabled:!0,children:f}),b[14]=j,b[15]=g,b[16]=f,b[17]=i):i=b[17];return i}function a(a){var e,f=ea(180),g=a.domElementRef,j=a.formatText,m=a.isGroupThread,n=a.isModal,o=a.isSecureMessage,p=a.isXMAExpired,q=a.message,r=a.nextMessage,s=a.onDoubleClickToLike,t=a.prevMessage,u=a.reactions,qa=a.reactionsV2,ra=a.stopHoveringRef;a=a.threadType;var sa=d("MWPActor.react").useActor(),ta=c("useAsyncReStore")(),v;f[0]!==q||f[1]!==ta?(v=function(){var a=babelHelpers["extends"]({},q,{isExpired:!0});c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield ta);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield b.messages.put(a)});return function(a){return c.apply(this,arguments)}}(),"readwrite")})())},f[0]=q,f[1]=ta,f[2]=v):v=f[2];v=v;var w;f[3]!==q||f[4]!==t?(w=d("MWPMessageParsingUtils").isStartOfGroup(q,t),f[3]=q,f[4]=t,f[5]=w):w=f[5];w=w;var x;f[6]!==q||f[7]!==r?(x=d("MWPMessageParsingUtils").isEndOfGroup(q,r),f[6]=q,f[7]=r,f[8]=x):x=f[8];var y=x,z=(k||(k=d("I64"))).equal(q.senderId,sa);x=da(!1);var A=x[0];sa=x[1];x=da(!1);var ua=x[0];x=x[1];var va=ca(),B=da(!1),C=B[0];B=B[1];var D=qa!=null?qa.length>0:u.length>0,E=!z;E=E&&m;var F=q.replyToUserId!=null,G=c("useIsReadOnlyFeatureLimited")(),H;f[9]!==q?(H=c("isMWEditedMessage")(q),f[9]=q,f[10]=H):H=f[10];H=H;var I=d("IGDInstamadilloUtils").canMutateIGDMessage(q);I=I&&!G;G=c("useMWPGetAttachments")(q);var J=G.length>0;e=c("useMWPGetAttachmentCTA")((e=G[0])==null?void 0:e.defaultCtaId);var K;f[11]!==J||f[12]!==G?(K=J&&d("MWSearchPluginUtils").isSearchPlugin(G[0]),f[11]=J,f[12]=G,f[13]=K):K=f[13];var L=K;f[14]!==J||f[15]!==G?(K=J&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(G[0]),f[14]=J,f[15]=G,f[16]=K):K=f[16];K=K;var M;f[17]!==e?(M=d("IGDAiAgentsUtils").isGenAISticker(e),f[17]=e,f[18]=M):M=f[18];e=M;M=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();var N=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(q,a),O=N.mediaRenderQpl,P;f[19]!==O?(N=function(){O==null?void 0:O.addPoint("render-igd-message-row")},P=[O],f[19]=O,f[20]=N,f[21]=P):(N=f[20],P=f[21]);ba(N,P);var wa=pa;f[22]!==q.displayedContentTypes?(N=(k||(k=d("I64"))).equal(q.displayedContentTypes,ia),f[22]=q.displayedContentTypes,f[23]=N):N=f[23];var xa=N;P=q.isPaidPartnership===!0;if(q.isExpired)return null;if(q.isUnsent)return null;if(q.takedownState)return null;if(q.isAdminMessage){if(q.adminMsgCtaType==="admin_msg_e2ee_thread"){O==null?void 0:O.endSuccess();return null}N=function(){if(J)return wa(q,void 0,void 0,!1,!1,z,!1,!1,O);else{O==null?void 0:O.endSuccess();return null}};var Q;f[24]!==q||f[25]!==r||f[26]!==t?(Q=l.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:q,nextMessage:r,prevMessage:t}),f[24]=q,f[25]=r,f[26]=t,f[27]=Q):Q=f[27];return l.jsx(c("MWV2MessageRowSimple.react"),{children:l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[Q,N()]})})}f[28]!==g||f[29]!==q||f[30]!==t?(Q=function(){return l.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:g,message:q,prevMessage:t})},f[28]=g,f[29]=q,f[30]=t,f[31]=Q):Q=f[31];f[32]!==q||f[33]!==t||f[34]!==Q?(N=l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:q,prevMessage:t,children:Q}),f[32]=q,f[33]=t,f[34]=Q,f[35]=N):N=f[35];Q=w?void 0:g;var R;f[36]!==p?(R=function(a,b){return p?null:l.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},f[36]=p,f[37]=R):R=f[37];var S;f[38]!==w||f[39]!==m||f[40]!==y||f[41]!==q||f[42]!==z||f[43]!==R?(S=l.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:w,isGroupThread:m,isLastMessageInGroup:y,message:q,outgoing:z,renderForwardSnippet:oa,renderPaidPartnerShipText:na,renderPinnedText:ma,renderReplySnippet:R,renderTextWrapper:la,renderTimestamp:void 0}),f[38]=w,f[39]=m,f[40]=y,f[41]=q,f[42]=z,f[43]=R,f[44]=S):S=f[44];f[45]!==w||f[46]!==E||f[47]!==P||f[48]!==H||f[49]!==F?(R=w&&!E&&!P&&!H||F?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,f[45]=w,f[46]=E,f[47]=P,f[48]=H,f[49]=F,f[50]=R):R=f[50];f[51]!==F||f[52]!==z||f[53]!==o||f[54]!==q?(E=F?l.jsx("div",{className:(i||(i=c("stylex")))(ha.repliedMessage,z?ha.alignEnd:!1),role:"none",children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ReplyError.react"),{outgoing:z})},children:l.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:o,message:q,outgoing:z})})})}):null,f[51]=F,f[52]=z,f[53]=o,f[54]=q,f[55]=E):E=f[55];f[56]!==H||f[57]!==n||f[58]!==q||f[59]!==z||f[60]!==F||f[61]!==o||f[62]!==a?(P=H?l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(fa,{isReply:F,isSecureMessage:o,msgId:q.messageId,outgoing:z,renderMessageActions:function(a){return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(ga,{ariaHidden:n===!1,baseMessage:q,messageHistoryEntry:a,outgoing:z})})},threadType:a,xstyle:z?ha.editedMessageOutgoing:ha.editedMessageIncoming})}):null,f[56]=H,f[57]=n,f[58]=q,f[59]=z,f[60]=F,f[61]=o,f[62]=a,f[63]=P):P=f[63];f[64]!==e||f[65]!==G||f[66]!==z?(H=e?l.jsx(c("IGDAIStickerEyebrowText.react"),{attachment:G[0],outgoing:z}):null,f[64]=e,f[65]=G,f[66]=z,f[67]=H):H=f[67];f[68]!==q?(a=function(){return l.jsx(c("IGDMessageGutterItem.react"),{message:q})},f[68]=q,f[69]=a):a=f[69];f[70]!==n||f[71]!==A||f[72]!==C||f[73]!==ua||f[74]!==q||f[75]!==z?(e=function(a){return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(ja,{ariaHidden:n===!1,focused:A||C||n,hidden:a,hovered:ua,message:q,outgoing:z})})},f[70]=n,f[71]=A,f[72]=C,f[73]=ua,f[74]=q,f[75]=z,f[76]=e):e=f[76];var T;f[77]!==m||f[78]!==y||f[79]!==q?(T=function(){return l.jsx(ka,{isGroupThread:m,isLastMessageInGroup:y,message:q})},f[77]=m,f[78]=y,f[79]=q,f[80]=T):T=f[80];var ya;f[81]!==z||f[82]!==F?(ya=function(){return l.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:z,isReply:F})},f[81]=z,f[82]=F,f[83]=ya):ya=f[83];var U;f[84]===Symbol["for"]("react.memo_cache_sentinel")?(U=h._("__JHASH__3VJWAHWf1z___JHASH__").toString(),f[84]=U):U=f[84];I=I?s:void 0;s=xa?"above":"below";var V;f[85]!==L||f[86]!==O||f[87]!==wa||f[88]!==q||f[89]!==r||f[90]!==t||f[91]!==z||f[92]!==j?(V=function(a,b,c){if(L){O==null?void 0:O.endSuccess();return null}else return wa(q,r,t,a,b,z,c,j,O)},f[85]=L,f[86]=O,f[87]=wa,f[88]=q,f[89]=r,f[90]=t,f[91]=z,f[92]=j,f[93]=V):V=f[93];var W,X;f[94]!==o?(W=function(a){var b=a.hotEmojiSize;if(o){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return l.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&(k||(k=d("I64"))).gt(b,(aa||(aa=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE))?l.jsx(c("IGDHotlikeEmoji.react"),{}):l.jsx(c("IGDChatEmoji.react"),{text:a.text})},X=function(a,b,e,f,g){return l.jsx(c("IGDChatBubble.react"),{connectBottom:e,connectTop:b,outgoing:g,precedesXMA:f,children:l.jsx(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:o,children:l.jsx(c("IGDMessageListText.react"),{isSecureMessage:o,message:a,outgoing:g,precedesXMA:f})})})},f[94]=o,f[95]=W,f[96]=X):(W=f[95],X=f[96]);var Y;f[97]!==q.messageId||f[98]!==q.offlineThreadingId?(Y=function(a,b){return l.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:q.messageId,optimisticMessageId:q.offlineThreadingId,xstyle:b,children:a})},f[97]=q.messageId,f[98]=q.offlineThreadingId,f[99]=Y):Y=f[99];var Z;f[100]!==D||f[101]!==m||f[102]!==q||f[103]!==z||f[104]!==u||f[105]!==qa||f[106]!==p||f[107]!==xa?(Z=function(){return l.jsx(c("IGDMessageRowFooter.react"),{hasReactions:D,isGroupThread:m,message:q,outgoing:z,reactions:u,reactionsV2:qa,resetReactionTranslateStyle:p&&!xa})},f[100]=D,f[101]=m,f[102]=q,f[103]=z,f[104]=u,f[105]=qa,f[106]=p,f[107]=xa,f[108]=Z):Z=f[108];var $=p||!(xa&&d("IGDXMAAttachmentUtil").isEmojiReaction(q.text)),za;f[109]!==s||f[110]!==w||f[111]!==y||f[112]!==L||f[113]!==q||f[114]!==r||f[115]!==z||f[116]!==t||f[117]!==u||f[118]!==V||f[119]!==W||f[120]!==X||f[121]!==Y||f[122]!==Z||f[123]!==$?(za=l.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:s,checkEmoticon:!1,isFirstMessageInGroup:w,isLastMessageInGroup:y,isSearchPluginAttachment:L,message:q,nextMessage:r,outgoing:z,prevMessage:t,reactions:u,renderAttachment:V,renderEmoji:W,renderMessageBubble:X,renderMessageContainer:Y,renderMessageFooter:Z,shouldRenderMessageContent:$}),f[109]=s,f[110]=w,f[111]=y,f[112]=L,f[113]=q,f[114]=r,f[115]=z,f[116]=t,f[117]=u,f[118]=V,f[119]=W,f[120]=X,f[121]=Y,f[122]=Z,f[123]=$,f[124]=za):za=f[124];f[125]!==U||f[126]!==I||f[127]!==za?(s=l.jsx(d("PolarisDoubleTappable").DoubleTappable,{ariaLabel:U,onDoubleClick:I,role:"button",children:za}),f[125]=U,f[126]=I,f[127]=za,f[128]=s):s=f[128];f[129]!==o||f[130]!==q||f[131]!==z||f[132]!==s?(w=l.jsx(c("IGDInstamadilloLockIcon.react"),{isSecure:o,message:q,outgoing:z,children:s}),f[129]=o,f[130]=q,f[131]=z,f[132]=s,f[133]=w):w=f[133];f[134]!==L||f[135]!==G||f[136]!==q||f[137]!==M||f[138]!==K?(V=L&&l.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:G[0],botResponseId:q.botResponseId,dialogResource:c("JSResourceForInteraction")("IGDMessageSearchPluginSourcesDialog.react").__setRef("IGDMessageRow.react"),flowInstanceId:M,isSearchSingleBubblePluginAttachment:K}),f[134]=L,f[135]=G,f[136]=q,f[137]=M,f[138]=K,f[139]=V):V=f[139];f[140]!==ya||f[141]!==w||f[142]!==V?(W=l.jsxs(c("CometErrorBoundary.react"),{fallback:ya,children:[w,V]}),f[140]=ya,f[141]=w,f[142]=V,f[143]=W):W=f[143];f[144]!==v||f[145]!==D||f[146]!==q||f[147]!==z||f[148]!==a||f[149]!==e||f[150]!==T||f[151]!==W?(X=l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{handleMessageExpired:v,hasReactions:D,message:q,outgoing:z,renderGutterItem:a,renderMessageActions:e,renderProfile:T,children:W}),f[144]=v,f[145]=D,f[146]=q,f[147]=z,f[148]=a,f[149]=e,f[150]=T,f[151]=W,f[152]=X):X=f[152];f[153]!==y?(Y=y?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null,f[153]=y,f[154]=Y):Y=f[154];f[155]!==Q||f[156]!==C||f[157]!==A||f[158]!==n||f[159]!==q||f[160]!==va||f[161]!==z||f[162]!==sa||f[163]!==x||f[164]!==B||f[165]!==ra||f[166]!==S||f[167]!==R||f[168]!==E||f[169]!==P||f[170]!==H||f[171]!==X||f[172]!==Y?(Z=l.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:Q,isDialogOpened:C,isFocused:A,isModal:n,message:q,messageDomID:va,outgoing:z,setFocused:sa,setHovered:x,setIsDialogOpened:B,stopHoveringRef:ra,children:[S,R,E,P,H,X,Y]}),f[155]=Q,f[156]=C,f[157]=A,f[158]=n,f[159]=q,f[160]=va,f[161]=z,f[162]=sa,f[163]=x,f[164]=B,f[165]=ra,f[166]=S,f[167]=R,f[168]=E,f[169]=P,f[170]=H,f[171]=X,f[172]=Y,f[173]=Z):Z=f[173];f[174]!==G||f[175]!==Z?($=l.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:l.jsx(c("MWAttachmentContext").Provider,{value:G,children:Z})}),f[174]=G,f[175]=Z,f[176]=$):$=f[176];f[177]!==N||f[178]!==$?(U=l.jsxs(l.Fragment,{children:[N,$]}),f[177]=N,f[178]=$,f[179]=U):U=f[179];return U}function la(a){return l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})}la.displayName=la.name+" [from "+f.id+"]";function ma(a,b){return null}function na(a){return h._("__JHASH__hPUAFnNBzSj__JHASH__")}function oa(a,b){return l.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})}oa.displayName=oa.name+" [from "+f.id+"]";function pa(a,b,d,e,f,g,h,i,j){return l.jsx(c("IGDAttachment.react"),{connectBottom:f,connectTop:e,formatText:i,hasText:h,mediaRenderQpl:j,message:a,nextMessage:b,outgoing:g,prevMessage:d})}pa.displayName=pa.name+" [from "+f.id+"]";var o=["message","nextMessage","prevMessage","reactions","reactionsV2"];function e(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return o.includes(d)?c("deepEquals")(a,b):a===b})}m=n(a,e);g["default"]=m}),226);
__d("IGDMessageSeenStatusLayout.react",["IGDSText.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),e=a.children;a=a.extraLoggingData;var f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g;b[0]!==a||b[1]!==f?(g={eventName:"message_seen_status_rendered",extraData:a,flowInstanceId:f},b[0]=a,b[1]=f,b[2]=g):g=b[2];a=c("MessengerWebUXLogger").useImpressionLoggerRef(g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 x13a6bvl xvrgn94 x7ggn4r xhepvqq",b[3]=f):f=b[3];b[4]!==e?(g=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e}),b[4]=e,b[5]=g):g=b[5];b[6]!==a||b[7]!==g?(e=j.jsx("div",{className:f,ref:a,children:g}),b[6]=a,b[7]=g,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure";e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchFailedLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(2),e=d("MWLSThread").useThread(a,j);e=e!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e);var f=c("useIGDBroadcastChannelLogger")(a);b[0]!==f?(a=function(){c("promiseDone")(f(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE))},b[0]=f,b[1]=a):a=b[1];b=a;return e?b:c("emptyFunction")}function j(a){return a.threadSubtype}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchSuccessLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","ReQL","promiseDone","react","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState,l=b.c;function a(a,b){var e=l(16),f=(h||(h=c("useReStore")))(),g=d("MWLSThread").useThread(a,m),i;e[0]!==g?(i=g!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(g),e[0]=g,e[1]=i):i=e[1];var n=i,o=c("useIGDBroadcastChannelLogger")(a);g=k(!1);var p=g[0],q=g[1];e[2]!==n||e[3]!==p||e[4]!==f.tables.community_chat_message_seen_count||e[5]!==a||e[6]!==b||e[7]!==o?(i=function(){if(n&&!p)var e=d("ReQL").fromTableAscending(f.tables.community_chat_message_seen_count).getKeyRange(a,b).subscribe(function(a,b){c("promiseDone")(o(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE)),e(),q(!0)})},e[2]=n,e[3]=p,e[4]=f.tables.community_chat_message_seen_count,e[5]=a,e[6]=b,e[7]=o,e[8]=i):i=e[8];e[9]!==b||e[10]!==a||e[11]!==n||e[12]!==p||e[13]!==f||e[14]!==o?(g=[b,a,n,p,f,o],e[9]=b,e[10]=a,e[11]=n,e[12]=p,e[13]=f,e[14]=o,e[15]=g):g=e[15];j(i,g)}function m(a){return a.threadSubtype}g["default"]=a}),98);
__d("useMessageSeenCountNumber",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(10),e=(h||(h=c("useReStore")))(),g;b[0]!==a.messageId||b[1]!==a.threadKey||b[2]!==e.tables.community_chat_message_seen_count?(g=function(){return a.messageId!=null?d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},b[0]=a.messageId,b[1]=a.threadKey,b[2]=e.tables.community_chat_message_seen_count,b[3]=g):g=b[3];var j;b[4]!==e||b[5]!==a.threadKey||b[6]!==a.messageId?(j=[e,a.threadKey,a.messageId],b[4]=e,b[5]=a.threadKey,b[6]=a.messageId,b[7]=j):j=b[7];g=d("ReQLSuspense").useFirst(g,j,f.id+":21");b[8]!==g?(j=g!=null?(i||(i=d("I64"))).to_int32(g.seenCount):null,b[8]=g,b[9]=j):j=b[9];g=j;return g}g["default"]=a}),98);
__d("IGDMessageSeenStatusBroadcastChannel.react",["fbt","IGDMessageSeenStatusLayout.react","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","intlSummarizeNumber","promiseDone","react","useIGDBroadcastChannelSeenCountFetchFailedLogger","useIGDBroadcastChannelSeenCountFetchSuccessLogger","useMessageSeenCountNumber","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c;function a(a){var b=m(13),d=a.message;a=a.thread;c("useIGDBroadcastChannelSeenCountFetchSuccessLogger")(a.threadKey,d.messageId);var e=c("useIGDBroadcastChannelSeenCountFetchFailedLogger")(a.threadKey),g=(i||(i=c("useReStore")))(),j;b[0]!==g||b[1]!==d.messageId||b[2]!==d.threadKey||b[3]!==e?(j=function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(a),{messageId:d.messageId,threadKey:d.threadKey})},"readwrite",void 0,void 0,f.id+":51"),c("emptyFunction"),e)},b[0]=g,b[1]=d.messageId,b[2]=d.threadKey,b[3]=e,b[4]=j):j=b[4];var n;b[5]!==g||b[6]!==e||b[7]!==d.messageId||b[8]!==d.threadKey||b[9]!==a.threadSubtype?(n=[g,e,d.messageId,d.threadKey,a.threadSubtype],b[5]=g,b[6]=e,b[7]=d.messageId,b[8]=d.threadKey,b[9]=a.threadSubtype,b[10]=n):n=b[10];l(j,n);a=c("useMessageSeenCountNumber")(d);b[11]!==a?(j=a!=null&&a!==0?k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__2h7TT-1dXxA__JHASH__",[h._param("lastMessageSeenCount",c("intlSummarizeNumber")(a))])}):null,b[11]=a,b[12]=j):j=b[12];return j}g["default"]=a}),226);
__d("useIGDSeenParticipantsAndContacts",["I64","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useMemo;var j=b.c;function a(a,b){var c=j(7),e=d("MWPActor.react").useActor();if(c[0]!==b||c[1]!==e||c[2]!==a.timestampMs){var f;c[4]!==e||c[5]!==a.timestampMs?(f=function(b){var c=b[0];b=b[1];return!(i||(i=d("I64"))).equal(b.id,e)?(i||(i=d("I64"))).ge(c.readWatermarkTimestampMs,a.timestampMs):!1},c[4]=e,c[5]=a.timestampMs,c[6]=f):f=c[6];f=Array.from(b.values()).filter(f);c[0]=b;c[1]=e;c[2]=a.timestampMs;c[3]=f}else f=c[3];b=f;return b}g["default"]=a}),98);
__d("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(e.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(h||(h=d("I64"))).to_string(a.id),[b,a]]})},[e,b],f.id+":36");return new Map(a)}g["default"]=a}),98);
__d("IGDMessageSeenStatusGroup.react",["fbt","IGDMessageSeenStatusLayout.react","react","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(17),d=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);d=c("useIGDSeenParticipantsAndContacts")(d,a);a=d.length;if(a===0)return null;var e=d[0];e[0];e=e[1];if(a===1){var f;b[0]!==e.name?(f=h._("__JHASH__gdjDChfEo6A__JHASH__",[h._param("name",e.name)]),b[0]=e.name,b[1]=f):f=b[1];var g;b[2]!==f?(g=k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:f}),b[2]=f,b[3]=g):g=b[3];return g}f=d[1];f[0];g=f[1];if(a===2){b[4]!==e.name||b[5]!==g.name?(f=h._("__JHASH__yNECeZ5m4aY__JHASH__",[h._param("firstUsername",e.name),h._param("secondUsername",g.name)]),b[4]=e.name,b[5]=g.name,b[6]=f):f=b[6];var i;b[7]!==f?(i=k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:f}),b[7]=f,b[8]=i):i=b[8];return i}if(a>=3){if(b[9]!==d){d[0];d[1];f=d.slice(2);i=f;b[9]=d;b[10]=i}else i=b[10];b[11]!==e.name||b[12]!==g.name||b[13]!==i.length?(a=h._("__JHASH__heuxvMZYF3W__JHASH__",[h._param("firstUsername",e.name),h._param("secondUsername",g.name),h._param("remainingUserCount",i.length.toString())]),b[11]=e.name,b[12]=g.name,b[13]=i.length,b[14]=a):a=b[14];b[15]!==a?(f=k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:a}),b[15]=a,b[16]=f):f=b[16];return f}return null}g["default"]=a}),226);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).c,k=1e3*60,l=k*60;function m(a,b){return a+b>=d("ServerTime").getMillis()}function n(a,b){var c=new Date(d("ServerTime").getMillis());c.setDate(c.getDate()-b);b=new Date(a);if(c.getDay()===b.getDay()&&c.getMonth()===b.getMonth())return c.getFullYear()===b.getFullYear();else return!1}function a(a){var b=j(7);if(m(a,k)){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__yCT-6TTQLoe__JHASH__"),b[0]=c):c=b[0];return c}else if(m(a,k*59)){b[1]!==a?(c=h._("__JHASH__O4B4eMqb3mU__JHASH__",[h._param("mins",Math.floor((d("ServerTime").getMillis()-a)/k).toString())]),b[1]=a,b[2]=c):c=b[2];return c}else if(m(a,l*23)){b[3]!==a?(c=h._("__JHASH__398KkN5HDjO__JHASH__",[h._param("hours",Math.floor((d("ServerTime").getMillis()-a)/l).toString())]),b[3]=a,b[4]=c):c=b[4];return c}else if(n(a,0)){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__iw8t4iQWjoj__JHASH__"),b[5]=c):c=b[5];return c}else if(n(a,1)){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__dzU1Cfcfr8H__JHASH__"),b[6]=c):c=b[6];return c}else return}g["default"]=a}),226);
__d("IGDMessageSeenStatusOneToOne.react",["fbt","I64","IGDMessageSeenStatusLayout.react","getInstamadilloLoggingExtraData","react","useIGDRelativeTimeStamp","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function m(a){var b=k(5),e=a.extraLoggingData;a=a.participant;var f;b[0]!==a.readWatermarkTimestampMs?(f=(j||(j=d("I64"))).to_float(a.readWatermarkTimestampMs),b[0]=a.readWatermarkTimestampMs,b[1]=f):f=b[1];a=c("useIGDRelativeTimeStamp")(f);b[2]!==a||b[3]!==e?(f=a!=null?l.jsx(c("IGDMessageSeenStatusLayout.react"),{extraLoggingData:e,children:h._("__JHASH__h2UawhHd-M5__JHASH__",[h._param("timestamp",a)])}):l.jsx(c("IGDMessageSeenStatusLayout.react"),{extraLoggingData:e,children:h._("__JHASH__exjilGdWoWv__JHASH__")}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function a(a){var b=k(5),d=a.message;a=a.thread;var e=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);d=c("useIGDSeenParticipantsAndContacts")(d,e);b[0]!==a?(e=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=e):e=b[1];a=e;if(d.length>0){e=d[0];d=e[0];b[2]!==a||b[3]!==d?(e=l.jsx(m,{extraLoggingData:a,participant:d}),b[2]=a,b[3]=d,b[4]=e):e=b[4];return e}else return null}g["default"]=a}),226);
__d("IGDMessageSeenStatus.react",["I64","IGDMessageSeenStatusBroadcastChannel.react","IGDMessageSeenStatusGroup.react","IGDMessageSeenStatusOneToOne.react","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(9),e=a.message;a=a.thread;var f=d("MWPActor.react").useActor();f=(i||(i=d("I64"))).equal(e.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2))&&(i||(i=d("I64"))).equal(e.senderId,f);if(f){if(a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)){b[0]!==e||b[1]!==a?(f=l.jsx(c("IGDMessageSeenStatusBroadcastChannel.react"),{message:e,thread:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)){b[3]!==e||b[4]!==a?(f=l.jsx(c("IGDMessageSeenStatusGroup.react"),{message:e,thread:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}b[6]!==e||b[7]!==a?(f=l.jsx(c("IGDMessageSeenStatusOneToOne.react"),{message:e,thread:a}),b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}else return null}g["default"]=a}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:l;d=(b==null?void 0:b.doNotDebounce)!==!0;b=k(a);a=b[0];var f=b[1],g=i(n,[]);b=i(m,[g,e]);var h=j(null);return[a,d?b:f,g];function m(a){g(),h.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(h.current),h.current=null}}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.delayMs;a=a.vcIgnore;var d=c("useIsMountedRef")();b=c("useDebouncedState")(function(){return!0},{debounceMS:b,doNotDebounce:!b});var e=b[0],f=b[1];b=j(function(){return{onHidden:function(){d.current&&f(!1)},onVisible:function(){d.current&&f(!0)}}},[d,f]);b=c("useVisibilityObserver")(b);return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:b,role:"row"},a===!0?c("CometVisualCompletionAttributes").IGNORE:{},{children:i.jsx("div",{role:"cell",children:e?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListLoggingContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useRef,m=j({current:""});function a(a){var b=a.children;a=a.flowInstanceId;a=l(a);return i.jsx(m.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){var a=k(m);(a.current===null||a.current==="")&&(a.current=c("uuidv4")());return a}g.MWMessageListLoggingContext=a;g.useFlowInstanceIdContext=b;g.useFlowInstanceId=e}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPFetchMessagesPage",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g,i,j,k,l,m){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,i));if(b==null||(g==="before"?b.isLoadingBefore:b.isLoadingAfter))return;f=k==null?null:yield (f=a.messages_ranges_v2__generated).get.apply(f,k);if(k!=null&&(f==null||(g==="before"?f.isLoadingBefore:f.isLoadingAfter)))return;if(g==="before")if(f==null||b.hasMoreBefore){var n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j);if(n){if(m!=null)return m(a,b.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(l));if(n){if(m!=null)return m(a,f.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f.minTimestampMs,threadKey:f.threadKey})}else if(f==null||b.hasMoreAfter){n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j);if(n)if(c("gkx")("23927")){if(m!=null)return m(a,b.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(l));if(n)if(c("gkx")("23927")){if(m!=null)return m(a,f.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:f.minTimestampMs,threadKey:f.threadKey})}});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":40")}g["default"]=a}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).to_string(b);return{lock:{after:function(){var b=f();b.after===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.after=!0;a.set(e,b)},before:function(){var b=f();b.before===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.before=!0;a.set(e,b)}},release:{after:function(){var b=f();b.after=!1;a.set(e,b)},before:function(){var b=f();b.before=!1;a.set(e,b)}},state:f()};function f(){var b=a.get(e);b==null&&(b={after:!1,before:!1},a.set(e,b));return b}}g.localThreadStatus=a}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","asyncToGeneratorRuntime","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){var m,o;m=(yield (m=a.tables.messages_ranges_v2__generated).get.apply(m,f));if(m==null)return;o=h&&(yield (o=a.tables.messages_ranges_v2__generated).get.apply(o,h));if(o==null&&h!=null)return;h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g);var p=i!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(i):!1;if(e==="before")if(m.hasMoreBefore)if(h)return l(a,b,e,m,j,g,k);else return n(a,f,m.threadKey,e);else if(o!=null)if(p)return l(a,b,e,o,j,g,k);else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e);else return;else{e;if(m.hasMoreAfter)if(h)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,f,m.threadKey,e);else if(o!=null){p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(i));if(p)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e)}else return}});return i.apply(this,arguments)}var j=new Map(),k=new Map();function l(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i){if(c("qex")._("1016")!==!0){var k=d("MWPFetchMessagesThreadLocks").localThreadStatus(j,f.threadKey);if(k.state[e])return;try{k.lock[e]();var l=(yield a.tables.messages.index("messageId").get(f.minMessageId));return yield g.fetchSecureMessagesProtocol(a,f.threadKey,h,l==null?void 0:l.primarySortKey,f,e,b,"user",i)}finally{k.release[e]()}}});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,i){g=d("MWPFetchMessagesThreadLocks").localThreadStatus(k,g);if(g.state[i])return;try{g.lock[i]();return yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,e));if(!b)return;if(b.isLoadingBefore&&i==="before")return;if(b.isLoadingAfter&&i==="after")return;return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(i==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":212")}finally{g.release[i]()}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMessagePointQueryStoredProcedure";e.exports=a}),null);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPFetchMessagesRangeForMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,g){return a.runInTransaction(function(a){var f=(h||(h=d("I64"))).to_int32(g);(f===15||f===16)&&c("FBLogger")("occam").mustfix("MWPFetchMessagesRangeForMessage: incorrect call to MPQ with secure mailbox");return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b,threadType:g})},"readwrite","ui",void 0,f.id+":28")}g["default"]=a}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x2mfxb",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x2mfxb",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:j.jsx("div",{className:(h||(h=c("stylex")))([n.animationWrapper,d?n.animateIn:n.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":23");if(e==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;e=e.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(e.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return e===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,function(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)});var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){return{}}var m=(h=b("cr:2865"))!=null?h:a;function e(a,e){var g,h=(i||(i=c("useReStore")))(),k=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(k==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_messaging");g=m();var n=g.setIsPassive,o=c("MessengerWebUXLogger").useInteractionLogger();return l(function(){o==null?void 0:o({eventName:"mark_thread_as_read"}),n!=null&&n(!1),c("promiseDone")(h.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(k)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((j||(j=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:k,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:k})}});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))},[o,n,h,k,a])}g["default"]=e}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWLSMarkThreadAsRead")(e,a.threadKey),l=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey),m=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"]);return d("Int64Hooks").useCallbackInt64(function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(f.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,m&&d("MAWContactRelationshipType").getContactRelationshipType(m),m?d("LSContactUtils").isContactBlocked(m):!1,m?d("LSContactUtils").isContactRestricted(m):!1,void 0,l,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.folderName,a.authorityLevel,a.threadKey,g,f,m,l])}g["default"]=a}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","asyncToGeneratorRuntime","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("relay-runtime").Observable.create(function(f){var g=e(a),i=function(a){if(f.closed)return;f.next(a)},j,k=[],l=g.subscribe(function(a,b){k.push([a,b])}),m=a.subscribeToCommit(function(){if(f.closed)return;if(j!=null&&k.length>0){var a=j;c("applyChangesToBPlusTree")(a,k)&&i(Array.from(a.entries()))}}),n=g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)),o=[];c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(!f.closed){var a=n.next();(h||(h=c("isPromise")))(a)&&(a=(yield a));if(a.done)break;o.push(a.value)}if(f.closed)return;a=j=c("createBPlusTreeFromSorted")(o,g.direction);i(c("applyChangesToBPlusTree")(a,k)?Array.from(a.entries()):o)})());return function(){l(),m()}})}g.create=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo;b={isPassive:!1,setIsPassive:c("emptyFunction")};var n=e(b);function o(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=a.children,c=a.isPassive,e=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);a=o(a);l(function(){e(!1)},[e,a]);a=m(function(){return{isPassive:c,setIsPassive:e}},[c,e]);return j.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=n;g.MWInboxPassiveContextProvider=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","asyncToGeneratorRuntime","cr:268","gkx","promiseDone","useAsyncReStore","useEmptyFunction","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:268"))!=null?e:c("useEmptyFunction");function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("24041")?!f.isPassive:!0:!0;e=(i||(i=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(i||(i=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return l.apply(this,arguments)}function m(a,e){var f=c("useAsyncReStore")(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i=c("useMWInboxPassiveContext")();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield f);if(yield k(b,a,g,i,h))return e()})())},[f,a,g,i,h,e])}function n(a,e,f,g){var i=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!e())return f()});return function(){return c.apply(this,arguments)}}();window.addEventListener("focus",c);document.hasFocus()&&void c();var h=d("ReQLObservable").create(i,function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g)}).subscribe({next:c});return function(){window.removeEventListener("focus",c),h.unsubscribe()}},[f,a,e,g,i])}function a(a,b,c,d){b=m(a.threadKey,b);j(a);n(c,d,b,a.threadKey);return b}g["default"]=a}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){var k=(i||(i=c("useReStore")))(),l=a.consistentThreadFbid,m=a.threadKey,n=a.threadType,o=c("useMAWMarkThreadAsRead")(a),p=b("cr:886")({consistentThreadFbid:l,entryPoint:j,threadKey:m,threadType:n});l=d("Int64Hooks").useCallbackInt64(function(){p==null?void 0:p();if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(n)){o();return}c("promiseDone")(k.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:m})},"readwrite","ui",void 0,f.id+":62"))},[k,p,o,m,n]);return c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,l,e,g)}g["default"]=a}),98);
__d("useMWPMessageListScroll",["MWPVisibleMessageContext.react","MWScrollUtils","Promise","react","requestAnimationFrame","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.createRef,k=e.useCallback,l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o=e.useState;function p(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e,f,g,i,q,r,s,t,u){var v=n(null),w=n(!1),x=k(function(){if(!u)return;if(q==null||w.current)return;q(!1);w.current=!0},[q,u]);l(function(){var a;if(q==null||w.current)return;if(g!=null&&!g.hasMoreBefore){q(!0);w.current=!0;return}i&&i((a=(a=v.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,g===f);a=(a=v.current)==null?void 0:a.doesContentFillScroll;if(a==null)return;if(a()){q(!1);w.current=!0;return}},[q,g,i,f]);var y=o(!0),z=y[0],A=y[1],B=(g==null?void 0:g.hasMoreAfter)===!1;y=k(function(){return new(h||(h=b("Promise")))(function(a){var b=v.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&B)})})},[B]);var C=c("useMWPSafelyMarkThreadAsRead")(t,y,a,e);l(function(){var b;b=(b=v.current)==null?void 0:b.onCloseToBottom;if(b!=null)return b(0,function(b){b&&!a()&&C()})},[C,a]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null&&r!=null)return a(36,r)},[r]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,A)},[f==null?void 0:f.minMessageId]);var D=n(new Map());t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var E=t.setVisibleMessage;y=t.visibleMessage;var F=y==null?void 0:y.messageId;e=k(function(a){return p(D.current,a,j)},[]);l(function(){var a;if(F==null)return;a=(a=D.current.get(F))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[F]);var G=k(function(){g===f&&(v.current!=null&&v.current.scrollToBottom()),E(function(){return void 0})},[f,g,E]);m(s,function(){return{getScrollAreaElement:function(){var a;return(a=v.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(){G()},restoreScrollPosition:function(){var a;return(a=v.current)==null?void 0:a.restoreScrollPosition()}}},[G]);return[z,v,G,e,x]}g["default"]=a}),98);
__d("useShallowEqualState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){a=j(a);var b=a[0],d=a[1];a=i(function(a){if(typeof a==="function"){var b=a;return d(function(a){var d=b(a);return c("shallowEqual")(a,d)?a:d})}return d(function(b){return c("shallowEqual")(b,a)?b:a})},[]);return[b,a]}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWFetchMoreMessagesWhenEnabled","MAWStateContext.react","MWPFetchMessagesPage","MWPFetchMessagesPageV2","MWPFetchMessagesRangeForMessage","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","emptyFunction","gkx","promiseDone","react","useMWPMessageListScroll","useReStore","useShallowEqualState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.startTransition,o=m.useCallback,aa=m.useContext,ba=3;function a(a){return void 0}var ca=(m=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages)!=null?m:a;function b(){return void 0}var da=(m=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useSecureDataStorage)!=null?m:b,p={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},q=(k||(k=d("I64"))).of_string("9999999999999");function r(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ea(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function s(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":150")}function fa(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,q)?d("ReQL").empty():d("ReQL").fromTableDescending(b.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":176")}a=l.forwardRef(e);function e(a,b){var e=a.callingSurface,g=a.checkIsThreadManuallySetAsUnread;g=g===void 0?c("emptyFunction").thatReturnsFalse:g;var i=a.entryPoint,m=a.headerStyle,ga=a.isSufficientContentLoadedAbove,t=a.logScrollerMetadata,u=a.onInitialLoadingCompleted;a.onPageLoaded;var v=a.onScrollToBottom,ha=a.onUserScroll,w=a.pageSize,ia=a.renderFooter,x=a.renderHeader,y=a.renderHeaderContentSpacer,z=a.renderJumpToMostRecentMessageButton,A=a.renderLoadingAnimation,B=a.renderRow,C=a.secondaryThread,D=a.setScrollTopInResetForBottomAnchor;D=D===void 0?!0:D;a.shouldPausePageLoadTracking;var E=a.thread;a=a.triggerRenderingCompleteOnResize;a=a===void 0?!1:a;var F=E.threadKey,G=E.threadType,H=C==null?void 0:C.threadKey,I=C==null?void 0:C.threadType,J=(h||(h=c("useReStore")))(),K=aa(d("MAWStateContext.react").MAWStateContext),ja=K.dispatch,ka=ca(G),L=da(),M=(K=w)!=null?K:c("gkx")("23432")?3:15,N=d("Int64Hooks").useCallbackInt64(function(a,b,d){c("gkx")("239")&&L!=null?c("promiseDone")(c("MWPFetchMessagesPageV2")(J,M,d,a,G,b,I,L,ja)):c("promiseDone")(c("MWPFetchMessagesPage")(J,M,d,a,G,b,I,ka))},[M,J,I,ka,G,L]),la=d("Int64Hooks").useCallbackInt64(function(a){c("promiseDone")(c("MWPFetchMessagesRangeForMessage")(J,F,a,G))},[J,F,G]),O=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(F)},[J,F],f.id+":311");K=d("ReQLSuspense").useFirst(function(){return H==null?d("ReQL").empty():d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(H)},[J,H],f.id+":318");var P=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();P=P.visibleMessage;var Q=P==null?void 0:P.messageId,R=P==null?void 0:P.timestamp,S=d("ReQLSuspense").useFirst(function(){return Q!=null&&R!=null?d("ReQL").fromTableAscending(J.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(F,R,Q):d("ReQL").empty()},[J,F,Q,R],f.id+":333"),T=ea(d("ReQLSuspense").useFirst(function(){return R!=null?d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(F).bounds({lte:[R]}):d("ReQL").empty()},[J,R,F],f.id+":346"),R);P=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:O});var U=P[0],ma=P[1],V=o(function(a){return n(function(){return ma(a)})},[ma,n]);P=U.displayMessage;U=U.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){Q==null||R==null?V(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:O})}):T==null?la(Q):T.minMessageId===Q&&T.hasMoreBefore?N(d("ReQL").key(T.threadKey,T.minTimestampMs,T.minMessageId),null,"before"):T.maxMessageId===Q&&T.hasMoreAfter?N(d("ReQL").key(T.threadKey,T.minTimestampMs,T.minMessageId),null,"after"):S!=null&&V(function(a){return babelHelpers.extends({},a,{displayMessage:S,displayMessagesRange:T})})},[O,N,la,V,S,Q,R,T]);var W=s(U),X=fa(U),na=s(K);g=c("useMWPMessageListScroll")(g,i,O,U,t,u,v,b,E,a);i=g[0];var Y=g[1];t=g[2];var oa=g[3];u=g[4];v=d("Int64Hooks").useMemoInt64(function(){var a=J.tables.messages.index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(G),e=J.tables.messages.index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(F).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return H==null?b!=null?d("ReQL").union(d("ReQL").prependKey(b.getKeyRange(F),0),d("ReQL").prependKey(e,1)):d("ReQL").prependKey(e,1):d("ReQL").union(d("ReQL").prependKey(a.getKeyRange(H).filter(function(a){a=a.isCollapsed;return!a}),0),d("ReQL").prependKey(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[J,H,F,G]);b=U!=null&&(k||(k=d("I64"))).equal(U.maxTimestampMs,q);a=U!=null&&(k||(k=d("I64"))).equal(U.minTimestampMs,(k||(k=d("I64"))).zero);g=K!=null&&(k||(k=d("I64"))).equal(K.minTimestampMs,(k||(k=d("I64"))).zero);var pa=(e=e)!=null?e:"thread_view";e=o(function(a,b){var e=b.nextItem;b=b.previousItem;return l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:pa,disableHiding:!0,scrollport:function(){var a;return(a=Y.current)==null?void 0:a.getScrollAreaElement()},unmountXStyle:p.backgroundColor,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:B({domElementRef:oa(a.messageId),message:a,nextMessage:e,prevMessage:b})})},a.offlineThreadingId)},[oa,B,pa,Y]);var Z=(k||(k=d("I64"))).equal(E.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(E.threadType);if((U==null||W==null&&!a||X==null&&!b)&&!Z){if((k||(k=d("I64"))).equal(E.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),x!=null?x():null]});E=U==null?"displayMessagesRangeNull":W==null&&!a?"noMinMessage":X==null&&!b?"noMaxMessage":"other";return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+E,hold:!0}),A!=null?A(!1):null]})}var $=!Z&&U!=null?d("ReQL").key(U.threadKey,U.minTimestampMs,U.minMessageId):null,qa=K==null?null:d("ReQL").key(K.threadKey,K.minTimestampMs,K.minMessageId);a=P==null?"bottom":[1].concat(r(P));b=W==null?na==null||g?null:[0].concat(r(na)):[1].concat(r(W));E=X==null?null:[1].concat(r(X));return l.jsxs(c("Box.react"),{xstyle:p.list,children:[l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:b,lte:E},data:v,hasReachedBottom:!Z&&U!=null?!U.hasMoreAfter:!0,hasReachedTop:!Z&&U!=null?K==null?!(U.hasMoreBefore||C!=null):!(U.hasMoreBefore||K.hasMoreBefore):!0,headerStyle:m,imperativeRef:Y,initialAnchor:a,initialRenderComplete:u,isSufficientContentLoadedAbove:ga,onReachingBottom:!Z&&$!=null?function(){N($,qa,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){N($,qa,"before")}:c("emptyFunction"),onUserScroll:ha,pageSize:w,renderFooter:ia,renderHeader:x,renderHeaderContentSpacer:y!=null?y:function(){return l.jsx(c("Box.react"),{xstyle:p.spacer})},renderItem:e,renderLoadingAnimation:function(a,b){a=a==="onTop"&&b>ba;return l.jsxs(l.Fragment,{children:[A==null?void 0:A(a),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems",hold:!a})]})},setScrollTopInResetForBottomAnchor:D,xstyle:p.list})}),z&&l.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&U!=null?!i||U.hasMoreAfter:!1,children:z(t)})]})}e.displayName=e.name+" [from "+f.id+"]";m=a;g.default=m}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function l(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.hasMessages,g=f===void 0?!0:f;f=a.modal;var h=a.onNavigate,m=h===void 0?c("emptyFunction"):h;h=a.setModal;var n=a.wrapX;n=n===void 0?!1:n;a=a.wrapY;a=a===void 0?!1:a;var o=j(function(a){m(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=b==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(l):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]),p=k(function(){return g?i.jsx("div",{"aria-label":b,className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:e}):i.jsx("div",{className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:e})},[b,e,g]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:h,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:o,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:n,wrapY:a,children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=j(null),c=i(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWChatReactionsUtils","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","react-forget-runtime","useAsyncReStore","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");e.useCallback;e.useContext;var k=e.c;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){e=(yield (f=d("ReQL")).firstAsync(f.leftJoin(f.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,b)}),f.fromTableAscending(a.tables.contacts,["blockedByViewerStatus"])).map(function(a){a[0];a=a[1];return a})));if(e!=null)return!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return m.apply(this,arguments)}function a(a){var e=k(6),f=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),h=a.threadKey,i=c("useIGDGlobalReactMessage")(a,"reaction_tray");a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWEditMessageContext.react").Context,n);a=a.editMessageData;var j=a!=null;e[0]!==j||e[1]!==f||e[2]!==h||e[3]!==g||e[4]!==i?(a=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(j)return;var a=(yield f),b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(h)));if(!b)return;a=(yield l(a,g,h,b.threadType));b=!d("LSThreadBitOffset").has(18,b)||a;if(b)return;c("promiseDone")(i(d("MWChatReactionsUtils").heartType1,"like"))})())},e[0]=j,e[1]=f,e[2]=h,e[3]=g,e[4]=i,e[5]=a):a=e[5];return a}function n(a){return[a.editMessageData]}g["default"]=a}),98);
__d("useIGDAutoFitViewport",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){i(function(){if(!j()||!a.current)return;var c=a.current;if(!b){var d=[],e=0,f=!1;l(d,window,"touchstart",function(a){e=a.touches[0].clientY},!0);l(d,window,"touchmove",function(a){a=a.touches[0].clientY;a=a-e>0;if(!f)return;!a?(c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.alignSelf="auto",c.scrollIntoView(!0))},!0);k(d,window.visualViewport,"resize",function(){f=window.innerHeight>window.visualViewport.height,f?(c.style.height=window.visualViewport.height+"px",c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.height="auto",c.style.alignSelf="auto")});return function(){for(var a=0;a<d.length;a++){var b=d[a];b()}}}else c.style.height="auto",c.style.alignSelf="auto"},[b,a])}function j(){return window.visualViewport&&d("PolarisUA").isMobile()&&d("PolarisConfig").isAndroid()}function k(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}function l(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}g.useIGDAutoFitViewport=a;g.checkIGDAutoFitViewportEligibility=j}),98);
__d("useIGDMessageListThemeConfig",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={dark:{"chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px"},light:{"chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px"},type:"VARIABLES"},a[0]=b):b=a[0];a=b;return a}g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.tables.participants,["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),226);
__d("useMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(12),e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=c("mwpMessageHasAttachment")(a),b[0]=a,b[1]=g):g=b[1];var i=g;b[2]!==i||b[3]!==e.tables.attachments||b[4]!==a.threadKey||b[5]!==a.messageId?(g=function(){return i?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},b[2]=i,b[3]=e.tables.attachments,b[4]=a.threadKey,b[5]=a.messageId,b[6]=g):g=b[6];var k;b[7]!==e||b[8]!==a.threadKey||b[9]!==a.messageId||b[10]!==i?(k=[e,a.threadKey,a.messageId,i],b[7]=e,b[8]=a.threadKey,b[9]=a.messageId,b[10]=i,b[11]=k):k=b[11];return d("ReQLSuspense").useFirst(g,k,f.id+":23")}g["default"]=a}),98);
__d("IGDMessageList.react",["BaseThemeProvider.react","FBLogger","IGDEBRestoreMessageById","IGDEqualityUtils","IGDInstamadilloUtils","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDVisibilityAware.react","IGDXMAUtils","Int64Hooks","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWInboxThreadMessagesSpinner.react","MWMessageListLoggingContext","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageReactions.react","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","PolarisUA","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10750","cr:10751","isThreadLevelCutoverEnabled","polarisDebounce","promiseDone","qex","react","shallowEqual","stylex","useAsyncReStore","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDMessageListThemeConfig","useMWPAriaLabelForMessageListGrid","useMessageAttachment","useStableCallback","useStableValue","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useRef,n=e.useState,o=e.c,p={bottom:500,top:500},q={bottom:100,top:100};function r(a){var e=o(39),f=a.formatText,g=a.modal,i=a.onGetScrollAreaElement,k=a.stopHoveringRef,m=a.thread,n=a.domElementRef,r=a.message,s=a.nextMessage;a=a.prevMessage;var t;e[0]!==m.threadType?(t=d("LSMessagingThreadTypeUtil").isGroup(m.threadType),e[0]=m.threadType,e[1]=t):t=e[1];t=t;var u;e[2]!==r?(u=d("IGDInstamadilloUtils").isInstamadilloMessage(r),e[2]=r,e[3]=u):u=e[3];var v=u;u=c("useStableCallback")(c("useHandleDoubleClickToLike")(r));var w=d("LSThreadBitOffset").has(139,m),x=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(r),y=d("MWPMessageReactions.react").useReactions(r),z=c("useMessageAttachment")(r),A;e[4]!==z?(A=d("IGDXMAUtils").checkIsXMAExpired(z),e[4]=z,e[5]=A):A=e[5];z=A;var B=c("useAsyncReStore")(),C;e[6]!==v||e[7]!==B||e[8]!==r.messageId?(A=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("qex")._("954");if(!v||!Boolean(a))return;a=(yield B);yield c("IGDEBRestoreMessageById")(a,r.messageId)})())},C=[B,v,r.messageId],e[6]=v,e[7]=B,e[8]=r.messageId,e[9]=A,e[10]=C):(A=e[9],C=e[10]);l(A,C);A=g===r.messageId;C=w?x:void 0;e[11]!==n||e[12]!==f||e[13]!==t||e[14]!==A||e[15]!==v||e[16]!==z||e[17]!==r||e[18]!==s||e[19]!==u||e[20]!==a||e[21]!==y||e[22]!==C||e[23]!==k||e[24]!==m.threadType?(g=j.jsx(c("IGDMessageRow.react"),{domElementRef:n,formatText:f,isGroupThread:t,isModal:A,isSecureMessage:v,isXMAExpired:z,message:r,nextMessage:s,onDoubleClickToLike:u,prevMessage:a,reactions:y,reactionsV2:C,stopHoveringRef:k,threadType:m.threadType}),e[11]=n,e[12]=f,e[13]=t,e[14]=A,e[15]=v,e[16]=z,e[17]=r,e[18]=s,e[19]=u,e[20]=a,e[21]=y,e[22]=C,e[23]=k,e[24]=m.threadType,e[25]=g):g=e[25];e[26]!==s||e[27]!==r||e[28]!==m?(w=s!=null?null:j.jsx(c("IGDMessageSeenStatus.react"),{message:r,thread:m}),e[26]=s,e[27]=r,e[28]=m,e[29]=w):w=e[29];e[30]!==g||e[31]!==w?(x=j.jsxs(j.Fragment,{children:[g,w]}),e[30]=g,e[31]=w,e[32]=x):x=e[32];var D=x;n=c("useIGDMessageListThemeConfig")();e[33]!==i||e[34]!==D?(f=function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(a),style:b,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_messages",children:j.jsx(c("IGDVisibilityAware.react"),{root:i,rootMargin:d("PolarisUA").isMobile()?q:p,children:D})})})},e[33]=i,e[34]=D,e[35]=f):f=e[35];e[36]!==n||e[37]!==f?(t=j.jsx(c("BaseThemeProvider.react"),{config:n,children:f}),e[36]=n,e[37]=f,e[38]=t):t=e[38];return t}function s(a,e,f,g,h){var i=o(17),k;i[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=new WeakMap(),i[0]=k):k=i[0];var l=m(k);i[1]!==a.capabilities||i[2]!==a.capabilities2||i[3]!==a.capabilities3||i[4]!==a.capabilities4||i[5]!==a.consistentThreadFbid||i[6]!==a.folderName||i[7]!==a.threadKey||i[8]!==a.threadSubtype||i[9]!==a.threadType?(k={capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,consistentThreadFbid:a.consistentThreadFbid,folderName:a.folderName,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},i[1]=a.capabilities,i[2]=a.capabilities2,i[3]=a.capabilities3,i[4]=a.capabilities4,i[5]=a.consistentThreadFbid,i[6]=a.folderName,i[7]=a.threadKey,i[8]=a.threadSubtype,i[9]=a.threadType,i[10]=k):k=i[10];var n=d("useStableValue").useStableValue(k,d("IGDEqualityUtils").shallowEqualI64);i[11]!==g||i[12]!==e||i[13]!==h||i[14]!==f||i[15]!==n?(a=function(a){var d=l.current.get(a.message),i=babelHelpers["extends"]({},a,{formatText:g,modal:e,onGetScrollAreaElement:h,stopHoveringRef:f,thread:n});if(!d||!c("shallowEqual")(i,d.props)){d=j.jsxs(j.Fragment,{children:[b("cr:10750")!=null&&((d=a.prevMessage)==null?void 0:d.isAdminMessage)!==!0&&j.jsx(b("cr:10750"),{message:a.message,prevMessage:a.prevMessage}),j.jsx(r,babelHelpers["extends"]({},i))]});l.current.set(a.message,{props:i,row:d})}i=l.current.get(a.message);if(!i)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return i.row},i[11]=g,i[12]=e,i[13]=h,i[14]=f,i[15]=n,i[16]=a):a=i[16];return a}function t(a){a=a.scrollTop;return a>100}e=j.forwardRef(a);function a(a,e){var f=a.formatText;f=f===void 0?!1:f;var g=a.pageSize,h=a.renderHeader,i=a.thread;a=c("useForwardedRef")(e);var m=a[0];e=a[1];a=c("isThreadLevelCutoverEnabled")();var o=d("MAWThreadCutover").useIsCutoverSecureThread(i.threadKey),p=d("MAWThreadCutover").useCutoverOpenThread(i.threadKey),q=n(!1),r=q[0],u=q[1];l(function(){function a(){u(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);d("PolarisUA").isMobile()&&window.addEventListener("resize",b);return function(){d("PolarisUA").isMobile()&&window.removeEventListener("resize",b)}},[r]);q=c("useMWPAriaLabelForMessageListGrid")(i);var v=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),w=n(""),x=w[0];w=w[1];var y=k(function(){var a;a=(a=m.current)==null?void 0:a.getScrollAreaElement();return a instanceof HTMLElement?a:null},[m]);v=s(i,x,v,f,y);f=d("Int64Hooks").useCallbackInt64(function(a){return j.jsx(j.Fragment,{children:b("cr:10751")!=null&&j.jsx(b("cr:10751"),{lastItem:(a=a)!=null?a:void 0,threadKey:i.threadKey})})},[i.threadKey]);return a&&o&&p==null?j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:q,modal:x,setModal:w,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:j.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:j.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:t,onUserScroll:d("useIGDAutoFitViewport").checkIGDAutoFitViewportEligibility()?void 0:function(){if(d("PolarisUA").isMobile()&&r){var a;(a=document.activeElement)==null?void 0:a.blur()}},pageSize:g,ref:e,renderFooter:f,renderHeader:h,renderLoadingAnimation:function(){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:v,secondaryThread:p,thread:i})})})})})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("IGDProAcceptMessageRequestComposerBannerButton.react",["fbt","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MessengerWebUXLogger","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i,m=c("JSResourceForInteraction")("IGDProAcceptThreadDialog.react").__setRef("IGDProAcceptMessageRequestComposerBannerButton.react");function a(a){var b=k(10),e=a.thread,f=a.username;a=c("useIGDSLazyDialog")(m);var g=a[0],i=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),o;b[0]!==g||b[1]!==e||b[2]!==f||b[3]!==i||b[4]!==n?(a=function(){g({threadKey:e.threadKey,username:f});var a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(e);i==null?void 0:i({eventName:"accept_chat_request",extraData:{is_request:String(a),target_id:(j||(j=d("I64"))).to_string(e.threadKey)},flowInstanceId:n})},o=[n,i,g,e,f],b[0]=g,b[1]=e,b[2]=f,b[3]=i,b[4]=n,b[5]=a,b[6]=o):(a=b[5],o=b[6]);a=d("Int64Hooks").useCallbackInt64(a,o);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__JqJoVQCuGCc__JHASH__"),b[7]=o):o=b[7];b[8]!==a?(o=l.jsx(c("IGDSButton.react"),{display:"block",label:o,onClick:a,role:"button",variant:"secondary_link"}),b[8]=a,b[9]=o):o=b[9];return o}g["default"]=a}),226);
__d("IGDMessageRequestComposerBanner.react",["fbt","CometPlaceholder.react","I64","IGDAcceptOpenMessageRequestComposerBannerButton.react","IGDBlockUserComposerBannerButton.react","IGDComposerCommon.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDLeaveGroupComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDProAcceptMessageRequestComposerBannerButton.react","IGDSGlimmer.react","IGDSText.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).c,n=l,o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDBlockedUserComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDComposerRestricted.react").__setRef("IGDMessageRequestComposerBanner.react")),q={displayNameGlimmer:{display:"x1rg5ohu",height:"x1ta3ar0",width:"x1pju0fl",$$css:!0}};function r(a){var b=m(5),d=a.displayName;a=a.username;a=a!=null?"("+a+")":"";var e;b[0]!==d||b[1]!==a?(e=h._("__JHASH__9r4tbRGwdpg__JHASH__",[h._param("IG Name",d!=null?n.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:d}):n.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:q.displayNameGlimmer})),h._param("IG Username",n.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:a}))]),b[0]=d,b[1]=a,b[2]=e):e=b[2];b[3]!==e?(d=n.jsx(c("IGDSText.react"),{size:"body",testid:void 0,textAlign:"center",weight:"normal",children:e}),b[3]=e,b[4]=d):d=b[4];return d}function s(a){var b=m(4);a=a.isGroup;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__0lnTHW7sFlZ__JHASH__"),b[0]=d):d=b[0];d=d;var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__sFfs804Wxqx__JHASH__"),b[1]=e):e=b[1];e=e;a=a?e:d;b[2]!==a?(e=n.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:a}),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=m(46);a=a.thread;var e=a.inviterId,g=a.snippetSenderContactId,h=a.threadKey,l=a.threadType,q=(i||(i=c("useReStore")))(),t=d("MWPActor.react").useActor(),u;b[0]!==l?(u=d("LSMessagingThreadTypeUtil").isGroup(l),b[0]=l,b[1]=u):u=b[1];u=u;var v;b[2]!==l?(v=d("LSMessagingThreadTypeUtil").isOneToOne(l),b[2]=l,b[3]=v):v=b[3];var w=v;b[4]!==w||b[5]!==q.tables.participants||b[6]!==q.tables.contacts||b[7]!==h||b[8]!==t||b[9]!==e||b[10]!==g?(l=function(){var a;if(w)return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(q.tables.participants).getKeyRange(h),d("ReQL").fromTableAscending(q.tables.contacts)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,t)}).map(function(a){a[0];a=a[1];return a});a=(a=e)!=null?a:g;return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(q.tables.contacts).bounds({gte:d("ReQL").key(a),lte:d("ReQL").key(a)})},b[4]=w,b[5]=q.tables.participants,b[6]=q.tables.contacts,b[7]=h,b[8]=t,b[9]=e,b[10]=g,b[11]=l):l=b[11];b[12]!==q||b[13]!==w||b[14]!==h||b[15]!==e||b[16]!==g||b[17]!==t?(v=[q,w,h,e,g,t],b[12]=q,b[13]=w,b[14]=h,b[15]=e,b[16]=g,b[17]=t,b[18]=v):v=b[18];l=d("ReQLSuspense").useFirst(l,v,f.id+":140");v="Instagram User";var x,y=!1,z=!1;if(l!=null){var A=l.name;v=A;x=l.secondaryName;y=!(j||(j=d("I64"))).equal(l.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));z=!u&&d("LSContactBitOffset").has(66,l)}A=c("usePolarisViewer")();A=A==null?!1:A.isProfessionalAccount===!0;if(y&&w){b[19]!==l||b[20]!==a?(y=l!=null?n.jsx(c("CometPlaceholder.react"),{fallback:n.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:n.jsx(o,{contact:l,thread:a})}):null,b[19]=l,b[20]=a,b[21]=y):y=b[21];return y}if(z&&w){b[22]!==l||b[23]!==a?(y=l!=null?n.jsx(c("CometPlaceholder.react"),{fallback:n.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:n.jsx(p,{contact:l,thread:a})}):null,b[22]=l,b[23]=a,b[24]=y):y=b[24];return y}b[25]!==A||b[26]!==l||b[27]!==a?(z=A&&l!=null?n.jsx(c("IGDProAcceptMessageRequestComposerBannerButton.react"),{thread:a,username:l.name}):n.jsx(c("IGDAcceptOpenMessageRequestComposerBannerButton.react"),{thread:a}),b[25]=A,b[26]=l,b[27]=a,b[28]=z):z=b[28];b[29]!==u||b[30]!==a||b[31]!==l?(y=u?n.jsx(c("IGDLeaveGroupComposerBannerButton.react"),{thread:a}):l!=null?n.jsx(c("IGDBlockUserComposerBannerButton.react"),{contact:l,thread:a}):null,b[29]=u,b[30]=a,b[31]=l,b[32]=y):y=b[32];b[33]!==a?(A=n.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{thread:a}),b[33]=a,b[34]=A):A=b[34];b[35]!==u?(l=n.jsx(s,{isGroup:u}),b[35]=u,b[36]=l):l=b[36];b[37]!==v||b[38]!==x?(a=n.jsx(r,{displayName:v,username:x}),b[37]=v,b[38]=x,b[39]=a):a=b[39];b[40]!==z||b[41]!==y||b[42]!==A||b[43]!==l||b[44]!==a?(u=n.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:z,messageRequestBlockLeave:y,messageRequestDelete:A,messageRequestFootnote:l,messageRequestHeader:a}),b[40]=z,b[41]=y,b[42]=A,b[43]=l,b[44]=a,b[45]=u):u=b[45];return u}g["default"]=a}),226);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function a(){var a=i(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b;b=j.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:j.jsx(b=c("IGDSGlimmer.react"),{index:1,xstyle:k.glimmerButton}),messageRequestBlockLeave:j.jsx(b,{index:1,xstyle:k.glimmerButton}),messageRequestDelete:j.jsx(b,{index:1,xstyle:k.glimmerButton}),messageRequestFootnote:j.jsx(b,{index:1,xstyle:k.glimmerFootnote}),messageRequestHeader:j.jsx(b,{index:1,xstyle:k.glimmerHeader})});a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("IGDSUserRequestedPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M15.507 12.752a4.5 4.5 0 1 0-4.501-4.5 4.505 4.505 0 0 0 4.5 4.5Zm0-7a2.5 2.5 0 1 1-2.501 2.5 2.502 2.502 0 0 1 2.5-2.5Zm2.444 8.252h-4.907a5.054 5.054 0 0 0-5.049 5.049v.447a1 1 0 0 0 2 0v-.447a3.053 3.053 0 0 1 3.049-3.05h4.907a3.053 3.053 0 0 1 3.05 3.05v.447a1 1 0 0 0 2 0v-.447a5.055 5.055 0 0 0-5.05-5.05Zm-8.286-2.392a.88.88 0 0 0 0-1.224c-.009-.008-.012-.02-.02-.03L6.685 7.4a.907.907 0 0 0-1.283 1.284l1.41 1.409h-4.81a.907.907 0 1 0 0 1.814h4.81l-1.41 1.41a.907.907 0 0 0 1.284 1.284l2.959-2.96c.008-.008.011-.02.02-.03Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSUserRequestedPanoOutline24Icon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__mx2FhBkiHjp__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__EBrmQwHoVRM__JHASH__"),a[1]=d):d=a[1];d=d;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("IGDBaseNullState.react"),{descriptionText:d,icon:k.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x5ib6vp x1qim8zg x13oubkp",children:k.jsx(c("IGDSUserRequestedPanoOutline24Icon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:b}),a[2]=d):d=a[2];return d}g["default"]=a}),226);
__d("IGDPartnershipInboxNullStateQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25939503342331466"}),null);
__d("IGDPartnershipInboxNullStateQuery.graphql",["IGDPartnershipInboxNullStateQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XIGIGCreatorMarketplacePartnershipInbox",kind:"LinkedField",name:"xig_partnership_inbox",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_brand_onboarded",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDPartnershipInboxNullStateQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDPartnershipInboxNullStateQuery",selections:a},params:{id:b("IGDPartnershipInboxNullStateQuery_instagramRelayOperation"),metadata:{},name:"IGDPartnershipInboxNullStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDPartnershipInboxStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return a?h._("__JHASH__36_lQGFfzR-__JHASH__"):h._("__JHASH__LwaStrqpXW3__JHASH__")}function b(a){return a?h._("__JHASH__fKOZH7qWTb___JHASH__"):h._("__JHASH__dmTMOsKPYC0__JHASH__")}function c(a){return a?h._("__JHASH__sB_7ILgaTbU__JHASH__"):h._("__JHASH__OQf0_qK8nIH__JHASH__")}g.getNullstateButtonText=a;g.getNullstateDescriptionText=b;g.getNullstateTitleText=c}),226);
__d("IGDPartnershipInboxNullState.react",["IGDBaseNullState.react","IGDPartnershipInboxNullStateQuery.graphql","IGDPartnershipInboxStrings","IGDSButton.react","IGDSCreatorMarketplacePanoOutline24Icon.react","IGDSDialogPlaceholder.react","IgBrandedContentEventFalcoEvent","JSResourceForInteraction","PolarisCreatorMarketplaceBrandOnboardingModal.react","RelayHooks","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useState,m=e.c,n=h!==void 0?h:h=b("IGDPartnershipInboxNullStateQuery.graphql");function a(){var a=m(27),b=d("RelayHooks").useRelayEnvironment(),e=d("RelayHooks").useLazyLoadQuery(n,{}),f=((e=e.xig_partnership_inbox)==null?void 0:e.is_brand_onboarded)===!0;e=l(!1);var g=e[0],h=e[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("IGDThreadListNewPartnershipMessageDialog.react").__setRef("IGDPartnershipInboxNullState.react"),a[0]=e):e=a[0];e=e;var i,p;a[1]!==f?(i=function(){c("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_impression",extra_data:{is_brand_onboarded:String(f)}}})},p=[f],a[1]=f,a[2]=i,a[3]=p):(i=a[2],p=a[3]);k(i,p);i=c("useIGDSLazyDialog")(e,o);var q=i[0];a[4]!==f||a[5]!==q?(p=function(){c("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_new_message_click",extra_data:{is_brand_onboarded:String(f)}}}),f?q({}):h(!0)},a[4]=f,a[5]=q,a[6]=p):p=a[6];e=p;a[7]!==f?(i=d("IGDPartnershipInboxStrings").getNullstateDescriptionText(f),a[7]=f,a[8]=i):i=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x13oubkp x6s0dn4 x78zum5 xl56j7k xexx8yu x4uap5 x18d9i69 xkhd6sd",children:j.jsx(c("IGDSCreatorMarketplacePanoOutline24Icon.react"),{alt:"Creator marketplace icon for the partnership inbox",color:"ig-primary-text",size:48})}),a[9]=p):p=a[9];var r;a[10]!==f?(r=d("IGDPartnershipInboxStrings").getNullstateTitleText(f),a[10]=f,a[11]=r):r=a[11];var s;a[12]!==f?(s=d("IGDPartnershipInboxStrings").getNullstateButtonText(f),a[12]=f,a[13]=s):s=a[13];var t;a[14]!==s||a[15]!==e?(t=j.jsx(c("IGDSButton.react"),{display:"block",label:s,onClick:e}),a[14]=s,a[15]=e,a[16]=t):t=a[16];a[17]!==i||a[18]!==r||a[19]!==t?(s=j.jsx(c("IGDBaseNullState.react"),{descriptionText:i,icon:p,titleText:r,children:t}),a[17]=i,a[18]=r,a[19]=t,a[20]=s):s=a[20];a[21]!==g||a[22]!==b?(e=g&&j.jsx(d("PolarisCreatorMarketplaceBrandOnboardingModal.react").PolarisCreatorMarketplaceBrandOnboardingModal,{creatorUserId:"",entrypoint:d("PolarisCreatorMarketplaceBrandOnboardingModal.react").BrandOnboardingEntrypoint.PARTNERSHIP_INBOX_NULLSTATE,onClose:function(){return h(!1)},onDecline:function(){h(!1)},onSuccess:function(){d("RelayHooks").fetchQuery(b,n,{}).subscribe({})}}),a[21]=g,a[22]=b,a[23]=e):e=a[23];a[24]!==s||a[25]!==e?(p=j.jsxs(j.Fragment,{children:[s,e]}),a[24]=s,a[25]=e,a[26]=p):p=a[26];return p}function o(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsChannelsTabSelected.react",["I64","IGDProfessionalIGFolderContext.react","IgTags_InboxFolder","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c;function a(){var a=k(3),b=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),e=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder(),f;a[0]!==b||a[1]!==e?(f=b&&(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("IgTags_InboxFolder").SUBSCRIBER)),a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("useIsCurrentRouteMessageRequests",["IGDRouteProvider.react","useCurrentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentRoute")(),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=c("useRoutePassthroughProps")();if(a!=null&&(a.url==="/direct/requests"||a.url==="/direct/requests/"))return!0;return b!=null&&e!=null?e.entryPoint==="pendingRequests":!1}g["default"]=a}),98);
__d("useIsCurrentRoutePartnershipInbox",["useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentRoute")();return a!=null&&(a.url==="/direct/partnerships"||a.url==="/direct/partnerships/")?!0:!1}g["default"]=a}),98);
__d("IGDNullState.react",["IGDDefaultNullState.react","IGDHiddenMessageRequestsNullState.react","IGDMessageRequestsNullState.react","IGDPartnershipInboxNullState.react","cr:1653","react","useIsChannelsTabSelected.react","useIsCurrentRouteMessageHiddenRequests","useIsCurrentRouteMessageRequests","useIsCurrentRoutePartnershipInbox"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(5),d=c("useIsCurrentRouteMessageRequests")(),e=c("useIsCurrentRouteMessageHiddenRequests")(),f=c("useIsCurrentRoutePartnershipInbox")(),g=c("useIsChannelsTabSelected.react")();if(d){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(c("IGDMessageRequestsNullState.react"),{}),a[0]=d):d=a[0];return d}else if(e){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(c("IGDHiddenMessageRequestsNullState.react"),{}),a[1]=d):d=a[1];return d}else if(f){a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDPartnershipInboxNullState.react"),{}),a[2]=e):e=a[2];return e}else if(g&&b("cr:1653")!=null){a[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(b("cr:1653"),{}),a[3]=d):d=a[3];return d}else{a[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDDefaultNullState.react"),{}),a[4]=f):f=a[4];return f}}g["default"]=a}),98);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={learnMore:{marginStart:"xsgj6o6",$$css:!0}};function a(){var a=j(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react"),a[0]=b):b=a[0];b=c("useIGDSLazyDialog")(b);var d=b[0];a[1]!==d?(b=function(){return d({})},a[1]=d,a[2]=b):b=a[2];var e;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("IGDSText.react"),{color:"link",children:h._("__JHASH__T-9iBR7uE3z__JHASH__")}),a[3]=e):e=a[3];a[4]!==b?(e=k.jsx(c("PolarisFastLink.react"),{onClick:b,xstyle:l.learnMore,children:e}),a[4]=b,a[5]=e):e=a[5];return e}g["default"]=a}),226);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("IGDNullStateDescription.react",["I64","IGDInboxGenAIStarIcon.react","IGDNullStateGenAILearnMoreButton.react","IGDSBox.react","IGDSText.react","LSIntEnum","LSNullstateDescriptionType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h,m={nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0}};function a(a){var b=k(18),e=a.descriptionText,f=a.descriptionType;a=a.threadType;var g;b[0]!==a?(g=(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(201)),b[0]=a,b[1]=g):g=b[1];a=g;b[2]!==a||b[3]!==f?(g=a&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT)),b[2]=a,b[3]=f,b[4]=g):g=b[4];g=g;var h;b[5]!==a||b[6]!==f?(h=a&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").DEFAULT)),b[5]=a,b[6]=f,b[7]=h):h=b[7];a=h;b[8]!==g?(f=g?l.jsx(c("IGDNullStateGenAILearnMoreButton.react"),{}):null,b[8]=g,b[9]=f):f=b[9];b[10]!==e||b[11]!==f?(h=l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[e,f]}),b[10]=e,b[11]=f,b[12]=h):h=b[12];b[13]!==a?(g=a?l.jsx(c("IGDInboxGenAIStarIcon.react"),{}):null,b[13]=a,b[14]=g):g=b[14];b[15]!==h||b[16]!==g?(e=l.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",xstyle:m.nullStateContainer,children:[h,g]}),b[15]=h,b[16]=g,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("getOtherUserForPartnershipThread",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a.length===1){var e=a[0],f=e[0];e=e[1];if(e!=null)return[f,e];return}f=a.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,b)});if(f.length===0){c("FBLogger")("messenger_comet").mustfix("No participants in partnership thread, {participantsAndContacts: %d, hasActor: %b}",a.length,a.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,b)}));return}e=f[0];a=e[0];f=e[1];if(f!=null)return[a,f]}g["default"]=a}),98);
__d("useMWV2OtherUser",["MWPActor.react","getMWV2OtherUser","getOtherUserForPartnershipThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("MWPActor.react").useActor();return e===!0?c("getOtherUserForPartnershipThread")(b,f):c("getMWV2OtherUser")(a,b,f)}g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDNullStateDescription.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.react","MWPThreadContextBanner.react","MWVerticalRhythm","PolarisLinkBuilder","ReQL","ReQLSuspense","react","useMWV2OtherUser","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(11),e=a.isPartnershipThread,f=a.participantsAndContacts;a=a.thread;var g=a.threadType;f=c("useMWV2OtherUser")(g,f,e);var i;b[0]!==g?(i=d("LSMessagingThreadTypeUtil").isOneToOne(g),b[0]=g,b[1]=i):i=b[1];g=i;if(b[2]!==f){i=f!=null?d("PolarisLinkBuilder").buildUserLink((i=f[1].secondaryName)!=null?i:""):void 0;b[2]=f;b[3]=i}else i=b[3];f=i;b[4]!==a?(i=d("LSThreadBitOffset").has(41,a),b[4]=a,b[5]=i):i=b[5];a=i;b[6]!==a||b[7]!==g||b[8]!==e||b[9]!==f?(i=(a&&g||e)&&f!=null?l.jsx("div",{className:"x1gan7if x1p5oq8j",children:l.jsx(c("IGDSButton.react"),{display:"block",href:f,label:h._("__JHASH__dwB6QHKUH_P__JHASH__"),variant:"secondary"})}):l.jsx(c("MWVerticalRhythm"),{height:32}),b[6]=a,b[7]=g,b[8]=e,b[9]=f,b[10]=i):i=b[10];return i}function n(a){var b=k(9),d=a.thread;a=a.threadTitle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x9f619 xpkgp8e xmns6w2 xh8yej3",b[0]=e):e=b[0];var f;b[1]!==a?(f=l.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),b[1]=a,b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSVerifiedBadge.react"),{size:"large"}),b[3]=a):a=b[3];b[4]!==d.threadKey?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("LSVerificationBadge.react"),{icon:a,threadKey:d.threadKey})}),b[4]=d.threadKey,b[5]=a):a=b[5];b[6]!==f||b[7]!==a?(d=l.jsx("div",{className:e,children:l.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[f,a]})}),b[6]=f,b[7]=a,b[8]=d):d=b[8];return d}function a(a){var b=k(25),e=a.thread,g=e.threadKey;a=e.threadSubtype;var h=e.threadType,j=(i||(i=c("useReStore")))(),p;b[0]!==a?(p=d("LSMessagingThreadTypeUtil").isPartnership(a),b[0]=a,b[1]=p):p=b[1];a=p;b[2]!==j.tables.participants||b[3]!==j.tables.contacts||b[4]!==g?(p=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(g),d("ReQL").fromTableAscending(j.tables.contacts))},b[2]=j.tables.participants,b[3]=j.tables.contacts,b[4]=g,b[5]=p):p=b[5];var q;b[6]!==j||b[7]!==g?(q=[j,g],b[6]=j,b[7]=g,b[8]=q):q=b[8];p=d("ReQLSuspense").useArray(p,q,f.id+":159");b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q="x6s0dn4 x78zum5 xdt5ytf x2b8uid",b[9]=q):q=b[9];var r;b[10]!==h?(r=function(a,b){return l.jsx(c("IGDNullStateDescription.react"),{descriptionText:a,descriptionType:b,threadType:h})},b[10]=h,b[11]=r):r=b[11];var s;b[12]!==e?(s=function(a){return l.jsx(n,{thread:e,threadTitle:a})},b[12]=e,b[13]=s):s=b[13];var t;b[14]!==r||b[15]!==s||b[16]!==e?(t=l.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:r,renderThreadPicture:o,renderThreadTitle:s,thread:e}),b[14]=r,b[15]=s,b[16]=e,b[17]=t):t=b[17];b[18]!==p||b[19]!==a||b[20]!==e?(r=p.length>0&&l.jsx(m,{isPartnershipThread:a,participantsAndContacts:p,thread:e}),b[18]=p,b[19]=a,b[20]=e,b[21]=r):r=b[21];b[22]!==t||b[23]!==r?(s=l.jsxs("div",{className:q,children:[t,r]}),b[22]=t,b[23]=r,b[24]=s):s=b[24];return s}function o(a){return l.jsx("div",{className:"xyamay9 x1l90r2v",children:l.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.senderUnsendNUXEnabled;return i.jsxs(i.Fragment,{children:[b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisUA").isMobile()?5:10}g["default"]=a}),98);
__d("IGDOpenMessageListContainer.react",["CometPageletWithDiv.react","IGDMessageList.react","IGDThreadContextBanner.react","IGDThreadListNewMessageLoggingDataContext","MWChatUnsendNUX.react","MWPMessageListColumn.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","useMessageListPageSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;b=j.forwardRef(a);function a(a,b){var e=i(17),f=a.thread;a=c("useMessageListPageSize")();var g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),h;e[0]!==f?(h=c("getInstamadilloLoggingExtraData")(f),e[0]=f,e[1]=h):h=e[1];var k;e[2]!==h||e[3]!==g?(k={eventName:"thread_rendered",extraData:h,flowInstanceId:g},e[2]=h,e[3]=g,e[4]=k):k=e[4];h=c("MessengerWebUXLogger").useImpressionLoggerRef(k);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[5]=g):g=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(k="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",e[6]=k):k=e[6];var l;e[7]!==f?(l=function(){return j.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),j.jsx(c("IGDThreadContextBanner.react"),{thread:f}),j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},e[7]=f,e[8]=l):l=e[8];var m;e[9]!==a||e[10]!==b||e[11]!==l||e[12]!==f?(m=j.jsx(c("IGDMessageList.react"),{formatText:!0,pageSize:a,ref:b,renderHeader:l,thread:f}),e[9]=a,e[10]=b,e[11]=l,e[12]=f,e[13]=m):m=e[13];e[14]!==h||e[15]!==m?(a=j.jsxs(j.Fragment,{children:[g,j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:k,fallback:null,name:"IGDOpenMessageList",ref:h,children:m})]}),e[14]=h,e[15]=m,e[16]=a):a=e[16];return a}e=b;g["default"]=e}),98);
__d("IGDThreadCapabilitiesContextProvider.react",["LSThreadBitOffset","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){var b=a.children,c=a.thread;a=function(a){return d("LSThreadBitOffset").has(a,c)};var e=k(a);e.current=a;a=j(function(a){return e.current(a)},[]);return i.jsx(d("MWPThreadCapabilitiesContext").Provider,{customCapabilityCheck:a,thread:c,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IgdAnTrayConversionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3126");b=d("FalcoLoggerInternal").create("igd_an_tray_conversion",a);e=b;g["default"]=e}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef,m={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function n(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=a.children,e=a.disableAutoFocus,f=a.onBlur,g=a.onEscape,i=a.onFocus;a=a.xstyle;var o=l(null),p=c("useMWInboxPassiveContext")(),q=p.setIsPassive;p=d("MWChatFocusComposerContext").useMWChatFocusComposer();var r=p.focusComposer;e===!0&&(r=void 0);p=k(function(){if(o.current!=null&&r!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||n()))return r()},[o,r]);return j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return f==null?void 0:f()},onFocusWithin:function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(i==null?void 0:i());o.current!=null&&r!=null&&o.current===a.target&&r();if(c("gkx")("24041"))return q(!1)},children:j.jsx(c("CometHideLayerOnEscape.react"),{onHide:function(){return g==null?void 0:g()},children:j.jsx("div",{className:(h||(h=c("stylex")))(m.root,a),onClick:p,ref:o,role:"none",tabIndex:-1,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={ANIMATED_IMAGE:function(a){return a==null?h._("__JHASH__CsGZwNmXaIO__JHASH__"):h._("__JHASH__i_Icu0jTUQc__JHASH__",[h._param("title of image",a)])},AUDIO:h._("__JHASH__rzmjU77gEOx__JHASH__"),FILE:function(a){return a==null?h._("__JHASH__17xDOMabwon__JHASH__"):h._("__JHASH__FWMIh-m_eI7__JHASH__",[h._param("name of file",a)])},IMAGE:function(a,b){return b==null?h._("__JHASH___wsnXxs9YQH__JHASH__",[h._plural(a,"number")]):h._("__JHASH__i_Icu0jTUQc__JHASH__",[h._param("title of image",b)])},STICKER:function(a){return a==null||a===""?h._("__JHASH__0TMOPValyqo__JHASH__"):h._("__JHASH__19lTPiBl0z4__JHASH__",[h._param("title of sticker",a)])},UNKNOWN:h._("__JHASH__PpAv-1cm1Lu__JHASH__"),VIDEO:h._("__JHASH__0rNBSLJGEDI__JHASH__"),XMA:h._("__JHASH__sBZdmUKngae__JHASH__")},l={ANIMATED_IMAGE:function(a){return h._("__JHASH__MhlSSR-HAo-__JHASH__")},AUDIO:h._("__JHASH__sneme5ilsA3__JHASH__"),FILE:function(a){return h._("__JHASH__rJoRAJ9mF9b__JHASH__")},IMAGE:function(a,b){return h._("__JHASH__Ibrf8gnq3av__JHASH__",[h._plural(a,"number")])},STICKER:function(a){return h._("__JHASH__Vb2pqIGTqSg__JHASH__")},UNKNOWN:h._("__JHASH__8Hc2peCfGcd__JHASH__"),VIDEO:h._("__JHASH__ec67IIVPulv__JHASH__"),XMA:h._("__JHASH__8Hc2peCfGcd__JHASH__")};function a(a,b){b===void 0&&(b=!0);if(a.length===0)return void 0;b=b?k:l;if(a.length>1)return a.every(m)?b.IMAGE(a.length):void 0;a=a[0];var e=a.accessibilitySummaryText,f=a.attachmentType,g=a.filename;a=a.titleText;f=(i||(i=d("LSIntEnum"))).unwrapIntEnum(f);switch(f){case c("MessagingAttachmentType").STICKER:case 1:case c("MessagingAttachmentType").SELFIE_STICKER:case 10:case c("MessagingAttachmentType").THIRD_PARTY_STICKER:case 15:return b.STICKER(e);case c("MessagingAttachmentType").IMAGE:case 2:case c("MessagingAttachmentType").EPHEMERAL_IMAGE:case 8:return b.IMAGE(1,a);case c("MessagingAttachmentType").ANIMATED_IMAGE:case 3:return b.ANIMATED_IMAGE(a);case c("MessagingAttachmentType").VIDEO:case 4:case c("MessagingAttachmentType").EPHEMERAL_VIDEO:case 9:return b.VIDEO;case c("MessagingAttachmentType").AUDIO:case 5:return b.AUDIO;case c("MessagingAttachmentType").FILE:case 6:return b.FILE(g);case c("MessagingAttachmentType").XMA:case 7:return b.XMA;case c("MessagingAttachmentType").NONE:case 0:case c("MessagingAttachmentType").SOUND_BITE:case 12:case c("MessagingAttachmentType").CATALOG_ITEM:case 13:case c("MessagingAttachmentType").POWER_UP:case 14:return b.UNKNOWN;default:f;return b.UNKNOWN}}function m(a){return(j||(j=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),226);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useCallback,p=e.useEffect,q=e.useRef,r=e.useState;function s(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=(l||(l=d("I64"))).equal(a.id,f);var g=b.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(b.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return n.jsx(s,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.message;a=a;var b=(j||(j=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e)},[b,e,g],f.id+":120");return c("getMWPAttachmentMessageAnnouncement")(a)}u.displayName=u.name+" [from "+f.id+"]";function v(a){var e=a.message,f=a.participant,g=a.sender;a=a.threadType;var h=r(!1),i=h[0],j=h[1];p(function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!i)return null;h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);i=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text;return n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[n.jsx(t,{message:e,participant:f,sender:g}),i!=null?i:null,c("mwpMessageHasAttachment")(e)&&!h?n.jsx(u,{message:e}):null]})}v.displayName=v.name+" [from "+f.id+"]";function w(a,e){var f=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=q(d("ServerTime").getMillis()),k=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.tables.messages).getKeyRange(k).subscribe(function(e,g){if(g.operation!=="add")return;var j=g.value;(l||(l=d("I64"))).to_float(j.timestampMs)>h.current&&(h.current=(l||(l=d("I64"))).to_float(j.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(j.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.participants).getKeyRange(j.threadKey,j.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(j,c,b)}))})},[f,g,a,k])}function a(a){a=a.thread;var b=a.threadType,e=r(null),f=e[0],g=e[1];e=o(function(a,e,f){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return n.jsx(v,{message:a,participant:f,sender:e,threadType:b})})},[b]);w(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIGDBroadcastChannelOpenThreadLogger",["I64","IGDInboxClickedThreadContextProvider","Int64Hooks","MWCMThreadTypes.react","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useRef,k=b.c;function a(a){var b=k(6),e=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),f=c("useIGDBroadcastChannelLogger")(a.threadKey),g=j(!1),h,l;b[0]!==e||b[1]!==a.threadKey||b[2]!==a.threadSubtype||b[3]!==f?(h=function(){var b=e.getProviderData();b=b.clickedThreadId;!g.current&&b!=null&&(i||(i=d("I64"))).equal(b,a.threadKey)&&a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)&&(c("promiseDone")(f({action:"tap",event:"thread_open",extra:{is_admin:"True",new_bc_user:"False",previously_joined:"True"},parent_surface:"broadcast",source:"broadcast_thread_item",surface:"inbox_channels"})),g.current=!0)},l=[e,f,a.threadKey,a.threadSubtype],b[0]=e,b[1]=a.threadKey,b[2]=a.threadSubtype,b[3]=f,b[4]=h,b[5]=l):(h=b[4],l=b[5]);d("Int64Hooks").useEffectInt64(h,l)}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=a.threadKey,e=a.threadName,g=a.threadType,j=d("MWPActor.react").useActor(),k=(i||(i=c("useReStore")))(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.tables.participants,["contactId","nickname"]).getKeyRange(b),d("ReQL").fromTableAscending(k.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[k,b],f.id+":37");return d("Int64Hooks").useMemoInt64(function(){var a=e;if(a!=null)return h._("__JHASH__Hkglfueb2S7__JHASH__",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,g,l,j))!=null?a:"";return h._("__JHASH__Bc4odEiE4Gu__JHASH__",[h._param("participant list",a)])},[e,g,l,j])}g["default"]=a}),226);
__d("IGDThreadDetail.react",["CometColumn.react","CometPlaceholder.react","IGDBlockedBroadcastThreadDetail.react","IGDComposerCommon.react","IGDConnectionStatusCard.react","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxHeader.react","IGDInboxInfoContextProvider","IGDInboxInfoPlaceholder.react","IGDInteractionTraceAnnotations","IGDMessageRequestComposerBannerLoading.react","IGDOpenMessageListContainer.react","IgdAnTrayConversionFalcoEvent","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWChatFocusComposerContext","MWChatTabFocusHandler","MWLSDatabaseLazySync","MWPNewMessageAnnouncementForScreenReaders.react","MWPReplyContext.react","MWV2FileDropzone.react","PolarisPageMetadata.react","PolarisUA","RavenAttachmentsSeen","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10749","cr:1365","cr:7082","cr:7273","deferredLoadComponent","lazyLoadComponent","promiseDone","react","requireDeferred","requireDeferredForDisplay","useIGDAutoFitViewport","useIGDBroadcastChannelOpenThreadLogger","useIGDIsViewerAdmin","useMWAriaLabelForThread","usePolarisDirectFeatures"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=e.c,q=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("IGDThreadDetail.react"),r=(e=b("cr:7273"))!=null?e:b("cr:10749"),s=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDThreadDetail.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInboxInfo.react").__setRef("IGDThreadDetail.react")),u={dropzone:{zIndex:"x1ja2u2z",$$css:!0},focusHandler:{display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},fullHeight:{maxHeight:"xmz0i5r",minHeight:"x1us19tq",$$css:!0},info:{borderStartColor:"xhk4uv",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",flexBasis:"x1yu6fn4",flexShrink:"xs83m0k",maxHeight:"x1bwycvy",maxWidth:"x1dt7z5j",minWidth:"x2ixbly",$$css:!0},infoMobile:{borderStartWidth:"xm0m39n",bottom:"x1ey2m1c",flexBasis:"x1t1x2f9",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},main:{display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},mainHidden:{visibility:"xlshs6z",$$css:!0},root:{backgroundColor:"xcrg951",fontSize:"x6prxxf",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function v(a){a=a.thread;a=a;var e=l(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContext),f=e.getProviderData;e=l(d("MWPReplyContext.react").MWPReplyContext);e=e.reply;var g=o(!1),h=g[0],p=g[1];d("IGDInteractionTraceAnnotations").useAddThreadAnnotationToInteractionTraces(a);d("IGDInteractionTraceAnnotations").useAddInstamadilloAnnotationsToInteractionTraces(a);c("useIGDBroadcastChannelOpenThreadLogger")(a);b("cr:7082")==null?void 0:b("cr:7082")(a);d("RavenAttachmentsSeen").useClearRavenAttachmentsSeenOnUnmount();g=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);var v=c("useMWAriaLabelForThread")(a),w=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),x=n(null),y=k(function(){var a;(a=x.current)==null?void 0:a.jumpToMostRecentMessage();a=f();var b=a.loggingData;a=a.sentFromActiveNowTray;if(b==null||a!==!0)return;c("IgdAnTrayConversionFalcoEvent").log(function(){return b})},[f]),z=!(d("PolarisUA").isMobile()&&h),A=j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGDMessageRequestComposerBannerLoading.react"),{}),children:j.jsx(s,{thread:a})});y=j.jsx(d("IGDComposerCommon.react").IGDComposerCommon,{afterSendMessage:y,thread:a});var B=d("LSThreadBitOffset").has(139,a);m(function(){if(B){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield q.load());a=(yield a());return d("MWLSDatabaseLazySync").sync(a,(i||(i=d("LSIntEnum"))).ofNumber(118))});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())}},[B]);var C=k(function(a){d("PolarisUA").isMobile()?window.setTimeout(function(){p(a)},0):p(a)},[p]),D=n(null);d("useIGDAutoFitViewport").useIGDAutoFitViewport(D,!z);var E=c("usePolarisDirectFeatures")();E=E.directTitle;return j.jsxs(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:[r&&j.jsx(r,{thread:a}),j.jsx(c("PolarisPageMetadata.react"),{id:"DirectThreadPage",title:E}),j.jsx(c("CometColumn.react"),{"aria-label":v,expanding:!0,ref:D,role:"main",xstyle:u.root,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view",children:j.jsxs(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingTop:0,spacing:0,xstyle:d("PolarisUA").isMobile()?u.fullHeight:void 0,children:[j.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:[u.main,!z&&u.mainHidden],children:[j.jsx("div",{className:"x1vjfegm",children:j.jsx(c("IGDInboxHeader.react"),{info:h,setInfo:C,thread:a})}),j.jsx(c("IGDConnectionStatusCard.react"),{}),j.jsx(c("MWChatTabFocusHandler"),{disableAutoFocus:d("PolarisUA").isMobile(),xstyle:u.focusHandler,children:j.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:e!=null,isMediaOnly:!d("LSThreadBitOffset").has(56,a),thread:a,xstyle:u.dropzone,children:[j.jsx("div",{className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",role:"none",children:j.jsx(c("IGDOpenMessageListContainer.react"),{ref:x,thread:a})}),g&&b("cr:1365")!=null?j.jsx(b("cr:1365"),{thread:a}):null,w?A:y]})})]}),h?j.jsx(c("MDSRowItem.react"),{xstyle:[u.info,d("PolarisUA").isMobile()?u.infoMobile:!1],children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGDInboxInfoPlaceholder.react"),{}),children:j.jsx(t,{setShowInfo:p,threadKey:a.threadKey,threadSubtype:a.threadSubtype})})}):null]})})}),j.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:a})]})}v.displayName=v.name+" [from "+f.id+"]";function a(a){var b=p(4);a=a.thread;var e=c("useIGDIsViewerAdmin")(a.threadKey),f=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);if(f&&!e){b[0]!==a?(f=j.jsx(c("IGDBlockedBroadcastThreadDetail.react"),{thread:a}),b[0]=a,b[1]=f):f=b[1];return f}b[2]!==a?(e=j.jsx(d("IGDInboxInfoContextProvider").IGDInboxInfoContextProvider,{initialRoute:d("IGDInboxInfoContextProvider").IGDInboxInfoRoute.INBOX_INFO,children:j.jsx(v,{thread:a})}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("MWPThreadThemeGradientUtils",["MWPColorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[0];return(b=b==null?void 0:b.color)!=null?b:a.fallbackColor}function a(a){return d("MWPColorUtils").int64ToHex(h(a))}function i(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[b.length-1];return(b=b==null?void 0:b.color)!=null?b:a.fallbackColor}function b(a){return d("MWPColorUtils").int64ToHex(i(a))}function c(a){return a.outgoingGradientColors.length>1}g.getTopGradientColorI64=h;g.getTopGradientColor=a;g.getBottomGradientColorI64=i;g.getBottomGradientColor=b;g.isGradient=c}),98);
__d("MessengerAppColorMode",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:1,DARK:2,NONE:3});f["default"]=a}),66);
__d("useMWIsBroadcastChannelViewer",["LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i=(b=d("MWLSThread").useThread(a,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1;b=(b=d("ReQLSuspense").useFirst(function(){return a!=null&&i?d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a,g).map(function(a){return a.isAdmin!==!0&&a.isSuperAdmin!==!0&&a.isModerator!==!0}):d("ReQL").empty()},[e,a,g,i],f.id+":31"))!=null?b:!1;return i&&b}g["default"]=a}),98);
__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","LSIntEnum","MWLSThread","MWLSThreadDisplayContext","MWPColorUtils","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","MessengerAppColorMode","gkx","react","useMWIsBroadcastChannelViewer","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo,m={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",$$css:!0}};function n(a,b){b=(b=d("MWLSThread").useThread(b,function(a){return(i||(i=d("I64"))).lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}))!=null?b:!1;return b&&!a}function o(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",e=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),f=n(e,a),g=c("useMWIsBroadcastChannelViewer")(a),h=c("useMWPThreadTheme")();return l(function(){var a,k=c("gkx")("24125"),l=c("gkx")("24057"),m=h.backgroundGradientColors,n=h.incomingGradientColors,o=h.outgoingGradientColors,p=h.threadTheme,q=p.appColorMode,r=p.backgroundUrl,s=p.composerBackgroundColor,t=p.composerInputBackgroundColor,u=p.composerInputBorderColor,v=p.composerInputBorderWidth,w=p.composerInputTextPlaceholderColor,x=p.composerPlaceholderTextColor,y=p.composerTintColor,z=p.deliveryReceiptColor,A=p.fallbackColor,B=p.incomingMessageBorderColor,C=p.incomingMessageBorderWidth,D=p.incomingMessageTextColor,E=p.messageBorderColor,F=p.messageBorderWidth,G=p.messageTextColor,H=p.primaryButtonBackgroundColor,I=p.quotedIncomingMessageBubbleColor,J=p.reactionPillBackgroundColor,K=p.secondaryTextColor,L=p.tertiaryTextColor,M=p.titlebarAttributionTextColor,N=p.titlebarBackgroundColor,O=p.titlebarButtonTintColor;p=p.titlebarTextColor;q=(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerAppColorMode").DARK));r=Boolean(r==null?void 0:r.length);var P=o.length>1,Q=m.length>0;r=k&&(r||Q);Q=r&&"4px"||"0px";l=l?"96px":g?"28px":"84px";O=k&&O||d("MWPThreadThemeGradientUtils").getTopGradientColorI64(h);var R=k&&y||d("MWPThreadThemeGradientUtils").getBottomGradientColorI64(h);m=m==null?void 0:(m=m[(m==null?void 0:m.length)-1])==null?void 0:m.color;n=n==null?void 0:(n=n[0])==null?void 0:n.color;a=(a=o==null?void 0:(a=o[o.length-1])==null?void 0:a.color)!=null?a:A;o=o&&o.length>1&&d("MWPColorUtils").gradient(o,b?{footerHeight:56,headerHeight:48,totalHeight:455}:void 0);L={"chat-admin-text-color":k&&(K||L),"chat-composer-background-color":k&&s,"chat-composer-button-color":R,"chat-composer-caret-color":k&&R,"chat-composer-input-background-color":k&&t||"var(--comment-background)","chat-composer-input-border-color":k&&u,"chat-composer-input-border-width":k&&v,"chat-composer-input-text-placeholder-color":k&&w,"chat-composer-placeholder-text-color":k&&x,"chat-delivery-receipt-color":k&&z,"chat-edit-message-overlay-color":(K=m)!=null?K:"var(--surface-background)","chat-incoming-message-border-color":k&&B,"chat-incoming-message-border-width":k&&C,"chat-incoming-message-bubble-background-color":k&&n,"chat-incoming-message-text-color":k&&D,"chat-message-border-color":k&&E,"chat-message-border-width":k&&F,"chat-message-text-color":k&&G,"chat-outgoing-message-background-gradient":!r&&o?o:"initial","chat-outgoing-message-bubble-background-color":P&&!r?"transparent":a,"chat-primary-button-background-color":k&&H,"chat-quoted-incoming-message-bubble-color":k&&I,"chat-replied-message-background-color":k&&m&&n&&d("MWPColorUtils").combineColors(m,n,.4),"chat-scrollbar-thumb-color":r&&m&&d("MWPColorUtils").int64ToRGBA(d("MWPColorUtils").combineColorsAsI64(d("MWPColorUtils").combineColorsAsI64(a,m,.6),q?(i||(i=d("I64"))).of_int32(16777215):(i||(i=d("I64"))).of_int32(0),.6),.7),"chat-scrollbar-track-color":r&&"transparent","mwp-header-background-color":k&&N,"mwp-header-button-color":O,"mwp-header-text-color":k&&p,"mwp-message-list-actions-gap":Q,"mwp-message-list-actions-width":"calc("+l+" + 3*"+Q+")","mwp-message-row-background":r?"transparent":"var(--messenger-card-background)","mwp-primary-theme-color":A,"mwp-subheader-text-color":k&&M,"reaction-pill-background-color":k?J:"var(--wash)","reaction-pill-multireact-selected-color":d("MWPColorUtils").combineColorsAsI64(A,i.of_int32(16777215),.22),"text-highlight":k&&y&&d("MWPColorUtils").int64ToRGBA(y,q?.5:.2)};e||(k?(L["chat-composer-button-color"]=d("MWPColorUtils").int64ToRGBA(R,.6),L["mwp-header-button-color"]=d("MWPColorUtils").int64ToRGBA(O,.6)):(L["chat-composer-button-color"]="var(--disabled-icon)",L["mwp-header-button-color"]="var(--disabled-icon)"));f&&(L["mwp-header-button-color"]="var(--always-white)",L["mwp-header-text-color"]="var(--always-white)",L["mwp-header-background-color"]=O);(L["mwp-subheader-text-color"]==null||typeof L["mwp-subheader-text-color"]==="boolean")&&(L["mwp-subheader-text-color"]=L["mwp-header-text-color"]);s={};for(t in L){u=L[t];if(u==null||typeof u==="boolean")continue;else typeof u==="string"?s[t]=u:s[t]=d("MWPColorUtils").int64ToHex(u)}return s},[g,b,f,e,h])}function a(a){var b=o();return k.jsx(c("BaseTheme.react"),babelHelpers["extends"]({},a,{config:{dark:b,light:b,type:"VARIABLES"},xstyle:[m.expand,a.xstyle]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPThemeCSSProvider=a}),98);
__d("MWPThreadThemeProviderQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7801872189881330"}),null);
__d("MWPThreadThemeProviderQuery.graphql",["MWPThreadThemeProviderQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"app_color_mode",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"composer_background_color",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"background_gradient_colors",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"title_bar_button_tint_color",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"inbound_message_gradient_colors",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title_bar_text_color",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"composer_tint_color",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title_bar_attribution_color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"composer_input_background_color",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"hot_like_color",storageKey:null},r=[d,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],s={alias:null,args:null,concreteType:"MessengerThreadBackgroundAsset",kind:"LinkedField",name:"background_asset",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"message_text_color",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"message_border_color",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"message_border_width",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"inbound_message_text_color",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_color",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_width",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"primary_button_background_color",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"title_bar_background_color",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"tertiary_text_color",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"reaction_pill_background_color",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"secondary_text_color",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"normal_theme_id",storageKey:null};r={alias:null,args:null,concreteType:"MessengerThreadThemeIconAsset",kind:"LinkedField",name:"icon_asset",plural:!1,selections:r,storageKey:null};d=[d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,r,{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"alternative_themes",plural:!0,selections:[d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,H,z,A,B,C,D,E,F,G,r],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWPThreadThemeProviderQuery",selections:[{alias:null,args:c,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_theme",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MWPThreadThemeQuery_Fragment",selections:d,args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWPThreadThemeProviderQuery",selections:[{alias:null,args:c,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_theme",plural:!1,selections:d,storageKey:null}]},params:{id:b("MWPThreadThemeProviderQuery_facebookRelayOperation"),metadata:{},name:"MWPThreadThemeProviderQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWPThreadThemesFetchQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=c("qpl")._(25308538,"426");function a(){c("QPLUserFlow").start(i,{instanceKey:h});return h++}function b(a,b){b!=null?c("QPLUserFlow").endFailure(i,b,{instanceKey:a}):c("QPLUserFlow").endSuccess(i,{instanceKey:a})}function d(a,b,d){c("QPLUserFlow").addPoint(i,b,{instanceKey:a}),d!=null&&c("QPLUserFlow").addAnnotations(i,d,{instanceKey:a})}g.logThemesFetchStart=a;g.logThemesFetchEnd=b;g.logPoint=d}),98);
__d("MessengerThreadThemeGradientType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE_BUBBLE_OUTBOUND:0,MESSAGE_BUBBLE_INBOUND:1,THREADVIEW_BACKGROUND:2,DELIVERY_RECEIPT:3,COMPOSER_CIRCLE_BUTTON:4,COMPOSER_SEND_BUTTON:5,EMPHASIS:6});f["default"]=a}),66);
__d("MWPThreadThemeProvider.react",["CometRelay","I64","Int64Hooks","LSIntEnum","MWPThemeCSSProvider.react","MWPThreadThemeContext","MWPThreadThemeProviderQuery.graphql","MWPThreadThemesFetchQPLLogger","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","RelayHooks","cr:6797","cr:8933","defaultMWPThreadTheme","promiseDone","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useMemo,o=e.useState;function p(a,e){var g=(i||(i=c("useReStore")))(),l=c("useCurrentDisplayMode")(),m=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.tables.thread_themes).getKeyRange(a)},[g,a],f.id+":42"),o=b("cr:6797")==null?void 0:b("cr:6797")(g,a),p=l==="dark"&&o!=null?o:m,q=d("ReQLSuspense").useArray(function(){return(p==null?void 0:p.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.tables.gradient_colors).getKeyRange(p==null?void 0:p.fbid)},[g,p==null?void 0:p.fbid],f.id+":56"),r=d("CometRelay").useRelayEnvironment();d("Int64Hooks").useEffectInt64(function(){if(p==null&&a!=null&&b("cr:8933")!=null){var e=d("MWPThreadThemesFetchQPLLogger").logThemesFetchStart();c("promiseDone")(d("RelayHooks").fetchQuery(r,h!==void 0?h:h=b("MWPThreadThemeProviderQuery.graphql"),{id:(j||(j=d("I64"))).to_string(a)}).toPromise().then(function(a){return b("cr:8933").insertGraphQLThemeResponseIntoDatabase(a==null?void 0:a.messenger_thread_theme,e)}))}},[a,p,r,g]);return n(function(){return p!=null?{backgroundGradientColors:q.filter(function(a){return(j||(j=d("I64"))).equal(a.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").THREADVIEW_BACKGROUND))}),incomingGradientColors:q.filter(function(a){return(j||(j=d("I64"))).equal(a.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:q.filter(function(a){return(j||(j=d("I64"))).equal(a.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:p}:e},[p,q,e])}function a(a){var b=a.children,c=a.defaultTheme;c=c===void 0?d("defaultMWPThreadTheme").defaultThemeWithColors:c;var e=a.themeFbid;a=o();var f=a[0],g=a[1];a=d("Int64Hooks").useMemoInt64(function(){var a;return(a=f)!=null?a:e},[e,f]);var h=p(a,c);a=d("Int64Hooks").useMemoInt64(function(){return{backgroundGradientColors:h.backgroundGradientColors,incomingGradientColors:h.incomingGradientColors,outgoingGradientColors:h.outgoingGradientColors,previewId:f,setPreviewId:g,threadTheme:h.threadTheme}},[h,f]);return m.jsx(d("MWPThreadThemeContext").MWPThreadThemeContext.Provider,{value:a,children:m.jsx(d("MWPThemeCSSProvider.react").MWPThemeCSSProvider,{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThread.react",["CometErrorBoundary.react","CometPlaceholder.react","CometTransientDialogProvider.react","IGDDMModeContextProvider","IGDThreadCapabilitiesContextProvider.react","IGDThreadDetail.react","MAWEditMessageContext.react","MWPAudioPlaybackThreadContext.react","MWPReplyContext.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWV2IsTabFocusedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(17);a=a.thread;var e;b[0]!==a?(e=j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("IGDThreadDetail.react"),{thread:a})}),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==a.threadKey||b[3]!==e?(f=j.jsx(d("IGDDMModeContextProvider").IGDDMModeContextProvider,{threadKey:a.threadKey,children:e}),b[2]=a.threadKey,b[3]=e,b[4]=f):f=b[4];b[5]!==a||b[6]!==f?(e=j.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:j.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:j.jsx(c("IGDThreadCapabilitiesContextProvider.react"),{thread:a,children:f})})}),b[5]=a,b[6]=f,b[7]=e):e=b[7];b[8]!==a.threadKey||b[9]!==e?(f=j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,children:e})}),b[8]=a.threadKey,b[9]=e,b[10]=f):f=b[10];b[11]!==a.threadKey||b[12]!==f?(e=j.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:f}),b[11]=a.threadKey,b[12]=f,b[13]=e):e=b[13];b[14]!==a.themeFbid||b[15]!==e?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:!0,children:j.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a.themeFbid,children:e})})})}),b[14]=a.themeFbid,b[15]=e,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("IGDOpenThreadContainer.react",["I64","IGDNullState.react","IGDThread.react","LSFactory","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;e=b.memo;b.useCallback;var l=b.useEffect,m=b.c;function a(a){var b=m(15);a=a.threadKey;var e=d("useStableValue").useStableI64(a),g=(h||(h=c("useReStore")))();b[0]!==g?(a=function(a){return g.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(i||(i=d("I64"))).of_int32(1),threadKey:a})},"readwrite",void 0,void 0,f.id+":37")},b[0]=g,b[1]=a):a=b[1];var j=a,n;b[2]!==j||b[3]!==e?(a=function(){c("promiseDone")(j(e))},n=[e,j],b[2]=j,b[3]=e,b[4]=a,b[5]=n):(a=b[4],n=b[5]);l(a,n);b[6]!==g.tables.threads||b[7]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.threads,["consistentThreadFbid","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadSubtype","threadType","threadName","parentThreadKey","folderName","inviterId","snippetSenderContactId","memberCount","pauseThreadTimestamp","authorityLevel","threadStatus","eventStartTimestampMs","cannotReplyReason","themeFbid","isHidden","cannotUnsendReason","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(e)},b[6]=g.tables.threads,b[7]=e,b[8]=a):a=b[8];b[9]!==g||b[10]!==e?(n=[g,e],b[9]=g,b[10]=e,b[11]=n):n=b[11];a=d("ReQLSuspense").useFirst(a,n,f.id+":50");if(a!=null){b[12]!==a?(n=k.jsx(c("IGDThread.react"),{thread:a}),b[12]=a,b[13]=n):n=b[13];return n}else{b[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDNullState.react"),{}),b[14]=a):a=b[14];return a}}b=e(a);g["default"]=b}),98);
__d("InfoCircleFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M456 1077.5a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2zm1 5.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75v3.75zm-1-9.5c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSIssueCommunityThreadBlockedContactsFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"get_blocked_contacts_in_community_thread",c.i64.cast([0,499]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityThreadBlockedContactsFetchStoredProcedure";e.exports=a}),null);
__d("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure",["LSIssueCommunityThreadBlockedContactsFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSIssueCommunityThreadBlockedContactsFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,0]):(b=a.item,d[0]=b.capabilities)})},function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}),function(a){var b=a.update;a.item;return b({capabilities:c.i64.and_(d.capabilities==null?c.i64.cast([0,0]):d.capabilities,c.i64.cast([-1,4227858431]))})}))})},function(e){return d[2]=new c.Map(),d[2].set("blockee_id",a[0]),d[2].set("request_id",a[1]),d[2].set("capabilities",d[0]==null?c.i64.cast([0,0]):d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"pseudo_unblock",c.i64.cast([0,194]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactOptimisticPseudoUnblockStoredProcedure";e.exports=a}),null);
__d("LSOptimisticPseudoUnblockStoredProcedure",["LSOptimisticPseudoUnblock","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.blockeeId;d[1]=b.requestId;return c("LSOptimisticPseudoUnblock").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv x3jgonx";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useMemo,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function q(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),i=h._("__JHASH__9LbnXUNEOkH__JHASH__"),j=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),m=h._("__JHASH___nqNxb75_gn__JHASH__"),n=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===o.Unprotected?null:k.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x13vifvy xh8yej3 xhtitgo",children:k.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===o.Protected?k.jsxs(k.Fragment,{children:[f,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?j:b==="Video"?i:l})]}):null]}):k.jsxs(k.Fragment,{children:[f,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?n:b==="Video"?m:p})]})})},d)}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.disabled,g=a.linkProps,h=a.mediaType,j=a.onPress,r=j===void 0?c("emptyFunction"):j;j=a.overlayDisabled;j=j===void 0?!1:j;var s=a.testid,t=a.type;s=a.uncoverable;s=s===void 0?!0:s;var u=a.url;a=a.xstyle;var v=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=n(o.Protected),x=w[0],y=w[1],z=x===o.Unprotected;w=x===o.Blurred;var A=m(null),B=l(function(){return{url:"#"}},[]),C=l(function(){if(t==="video")return;if(u!=null)return{backgroundImage:"url("+u+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[u,t]);v=k.jsxs("div",{className:(i||(i=c("stylex")))(p.container,v==="Inbox"?p.containerForInbox:!1,s?p.containerUncoverable:!1),children:[k.jsx("div",{style:C}),k.jsx("div",{"aria-hidden":!z,className:i(p.overlay,!z&&p.overlayDisabled,w&&p.overlayBlurred),children:e}),z?null:k.jsx("div",{className:(i||(i=c("stylex")))(p.sneezeguard,w&&p.sneezeguardTransparent)}),k.jsx(q,{mediaType:h,state:x,uncoverable:s})]});return!s?k.jsx("div",{className:(i||(i=c("stylex")))(a,p.pressable),"data-testid":void 0,children:v}):k.jsx(c("MWXPressable.react"),{"aria-label":z?b:void 0,disabled:f,linkProps:z?g:B,onPress:function(){z?r():y(function(a){switch(a){case o.Protected:return o.Blurred;case o.Blurred:c("setTimeout")(function(){var a=A.current;if(a!=null)return a.focus()},0);return o.Unprotected;case o.Unprotected:return a}})},overlayDisabled:j,ref:A,testid:void 0,xstyle:[a,p.pressable],children:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWUnvaultedText",["cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=function(a,c){if(b("cr:2472")==null||c==null||c==="")return c;return a?b("cr:2472").unvaultOrThrow(c):b("cr:2472").unvault(c,!0)};function a(a,b){var c=i(function(){return j(a,b)},[a,b]);return c}g.getMWUnvaultedText=j;g.useMWUnvaultedText=a}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.isSecureMessage,e=a.maxLength,f=a.maxLines,g=a.seeLessLinkProps,i=a.seeMoreLinkProps,l=a.text,m=a.truncationStyle,n=a.outgoing,o=a.ranges,p=a.renderers,q=a.transforms;a=a.xstyleForText;b=d("MWUnvaultedText").useMWUnvaultedText(b,l);return j.jsx(c("MWXText.react"),{color:n?"white":"primary",type:"body3",children:j.jsx("div",{className:(h||(h=c("stylex")))(k.regular,a,n?k.outgoing:k.incoming),dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:e,maxLines:f,ranges:o,renderers:p,seeLessLinkProps:g,seeMoreLinkProps:i,text:b||"",transforms:(l=q)!=null?l:d("MWChatTextTransform").textTransforms,truncationStyle:m,truncationThreshold:2,withParagraphs:!0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWPEditMessageHistoryListText.react","MWXMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={border:{boxShadow:"x7h7r2v",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginBottom:"xjpr12u",minWidth:"xeuugli",opacity:"xbyyjgo",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingEnd:"x1k62owy",$$css:!0},messageBubbleOutgoing:{paddingStart:"x6plb61",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=a.isReply,d=a.isSecureMessage,e=a.messageHistoryEntry,f=a.outgoing,g=a.renderMessageActions;a={color_DEPRECATED:f?"white":void 0,weight_DEPRECATED:"semibold"};var i=k(!1),m=i[0],n=i[1];return j.jsxs("div",{className:(h||(h=c("stylex")))(l.inner,f&&l.outgoing),"data-testid":void 0,onMouseEnter:function(){g!=null&&n(!0)},onMouseLeave:function(){g!=null&&n(!1)},role:"none",children:[j.jsx("div",{className:h(g?l.makeSpaceForMessageActions:f?l.messageBubbleOutgoing:l.messageBubbleIncoming),children:j.jsx(c("MWXMessageBubble.react"),{align:f?"right":"left",color:f?"outgoing":"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",xstyle:!f&&b&&l.border,children:j.jsx(c("MWPEditMessageHistoryListText.react"),{isSecureMessage:d,maxLength:300,maxLines:3,outgoing:f,ranges:[],seeLessLinkProps:a,seeMoreLinkProps:a,text:e.messageContent||"",truncationStyle:"see-more-and-less"})})}),g&&m?j.jsx("div",{className:"xc26acl x78zum5",children:g(e)}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPEditedMessageHistoryEntry=a}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},[e,a],f.id+":29");return j(function(){return b?g.slice(0,-1):g},[g,b])}g["default"]=a}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","cr:4654","qex","qpl","react","stylex","useEditMessageHistoryLS","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingStart:"xd06s5i",$$css:!0},outgoing:{display:"x1lliihq",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var e=a.editCount,f=a.isReply,g=a.isSecureMessage,i=a.msgId,o=a.outgoing,p=a.renderMessageActions,q=a.threadType;a=a.xstyle;var r=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},s=r.showEdits;r=c("useEditMessageHistoryLS")(i,g);i=b("cr:4654")(i,g);var t=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("EditMessageHistory",i,r,g&&((i=c("qex")._("228"))!=null?i:!1),n);l(function(){s&&(c("QPLUserFlow").addAnnotations(c("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:g},"int":{threadType:(j||(j=d("I64"))).to_int32(q)}}),t!=null&&e!=null&&t.length===(j||(j=d("I64"))).to_int32(e)?c("QPLUserFlow").endSuccess(c("qpl")._(1056849214,"1777")):c("QPLUserFlow").endFailure(c("qpl")._(1056849214,"1777"),"no edits found"))},[t,e,s,g,q]);r=k.jsx("div",{className:(h||(h=c("stylex")))(m.base,o?m.outgoing:m.incoming,a),role:"none",children:t.map(function(a,b){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:f,isSecureMessage:g,messageHistoryEntry:a,outgoing:o,renderMessageActions:p},b)})});return s?r:null}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){return(j||(j=d("I64"))).compare(a.pk,b.pk)}g["default"]=a}),98);
__d("MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26068956082718275"}),null);
__d("MWPThreadThemeQuery_AllThemesQuery.graphql",["MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"version"}],c=[{kind:"Variable",name:"version",variableName:"version"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"app_color_mode",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"composer_background_color",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"background_gradient_colors",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"title_bar_button_tint_color",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"inbound_message_gradient_colors",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title_bar_text_color",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"composer_tint_color",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title_bar_attribution_color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"composer_input_background_color",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"hot_like_color",storageKey:null},r=[d,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],s={alias:null,args:null,concreteType:"MessengerThreadBackgroundAsset",kind:"LinkedField",name:"background_asset",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"message_text_color",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"message_border_color",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"message_border_width",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"inbound_message_text_color",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_color",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_width",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"primary_button_background_color",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"title_bar_background_color",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"tertiary_text_color",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"reaction_pill_background_color",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"secondary_text_color",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"normal_theme_id",storageKey:null};r={alias:null,args:null,concreteType:"MessengerThreadThemeIconAsset",kind:"LinkedField",name:"icon_asset",plural:!1,selections:r,storageKey:null};d=[d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,r,{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"alternative_themes",plural:!0,selections:[d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,H,z,A,B,C,D,E,F,G,r],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWPThreadThemeQuery_AllThemesQuery",selections:[{alias:null,args:c,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_themes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWPThreadThemeQuery_Fragment",selections:d,args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWPThreadThemeQuery_AllThemesQuery",selections:[{alias:null,args:c,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_themes",plural:!0,selections:d,storageKey:null}]},params:{id:b("MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation"),metadata:{},name:"MWPThreadThemeQuery_AllThemesQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWPThreadThemeQuery_Fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"MWPThreadThemeQuery_Fragment"};e.exports=a}),null);
__d("MWPThreadThemeQuery",["CometRelay","I64","LSDatabaseSingleton","MWPColorUtils","MWPThreadThemeQuery_AllThemesQuery.graphql","MWPThreadThemeQuery_Fragment.graphql","MWPThreadThemesFetchQPLLogger","MessengerAppColorMode","MessengerThreadThemeGradientType","Promise","asyncToGeneratorRuntime","nullthrows","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=(l||d("react")).useEffect,p=h!==void 0?h:h=b("MWPThreadThemeQuery_Fragment.graphql");function q(a){return a==null?null:d("MWPColorUtils").hexToI64(a)}function r(a){switch(a){case"LIGHT":return(m||(m=d("I64"))).of_int32(c("MessengerAppColorMode").NORMAL);case"DARK":return(m||(m=d("I64"))).of_int32(c("MessengerAppColorMode").DARK)}return(m||(m=d("I64"))).of_int32(c("MessengerAppColorMode").NORMAL)}function s(a,b,c,d){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){for(e of e.entries()){var g=e[0],h=e[1];yield b.gradient_colors.put({color:c("nullthrows")(q(h)),gradientIndex:(m||(m=d("I64"))).of_int32(g+10*f),themeFbid:a,type_:m.of_int32(f)})}});return t.apply(this,arguments)}function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g;a=d("CometRelay").readInlineData(p,a);if(a==null){e!=null&&d("MWPThreadThemesFetchQPLLogger").logThemesFetchEnd(e,"themes_null");return}g=[].concat((g=a==null?void 0:a.alternative_themes)!=null?g:[]);g.push(a);for(a of g){var h;if(a==null)continue;g=(m||(m=d("I64"))).of_string(c("nullthrows")(a.id));yield s(g,b,a.background_gradient_colors,c("MessengerThreadThemeGradientType").THREADVIEW_BACKGROUND);yield s(g,b,a.gradient_colors,c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND);yield s(g,b,a.inbound_message_gradient_colors,c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND);yield b.thread_themes.put({accessibilityLabel:(h=a.accessibility_label)!=null?h:"",appColorMode:r(a.app_color_mode),backgroundUrl:(h=a.background_asset)==null?void 0:(h=h.image)==null?void 0:h.uri,composerBackgroundColor:q(a.composer_background_color),composerInputBackgroundColor:q(a.composer_input_background_color),composerTintColor:q(a.composer_tint_color),description:a.description,fallbackColor:q(c("nullthrows")(a.fallback_color)),fbid:g,hotLikeColor:a.hot_like_color,iconUrl:(h=a.icon_asset)==null?void 0:(g=h.image)==null?void 0:g.uri,incomingMessageBorderColor:q(a.inbound_message_border_color),incomingMessageBorderWidth:a.inbound_message_border_width,incomingMessageTextColor:q(a.inbound_message_text_color),isDeprecated:!!a.is_deprecated,messageBorderColor:q(a.message_border_color),messageBorderWidth:a.message_border_width?(m||(m=d("I64"))).of_int32(a.message_border_width):void 0,messageTextColor:q(a.message_text_color),normalThemeId:m.of_string(c("nullthrows")(a.normal_theme_id)),primaryButtonBackgroundColor:q(a.primary_button_background_color),reactionPillBackgroundColor:q(a.reaction_pill_background_color),reverseGradiantsForRadial:!!a.reverse_gradients_for_radial,secondaryTextColor:q(a.secondary_text_color),tertiaryTextColor:q(a.tertiary_text_color),themeIdx:f!=null?(m||(m=d("I64"))).of_int32(f):(m||(m=d("I64"))).of_string(c("nullthrows")(a.id)),titlebarAttributionTextColor:q(a.title_bar_attribution_color),titlebarBackgroundColor:q(a.title_bar_background_color),titlebarButtonTintColor:q(a.title_bar_button_tint_color),titlebarTextColor:q(a.title_bar_text_color)})}e!=null&&(d("MWPThreadThemesFetchQPLLogger").logPoint(e,"insert_themes_to_db_end"),d("MWPThreadThemesFetchQPLLogger").logThemesFetchEnd(e))});return v.apply(this,arguments)}function a(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("MWPThreadThemesFetchQPLLogger").logPoint(b,"insert_themes_to_db_start");var c=(yield (n||(n=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return c.runInTransaction(function(c){return u(a,c,b)},"readwrite",void 0,void 0,f.id+":305")});return w.apply(this,arguments)}function e(){var a=(k||(k=c("useReStore")))(),e=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("MWPThreadThemeQuery_AllThemesQuery.graphql"),{version:"default"});o(function(){c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield (j||(j=b("Promise"))).all(e.messenger_thread_themes.map(function(b,c){return u(b,a,void 0,c+1)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":342"))},[e,a])}g.MWPThreadThemeQuery_Fragment=p;g.insertGraphQLThemeResponseIntoDatabaseWithTxn=u;g.insertGraphQLThemeResponseIntoDatabase=a;g.useFetchAllThreadThemes=e}),98);
__d("PhotoAddFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M107.5 923.64a.682.682 0 0 1-.07-.003l-1.567-.146-.148 1.579a.75.75 0 0 1-1.493-.14l.148-1.579-1.43-.134a.75.75 0 0 1-.677-.816.744.744 0 0 1 .816-.677l1.431.134.133-1.428a.749.749 0 1 1 1.493.14l-.133 1.428 1.567.146a.75.75 0 0 1-.07 1.497m1.126-6.13-5.797-.51a1.512 1.512 0 0 0-1.63 1.377l-.693 7.966c-.035.402.088.794.347 1.104.26.31.622.501 1.022.537l5.795.51a1.485 1.485 0 0 0 1.098-.35c.308-.26.498-.625.533-1.027l.693-7.967a1.506 1.506 0 0 0-.347-1.104 1.494 1.494 0 0 0-1.022-.537",transform:"translate(352 157)"}),i.jsx("path",{d:"M100.27 927.842a2.528 2.528 0 0 1-.565-1.83l.165-1.926-.403-4.71a.183.183 0 0 1 .042-.132.178.178 0 0 1 .12-.065l.665-.06.09-1.037c.013-.167.046-.329.09-.484l-.973.087c-.437.038-.833.25-1.116.595a1.696 1.696 0 0 0-.379 1.227l.638 7.46c.038.448.245.853.582 1.142a1.61 1.61 0 0 0 1.2.389l.574-.052a2.456 2.456 0 0 1-.73-.604",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ProfileFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M104 923.75c-.69 0-1.25-.673-1.25-1.5 0-1.5.908-1.5 1.25-1.5.342 0 1.25 0 1.25 1.5 0 .827-.56 1.5-1.25 1.5",transform:"translate(352 156)"}),i.jsx("path",{d:"M104 920c-1.428 0-2 1.008-2 2.25s.895 2.25 2 2.25 2-1.008 2-2.25-.572-2.25-2-2.25m0 1.5c.28 0 .5 0 .5.75 0 .429-.264.75-.5.75s-.5-.321-.5-.75c0-.75.22-.75.5-.75",transform:"translate(352 156)"}),i.jsx("path",{fillRule:"nonzero",d:"M110 923.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0zm-1 0a5 5 0 1 0-10 0 5 5 0 0 0 10 0z",transform:"translate(352 156)"}),i.jsx("path",{fillRule:"nonzero",d:"M108.247 927.568c-.15-1.457-1.501-2.568-3.092-2.568h-2.31c-1.59 0-2.942 1.111-3.092 2.568l.994.103c.096-.927 1.001-1.67 2.098-1.67h2.31c1.097 0 2.002.743 2.098 1.67l.994-.103z",transform:"translate(352 156)"}),i.jsx("path",{d:"M104 929c1.463 0 2.787-.528 3.75-1.38-.123-1.184-1.243-2.12-2.595-2.12h-2.31c-1.352 0-2.472.936-2.595 2.12.963.852 2.287 1.38 3.75 1.38",transform:"translate(352 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("RefreshRightFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M103.5 918.5a5.5 5.5 0 1 0 3.248 1.061.75.75 0 1 0-.887 1.21A4 4 0 1 1 103.5 920a.75.75 0 1 0 0-1.5z",transform:"translate(352.5 156)"}),i.jsx("path",{d:"M102.47 919.97a.75.75 0 0 0 1.06 1.06l1.25-1.25a.75.75 0 0 0 0-1.06l-1.25-1.25a.75.75 0 0 0-1.06 1.06l.72.72-.72.72z",transform:"translate(352.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.fill,d=a.isRotated;d=d===void 0?!1:d;a=a.size;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.moreActionsIcon,k.fillGrey,d?k.rotated:k.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}m.displayName=m.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=l;g.Emoji=m}),98);
__d("getCSAMBlockQuery",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.thread_limits).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).map(function(a){var b=a[0];a=a[1];return{thread:a,threadLimit:b}});return a}g["default"]=a}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),j=d("LSMessagingThreadTypeUtil").isGroup(a),k=(h||(h=d("I64"))).to_string(g);g=(a=f)!=null?a:{};var l=g.hasMissingMessage,m=babelHelpers.objectWithoutPropertiesLoose(g,["hasMissingMessage"]);g=(a=f)!=null?a:{};var n=g.MAW_vs_EB_numOfMissingInReference,o=g.MAW_vs_EB_numOfMissingInTarget,p=g.UI_vs_EB_numOfMissingInReference,q=g.UI_vs_EB_numOfMissingInTarget,r=g.UI_vs_MAW_numOfMissingInReference,s=g.UI_vs_MAW_numOfMissingInTarget,t=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:m,has_message_missing:l,is_secured:i,missing_messages_maw_vs_eb_missing_in_reference_count:n,missing_messages_maw_vs_eb_missing_in_target_count:o,missing_messages_page_size:t,missing_messages_ui_vs_eb_missing_in_reference_count:p,missing_messages_ui_vs_eb_missing_in_target_count:q,missing_messages_ui_vs_maw_missing_in_reference_count:r,missing_messages_ui_vs_maw_missing_in_target_count:s,other_user_fbid:j||i?void 0:k,thread_fbid:k}})}}g["default"]=a}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useAdminMessageCTATitleLS",["I64","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(c=b.adminMsgCtaId)!=null?c:(h||(h=d("I64"))).neg_one)},[a,b],f.id+":27");return c==null?void 0:c.title}g["default"]=a}),98);
__d("useBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSIssueCommunityThreadBlockedContactsFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWCMThreadTypes.react","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","mwCMIsAnyCMThread","promiseDone","react","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=i||d("react");var l=e.useCallback,m=e.useEffect,n=e.useRef;function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MWCMThreadTypes.react").isBroadcastThread(e);c("mwCMIsAnyCMThread")(e)&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"blocked_contacts_fetch"));var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));e=d("ReQL").union(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED))),d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange(j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)))).filter(function(a){var b=a[0];a=a[1];if(g!=null&&!(k||(k=d("I64"))).equal(a.id,g))if(!f||b.isAdmin===!0)return!0;else return b.isModerator===!0;else return!1}).map(function(a){a[0];a=a[1];return a});return e});return p.apply(this,arguments)}function q(a,b,e){e=d("LSMessagingThreadTypeUtil").isGroup(e);var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=!b&&a!=null&&a.length>0&&e;return f}function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial")),e=a[0],f=c("useAsyncReStore")(),g=n(function(){});m(function(){return function(){g.current()}},[]);return l(function(a){var i=a.onOptIn,j=a.onProceed,k=a.onShow,l=a.shouldSubscribe,m=l===void 0?!1:l,n=a.thread,p=a.threadKey;c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(n==null)return j();a=(yield o(a,p,n.threadType));var b=function(a){if(a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(p),f=q(a,p,n.threadType);if(!f)return j();f=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_wellbeing");i&&i();return j()};m&&g.current();k&&k();return e({blockees:a||[],onOptIn:f,thread:n},function(){})};m&&(g.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},[f,e])}g.getBlockedUserQuery=o;g.shouldShowBlockedUserInterstitial=q;g.useBlockedUserInterstitial=a}),98);
__d("useEditMessageHistoryMAWNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return[]}f["default"]=a}),66);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","ReQL","getCSAMBlockQuery","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(){var a=c("useAsyncReStore")(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync")),e=b[0],f=k(function(){});j(function(){return function(){f.current()}},[]);return i(function(b){var g=b.onProceed,h=b.onShow,i=b.shouldSubscribe,j=i===void 0?!1:i,k=b.threadKey;c("promiseDone")(a,function(a){a=c("getCSAMBlockQuery")(a,k);var b=function(a){a=a||{};var b=a.thread;a=a.threadLimit;if(b==null||a==null)return g&&g();var d=c("shouldApplyCSAMBlock")(a);if(!d)return g&&g();j&&f.current();h&&h();return e({thread:b,threadLimit:a})};j&&(f.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b(c.value)}));c("promiseDone")(d("ReQL").firstAsync(a),b)})},[a,e])}g["default"]=a}),98);
__d("usePseudoBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticPseudoUnblockStoredProcedure","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(i||(i=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(26,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return n.apply(this,arguments)}function o(a,b){b=d("LSMessagingThreadTypeUtil").isOneToOne(b);a=a!=null&&b;return a}function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPseudoBlockWarningCardDialog.react").__setRef("usePseudoBlockedUserInterstitial")),e=a[0],g=c("useAsyncReStore")(),h=l(function(){});k(function(){return function(){h.current()}},[]);return j(function(a){var i=a.damagingActionsEntryPoint,j=a.onOptIn,k=a.onProceed,l=a.onShow,n=a.shouldSubscribe,p=n===void 0?!1:n,q=a.thread,r=a.threadKey;c("promiseDone")(g,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m(a,r)),g=function(b){if(q==null||b==null)return k();var d=o(b,q.threadType);if(!d)return k();d=function(d){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticPseudoUnblockStoredProcedure")(c("LSFactory")(a),{blockeeId:b.id,requestId:d})},"readwrite",void 0,void 0,f.id+":118"),function(){k(),j&&j()},function(){k(),j&&j()});return};p&&h.current();l&&l();return e({contact:b,entryPoint:i,onOptIn:d,thread:q},function(){})};p&&(h.current=b.subscribe(function(a,b){if(b.operation==="delete")return;g(b.value)}));c("promiseDone")(d("ReQL").firstAsync(b),g)});return function(b){return a.apply(this,arguments)}}())},[g,e])}g.getPseudoBlockedQuery=m;g.shouldShowPseudoBlockedInterstitial=o;g.usePseudoBlockedUserInterstitial=a}),98);
__d("useRestrictedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","gkx","promiseDone","react","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef;function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(j||(j=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return o.apply(this,arguments)}function p(a,b,e){var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=d("LSMessagingThreadTypeUtil").isGroup(e);e=!b&&c("gkx")("24036")&&a.length>0&&f;return e}function a(){var a=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRestrictedUserInterstitialDialog.react").__setRef("useRestrictedUserInterstitial")),f=e[0],g=m(function(){});l(function(){return function(){g.current()}},[]);return k(function(e){var i=e.onOptIn,j=e.onProceed,k=e.onShow,l=e.shouldSubscribe,m=l===void 0?!1:l,o=e.thread,q=e.threadKey;c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield n(a,q));var b=function(a){if(o==null||a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(q),e=p(a,q,o.threadType);if(!e)return j();e=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for RestrictedUserInterstitial","messenger_web_wellbeing");i&&i();return j()};m&&g.current();k&&k();return f({onOptIn:e,restrictedUsers:a,thread:o},function(){})};m&&(g.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},[a,f])}g.getRestrictedUserQuery=n;g.shouldShowRestrictednterstitial=p;g.useRestrictedUserInterstitial=a}),98);
__d("useIntegrityBlockInterstitial",["ReQL","promiseDone","react","useAsyncReStore","useBlockedUserInterstitial","useMaybeShowCSAMBlockAsync","usePseudoBlockedUserInterstitial","useRestrictedUserInterstitial"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("usePseudoBlockedUserInterstitial").usePseudoBlockedUserInterstitial(),b=d("useBlockedUserInterstitial").useBlockedUserInterstitial(),e=d("useRestrictedUserInterstitial").useRestrictedUserInterstitial(),f=c("useMaybeShowCSAMBlockAsync")(),g=c("useAsyncReStore")();return i(function(h){var i=h.damagingActionsEntryPoint,j=h.onProceed,k=h.onShow,l=h.threadKey;c("promiseDone")(g,function(g){return c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(l)),function(c){return f({onProceed:function(){return a({damagingActionsEntryPoint:i,onProceed:function(){return b({onProceed:function(){return e({onProceed:j,onShow:k,thread:c,threadKey:l})},onShow:k,thread:c,threadKey:l})},onShow:k,thread:c,threadKey:l})},onShow:k,threadKey:l})})})},[b,e,a,f,g])}g["default"]=a}),98);
__d("useIsAdsAIChat",["AdsAIMessengerUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a)},[b,a],f.id+":23"),g=j(function(){return e.some(function(a){return d("AdsAIMessengerUtils").isAdsAIParticipant(a.contactId)})},[e]);return g}g["default"]=a}),98);
__d("useMAWSeparateReadsSelectorArraysLoggerNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){return}f["default"]=a}),66);
__d("useMAWSeparateReadsSelectorObjectLoggerNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return}f["default"]=a}),66);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","I64","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.consistentThreadFbid,e=a.entryPoint,f=a.threadKey,g=a.threadType,i=c("MessengerWebUXLogger").useInteractionLogger(),j=c("CometDebounce")(function(){var a;e!=null&&c("logMessengerWebFalcoEvent")({threadKey:f,threadType:g},"seen_receipt",e);i==null?void 0:i({entryPoint:e,eventName:"read_receipt",extraData:{consistent_thread_fbid:(h||(h=d("I64"))).to_string((a=b)!=null?a:(h||(h=d("I64"))).zero)},threadKey:f,threadType:g})});return d("Int64Hooks").useCallbackInt64(function(){return j()},[j])}g["default"]=a}),98);